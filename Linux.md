# Linux Notes

[[TOC]]

## Bash Docs

See shellnotes and bash notes


[Bash Beginners Guide](https://tldp.org/LDP/Bash-Beginners-Guide/html/Bash-Beginners-Guide.html)

[The Advanced Bash Scripting Guide](https://tldp.org/LDP/abs/html/index.html)

[SHELLdorado - Links](http://www.shelldorado.com/links/)

[Bash Commands Linuxize](https://linuxize.com/tags/terminal/)

- [GNU Bash Manual](https://www.gnu.org/manual/) - gzip archives.
- [Documentation and Examples](http://www.bashcookbook.com/bashinfo/) - bash cook book.
- [bash tips](https://www.ukuug.org/events/linux2003/papers/bash_tips/) - Configure the bash terminal.
- [Bash pitfalls](http://mywiki.wooledge.org/BashPitfalls) - GreyCat's wiki.

- [Bash Manual](https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#SEC_Contents)


## Tips, Tutorials and Documentation

[All Man topics Alphabetically](http://man7.org/linux/man-pages/dir_all_alphabetic.html)

Links from [SS64](https://ss64.com/links/bash.html)

- [The Linix Documentation Project](http://tldp.org/) & [Linux man pages online](http://man7.org/linux/man-pages/index.html).
- [Explain Shell](https://explainshell.com/) - Enter an Ubuntu (bash) command-line to see the help text that matches each argument.
- [Shell Check](https://www.shellcheck.net/) - Find bugs in your shell scripts.
- [Shell Check](https://github.com/koalaman/shellcheck) - Static analysis tool - alerts for many common beginner's syntax errors.
- [Command Linefu](https://www.commandlinefu.com/commands/browse/sort-by-votes)- head to head voting on best one line bash tricks. Lots of gold.
- [Debian documentation](https://www.debian.org/doc/)
- [The Linux Cookbook](http://www.dsl.org/cookbook/cookbook_toc.html) - Tips and Techniques.
- [Google Shell Style guide](https://google.github.io/styleguide/shell.xml) - some short, sensible advice on coding style.
- [Hyperpolyglot](http://hyperpolyglot.org/shell) - Comparison of bash vs cmd vs PowerShell.
- [Linux Shell Scripting Tutorial](https://bash.cyberciti.biz/guide/Main_Page) - LSST
- [Unix/Linux/BSD Toolbox](http://cb.vu/unixtoolbox.xhtml) - Concise summary of commands.
- [Administration shell scripts](https://www.comp.eonworks.com/scripts/scripts.html) - Dawid Michalczyk.
- [grymoire.com](http://www.grymoire.com/Unix/) - home for UNIX wizards.
- [Introduction to text manipulation on UNIX-based systems](https://www.ibm.com/developerworks/aix/library/au-unixtext/index.html#25.Resources|outline)
- [LWN](https://lwn.net/) - Linux Weekly News
- [UbuntuForums](https://ubuntuforums.org/forumdisplay.php?f=100) - HowTo guides and forum
- [Introduction to the Ubuntu terminal](https://help.ubuntu.com/community/UsingTheTerminal)
- [UNIX FAQ](http://www.faqs.org/faqs/unix-faq/shell/)
- [TCP and UDP port numbers](https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers) - wikipedia
- [JustLinux](http://forums.justlinux.com/) - Forum.
- [System76](https://system76.com/desktops) - OSHWA certified open source hardware



-   [Unix / Linux - Home](https://www.tutorialspoint.com/unix/index.htm)
-   [Unix / Linux - Getting Started](https://www.tutorialspoint.com/unix/unix-getting-started.htm)
-   [Unix / Linux - File Management](https://www.tutorialspoint.com/unix/unix-file-management.htm)
-   [Unix / Linux - Directories](https://www.tutorialspoint.com/unix/unix-directories.htm)
-   [Unix / Linux - File Permission](https://www.tutorialspoint.com/unix/unix-file-permission.htm)
-   [Unix / Linux - Environment](https://www.tutorialspoint.com/unix/unix-environment.htm)
-   [Unix / Linux - Basic Utilities](https://www.tutorialspoint.com/unix/unix-basic-utilities.htm)
-   [Unix / Linux - Pipes & Filters](https://www.tutorialspoint.com/unix/unix-pipes-filters.htm)
-   [Unix / Linux - Processes](https://www.tutorialspoint.com/unix/unix-processes.htm)
-   [Unix / Linux - Communication](https://www.tutorialspoint.com/unix/unix-communication.htm)
-   [Unix / Linux - The vi Editor](https://www.tutorialspoint.com/unix/unix-vi-editor.htm)

-   Unix / Linux Shell Programming
-   [Unix / Linux - Shell Scripting](https://www.tutorialspoint.com/unix/shell_scripting.htm)
-   [Unix / Linux - What is Shell?](https://www.tutorialspoint.com/unix/unix-what-is-shell.htm)
-   [Unix / Linux - Using Variables](https://www.tutorialspoint.com/unix/unix-using-variables.htm)
-   [Unix / Linux - Special Variables](https://www.tutorialspoint.com/unix/unix-special-variables.htm)
-   [Unix / Linux - Using Arrays](https://www.tutorialspoint.com/unix/unix-using-arrays.htm)
-   [Unix / Linux - Basic Operators](https://www.tutorialspoint.com/unix/unix-basic-operators.htm)
-   [Unix / Linux - Decision Making](https://www.tutorialspoint.com/unix/unix-decision-making.htm)
-   [Unix / Linux - Shell Loops](https://www.tutorialspoint.com/unix/unix-shell-loops.htm)
-   [Unix / Linux - Loop Control](https://www.tutorialspoint.com/unix/unix-loop-control.htm)
-   [Unix / Linux - Shell Substitutions](https://www.tutorialspoint.com/unix/unix-shell-substitutions.htm)
-   [Unix / Linux - Quoting Mechanisms](https://www.tutorialspoint.com/unix/unix-quoting-mechanisms.htm)
-   [Unix / Linux - IO Redirections](https://www.tutorialspoint.com/unix/unix-io-redirections.htm)
-   [Unix / Linux - Shell Functions](https://www.tutorialspoint.com/unix/unix-shell-functions.htm)
-   [Unix / Linux - Manpage Help](https://www.tutorialspoint.com/unix/unix-manpage-help.htm)

-   Advanced Unix / Linux
-   [Unix / Linux - Regular Expressions](https://www.tutorialspoint.com/unix/unix-regular-expressions.htm)
-   [Unix / Linux - File System Basics](https://www.tutorialspoint.com/unix/unix-file-system.htm)
-   [Unix / Linux - User Administration](https://www.tutorialspoint.com/unix/unix-user-administration.htm)
-   [Unix / Linux - System Performance](https://www.tutorialspoint.com/unix/unix-system-performance.htm)
-   [Unix / Linux - System Logging](https://www.tutorialspoint.com/unix/unix-system-logging.htm)
-   [Unix / Linux - Signals and Traps](https://www.tutorialspoint.com/unix/unix-signals-traps.htm)

-   Unix / Linux Useful Resources
-   [Unix / Linux - Questions & Answers](https://www.tutorialspoint.com/unix/unix_questions_answers.htm)
-   [Unix / Linux - Useful Commands](https://www.tutorialspoint.com/unix/unix-useful-commands.htm)
-   [Unix / Linux - Quick Guide](https://www.tutorialspoint.com/unix/unix-quick-guide.htm)
-   [Unix / Linux - Builtin Functions](https://www.tutorialspoint.com/unix/unix-builtin-functions.htm)
-   [Unix / Linux - System Calls](https://www.tutorialspoint.com/unix_system_calls/index.htm)
-   [Unix / Linux - Commands List](https://www.tutorialspoint.com/unix_commands/index.htm)
-   [Unix / Linux - Useful Resources](https://www.tutorialspoint.com/unix/unix-useful-resources.htm)
-   [Unix / Linux - Discussion](https://www.tutorialspoint.com/unix/unix-discussion.htm)

-   Selected Reading

### Bash

- Greg Wooledge [Bash Guide](https://mywiki.wooledge.org/BashGuide) and [FAQ](https://mywiki.wooledge.org/BashFAQ)
- [Bash Guide for beginners](http://tldp.org/LDP/Bash-Beginners-Guide/html/index.html) - Machtelt Garrels.
- [GNU Bash Manual](https://www.gnu.org/manual/) - gzip archives.
- [Documentation and Examples](http://www.bashcookbook.com/bashinfo/) - bash cook book.
- [bash tips](https://www.ukuug.org/events/linux2003/papers/bash_tips/) - Configure the bash terminal.
- [Bash pitfalls](http://mywiki.wooledge.org/BashPitfalls) - GreyCat's wiki.

## Useful Terminal Apps

ncdu - shows du (disk usage) in a curses form
mc -  a curses file browser

joe - alternative to nano


ccat - highlight cat


### Docker
ctop - nice looking docker monitor
dry


### Monitors
bashtop - system viewer
bpytop - an updated version of te above
mtr - my traceroute, monitor a connection
tcpdump - dumps sniffed packet headers
iftop - interface top
bwm-ng - a bandwidth monitor
nmon - nice graphical monitor
sar - can put out a slew of data

### Network
fping - check if its connected
nload - console graphical net monitor


- info - simply named- adds the command for the GNU coreutils doc browser, has more info than man.
- micro -  a nicer nano - CURL https://getmic.ro | bash
- xclip 
- xsel - needed for clipboard in terminal
- aptitude
- mc

## Alias list


alias log="tail /var/log/syslog"
alias llg="tac /var/log/syslog | less"
alias clr="clear"
alias ip='ip -c'
alias lir="ls -liR"
alias cd..="cd .."
alias cat="ccat"


## WSL (Windows Subsystem Linux)

### Install ZSH

[ZSH in WSL](https://medium.com/@urvinh/set-and-use-zsh-as-default-shell-in-wsl-on-windows-10-the-right-way-4f30ed9592dc)

[ZSH in VS Code (Mac)](https://medium.com/@hippojs.guo/vs-code-fix-fonts-in-terminal-761cc821ef41)

[Oh My ZSH](https://ohmyz.sh/)

[Antigen]()

ZSH, ZSH-antigen (package manager)

```bash
sudo apt-get install zsh zsh-common zsh-antigen

sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

chsh -s $(which zsh)
```

1- installs ZSH, ZSH-common, and antigen (a theme manager)

Sample `.zshrc`

```bash
source /path-to-antigen/antigen.zsh

#Load the oh-my-zsh's library.
antigen use oh-my-zsh

#Bundles from the default repo (robbyrussell's oh-my-zsh).
antigen bundle git
antigen bundle heroku
antigen bundle pip
antigen bundle lein
antigen bundle command-not-found

#Syntax highlighting bundle.
antigen bundle zsh-users/zsh-syntax-highlighting

#Load the theme.
antigen theme robbyrussell

#Tell Antigen that you're done.
antigen apply
```

## Setup and Running

### TTYs

Pressing [[escape]]

`Alt-2` gets out of the boot screen and gets to a prompt.  `Alt-1` returns.

### SSH (and SCP) Enable

At least for Ubuntu


#Adding
#one site says explicitly uninstall then install
sudo apt remove openssh-server
sudo apt install openssh-server
sudo nano /etc/ssh/sshd_config
- change port
- change PasswordAuthentication yes
- add AllowUsers andy
sudo systemctl status ssh
sudo service ssh --full-restart
sudo ufw allow ssh
sudo nano /etc/hosts.allow
sshd : 192.168.0.

#stop
#start
#Disable enable
sudo systemctl {stop, start, disable, enable} ssh
sudo systenctl start ssh
sudo systenctl stop ssh

### UFW Firewall

Usage: ufw COMMAND

sudo ufw allow ssh
sudo ufw app list

Commands:
 enable                          enables the firewall
 disable                         disables the firewall
 default ARG                     set default policy
 logging LEVEL                   set logging to LEVEL
 allow ARGS                      add allow rule
 deny ARGS                       add deny rule
 reject ARGS                     add reject rule
 limit ARGS                      add limit rule
 delete RULE|NUM                 delete RULE
 insert NUM RULE                 insert RULE at NUM
 route RULE                      add route RULE
 route delete RULE|NUM           delete route RULE
 route insert NUM RULE           insert route RULE at NUM
 reload                          reload firewall
 reset                           reset firewall
 status                          show firewall status
 status numbered                 show firewall status as numbered list of RULES
 status verbose                  show verbose firewall status
 show ARG                        show firewall report
 version                         display version information

Application profile commands:
 app list                        list application profiles
 app info PROFILE                show information on PROFILE
 app update PROFILE              update PROFILE
 app default ARG                 set default application policy


### Work Computer

WSL - Windows Subsystem for Linux

alt 2639

## File Structure

- `/` - **Root**
   - `bin` - **Binary** - biinaries are stored here, like *ls* and other things a regular single user might use.
   - `sbin` - System Binaries -- binary tools a system administrator might use.
   - `boot` - boot related files
   - `dev` - devices- devoces are mounted here. along with their drivers.
      - `sda` 
      - `sdb` ... etc- hard disk mounting.
   - `etc` - Et cetera - "edit to configure" mneumonic- system wide settings- not per user settings
     - `network` - network settings location
     - `init.d` - startup directory
   - `home` 
   - `lib`
      -`lib32`, `lib64` - libraries required for bin
   - `media` - Media directory, used to be called `mnt`  or in general most OS'es manage media for you by mounting devices (typically removable devices) while the user can use mount.  Things like USB sticks, external drives are found in `media` or `mnt`;
   - `opt` - contains manually installed software from vendors resides.  Usually user installed software doesnt go here.  But User created software can go here.
   - `proc` - process - Psudofiles that contain info on system processes or resources. Each Process has its own "pseudofile".  These are not actual files.  CPU information is in here.
   - `root` - Root User Home Folder- not a typical user directory.  Files stored here require root access.  This was to make sure that if user directories were on another directory, it wouldnt be lost.
   - `run` - variable- TempFS file system- like a temp directory.  It is stored in Ram and lost when the computer reboots.
   - `snap` -Snap Package directory- where Ubuntu stores the Snap packages.
   - `srv` - Service Directory- usually empty, but if computer is a webserver- then website or FTP files are stored here.
   - `sys` - System Files- contains Kernal pseudofiles.  It is not permanent.  Allows very low level access to kernal- for things like updating Video Card Settings.
   - `tmp` - Temporary- this is for applications to use during a session- things like temproray copies of a Document in progress.  A crashed program may lose access to the folder and it can begin to fill.  Might need to be cleared by Root user in Single User Mode.
   - `usr` - User or Unix System Resources - holds applications installed by the user.  These must be considered  non-essential.
      - `bin` - binaries
      - `sbin`- administration binaries
      - `lib` - libraries., also `lib32` and `lib64`
      - `src` Source - where programs installed from source are stored.
      - `local` - to indicate machine local users--
         - `bin` - binaries
         - `sbin`- administration binaries
         - `lib` - libraries., also `lib32` and `lib64`
         - `src` Source - where programs installed from source are stored.
      - `share` - The site for larger program installs.
         - `bin` - binaries
         - `sbin`- administration binaries
         - `lib` - libraries., also `lib32` and `lib64`
         - `src` Source - where programs installed from source are stored.
         - `local` - to indicate machine local users--
            - `bin` - binaries
            - `sbin`- administration binaries
            - `lib` - libraries., also `lib32` and `lib64`
            - `src` Source - where programs installed from source are stored.
   - `var` - Variable -this folder contains files that are expected to grow in size
      - `log` - contains log files
      - `crash` contains information on crashes.
      - `spool` contains printer documents
      - `cache` contains cached folders
   - `home` - links variably to each users home directory.
      - `.cache` - stores program cache
      - `.config` - Application (user specific) configuration settings.  Desktop settings, etc.
      - `.themes` - Desktop Themes.
      - `.*` - hidden files for programs.
    

## File permissions

[Numeric Permissions Operators](https://www.gnu.org/software/coreutils/manual/html_node/Operator-Numeric-Modes.html#Operator-Numeric-Modes)

[File Permissions](https://www.gnu.org/software/coreutils/manual/html_node/File-permissions.html#File-permissions)



Get user and group information:

cat /etc/passwd

      root:x:0:0:Console and webGui login account:/root:/bin/bash
      bin:x:1:1:bin:/bin:/bin/false
      daemon:x:2:2:daemon:/sbin:/bin/false
      adm:x:3:4:adm:/var/log:/bin/false
      lp:x:4:7:lp:/var/spool/lpd:/bin/false
      ...

Gives the 
    [User]:[?]:[UID]:[GUID]:Description:Home:[Default Shell]

Can use /bin/false as a null value.


[More](https://linuxize.com/post/umask-command-in-linux/)

      ls -l dirname
      drwxr-xr-x 12 linuxize users 4.0K Apr  8 20:51 dirname
      |[-][-][-]    [------] [---]
      | |  |  |        |       |       
      | |  |  |        |       +-----------> Group
      | |  |  |        +-------------------> Owner
      | |  |  +----------------------------> Others Permissions
      | |  +-------------------------------> Group Permissions
      | +----------------------------------> Owner Permissions
      +------------------------------------> File Type

By default, on Linux systems, the default creation permissions are **666 for files,** which gives read and write permission to user, group, and others, and to **777 for directories,** which means read, write and execute permission to user, group, and others. Linux does not allow a file to be created with execute permissions.

The default creation permissions can be modified using the `umask` utility.

`umask` affects **only the current shell environment.** On most Linux distributions the default system-wide umask value is set in the *pam_umask.so* or */etc/profile file.*

If you want to specify a different value on per-user basis edit the user’s shell configuration files such as *~/.bashrc* or *~/.zshrc.* You can also change the current session umask value by running umask followed by the desired value.

To view the current mask value, simply type umask without any arguments:

        root@Unraid:~# umask
      0000

    
The umask value contains the permission bits that will **NOT** be set on the newly created files and directories.  (777 = 000) Logical NOT each octal


Basically its {`d`/`-`}(`u`ser)`rwx`(`g`roup)`rwx`( `o`thers)`rwx` w/ `-` turning it off.
Access Levels
- None (-)
- read (r)
- write (w)
- execute (x)



You can see these by using the `ls -l` Unix command.

0123456789

`drwxr-xr-x`

`-rwxr-xr-x`

`-rwxrwxrwx`

The first character represents the entry type.  The entry type for a directory is 'd'.  

All files have a hyphen (-) as their entry type.  The remaining nine characters indicate the permissions themselves in 3 groups of three.  

1 through 3 show user (u) permissions;
4 through 6 are group (g) permissions;
7 through 9 are other (o) permissions (users who are not the owner and are not members of the group own the file/directory, a.k.a. "the world"). 

can also take away the read and write permissions by doing the following:

chmod o-rw /home/yourusername

### CHMOD

to give the world permission to read and write to your home directory, then you would use the command below:

chmod o+rw /home/youruserna


## File Descripters

[Bash Guide for Beginners](https://tldp.org/LDP/Bash-Beginners-Guide/html/Bash-Beginners-Guide.html#sect_08_01)

> e input and output are accomplished by integer handles that track all open files for a given process. These numeric values are known as file descriptors. The best known file descriptors are _stdin_, _stdout_ and _stderr_, with file descriptor numbers 0, 1 and 2, respectively. These numbers and respective devices are reserved. Bash can take TCP or UDP ports on networked hosts as file descriptors as well.



 The output below shows how the reserved file descriptors point to actual devices:

```sh
  michel ~> **ls -l /dev/std***
  >lrwxrwxrwx  1 root    root     17 Oct  2 07:46 /dev/stderr -> ../proc/self/fd/2
  >lrwxrwxrwx  1 root    root     17 Oct  2 07:46 /dev/stdin -> ../proc/self/fd/0
  >lrwxrwxrwx  1 root    root     17 Oct  2 07:46 /dev/stdout -> ../proc/self/fd/1


michel ~> **ls -l /proc/self/fd/[0-2]**
  >lrwx------  1 michel  michel   64 Jan 23 12:11 /proc/self/fd/0 -> /dev/pts/6
  >lrwx------  1 michel  michel   64 Jan 23 12:11 /proc/self/fd/1 -> /dev/pts/6
  >lrwx------  1 michel  michel   64 Jan 23 12:11 /proc/self/fd/2 -> /dev/pts/6
```

> Note that each [process] has its own view of the files under /proc/self, as it is actually a symbolic link to /proc/<process\_ID>.
> 
> You might want to check **info MAKEDEV** and **info proc** for more information about /proc subdirectories and the way your system handles standard file descriptors for each running process.

When excuting a given command, the following steps are excuted, in order:

- prev out -> cur in
  - If the standard output of a previous command is being piped to the standard input of the current command, then `/proc/<current_process_ID>/fd/0` is updated to target the same anonymous pipe as `/proc/<previous_process_ID/fd/1.`

- cur out -> next in
  - If the standard output of the current command is being piped to the standard input of the next command, then `/proc/<current_process_ID>/fd/1` is updated to target another *anonymous pipe.*


- Redirection for the current command is processed from left to right.

- The stuff added at the end `2>&1` or whatever.
- set N to be the same as M 
  - Redirection `"N>&M"` or `"N<&M"` after a command has the effect of creating or updating the symbolic link `/proc/self/fd/N` with the same target as the symbolic link `/proc/self/fd/M`.

- The redirections` "N> file"` and `"N< file"` have the effect of creating or updating the symbolic link `/proc/self/fd/N` with the target file.

- File descriptor closure `"N>&-"` has the effect of deleting the symbolic link `/proc/self/fd/N.`

    Only now is the current command executed.


[Bash Guide for Beginners](https://tldp.org/LDP/Bash-Beginners-Guide/html/Bash-Beginners-Guide.html#sect_08_01)

##Redirection 

[zsh: 7 Redirection](http://zsh.sourceforge.net/Doc/Release/Redirection.html)

The following may appear anywhere in a simple command or may precede or follow a complex command. Expansion occurs before word or digit is used except as noted below. If the result of substitution on word produces more than one filename, redirection occurs for each separate filename in turn.

< word

Open file word for reading as standard input. It is an error to open a file in this fashion if it does not exist.

<> word

Open file word for reading and writing as standard input. If the file does not exist then it is created.

> word

Open file word for writing as standard output. If the file does not exist then it is created. If the file exists, and the CLOBBER option is unset, this causes an error; otherwise, it is truncated to zero length.

>| word

>! word

Same as >, except that the file is truncated to zero length if it exists, regardless of CLOBBER.

>> word

Open file word for writing in append mode as standard output. If the file does not exist, and the CLOBBER and APPEND\_CREATE options are both unset, this causes an error; otherwise, the file is created.

>>| word

>>! word

Same as >>, except that the file is created if it does not exist, regardless of CLOBBER and APPEND\_CREATE.

<<[-] word

The shell input is read up to a line that is the same as word, or to an end-of-file. No parameter expansion, command substitution or filename generation is performed on word. The resulting document, called a _here-document_, becomes the standard input.

If any character of word is quoted with single or double quotes or a ‘\’, no interpretation is placed upon the characters of the document. Otherwise, parameter and command substitution occurs, ‘\’ followed by a newline is removed, and ‘\’ must be used to quote the characters ‘\’, ‘$’, ‘‘’ and the first character of word.

Note that word itself does not undergo shell expansion. Backquotes in word do not have their usual effect; instead they behave similarly to double quotes, except that the backquotes themselves are passed through unchanged. (This information is given for completeness and it is not recommended that backquotes be used.) Quotes in the form $’...’ have their standard effect of expanding backslashed references to special characters.

If <<- is used, then all leading tabs are stripped from word and from the document.

<<< word

Perform shell expansion on word and pass the result to standard input. This is known as a _here-string_. Compare the use of word in here-documents above, where word does not undergo shell expansion.

<& number

>& number

The standard input/output is duplicated from file descriptor number (see man page dup2(2)).

<& -

>& -

Close the standard input/output.

<& p

>& p

The input/output from/to the coprocess is moved to the standard input/output.

>& word

&> word

(Except where ‘>& word’ matches one of the above syntaxes; ‘&>’ can always be used to avoid this ambiguity.) Redirects both standard output and standard error (file descriptor 2) in the manner of ‘> word’. Note that this does _not_ have the same effect as ‘> word 2>&1’ in the presence of multios (see the section below).

>&| word

>&! word

&>| word

&>! word

Redirects both standard output and standard error (file descriptor 2) in the manner of ‘>| word’.

>>& word

&>> word

Redirects both standard output and standard error (file descriptor 2) in the manner of ‘>> word’.

>>&| word

>>&! word

&>>| word

&>>! word

Redirects both standard output and standard error (file descriptor 2) in the manner of ‘>>| word’.

If one of the above is preceded by a digit, then the file descriptor referred to is that specified by the digit instead of the default 0 or 1. The order in which redirections are specified is significant. The shell evaluates each redirection in terms of the (_file descriptor_, _file_) association at the time of evaluation. For example:

> ... 1>fname 2>&1

first associates file descriptor 1 with file fname. It then associates file descriptor 2 with the file associated with file descriptor 1 (that is, fname). If the order of redirections were reversed, file descriptor 2 would be associated with the terminal (assuming file descriptor 1 had been) and then file descriptor 1 would be associated with file fname.

The ‘|&’ command separator described in [Simple Commands & Pipelines](http://zsh.sourceforge.net/Doc/Release/Shell-Grammar.html#Simple-Commands-_0026-Pipelines) is a shorthand for ‘2>&1 |’.

The various forms of process substitution, ‘<(list)’, and ‘\=(list)’ for input and ‘>(list)’ for output, are often used together with redirection. For example, if word in an output redirection is of the form ‘>(list)’ then the output is piped to the command represented by list. See [Process Substitution](http://zsh.sourceforge.net/Doc/Release/Expansion.html#Process-Substitution).


### Redirection of errors

> 
> From the previous examples, it is clear that you can provide input and output files for a script (see [Section 8.2.4](https://tldp.org/LDP/Bash-Beginners-Guide/html/Bash-Beginners-Guide.html#sect_08_02_04) for more), but some tend to forget about redirecting errors - output which might be depended upon later on. Also, if you are lucky, errors will be mailed to you and eventual causes of failure might get revealed. If you are not as lucky, errors will cause your script to fail and won't be caught or sent anywhere, so that you can't start to do any worthwhile debugging.
> 
> When redirecting errors, note that the order of precedence is significant. For example, this command, issued in /var/spool
> 
> **ls -l * _2_> /var/tmp/unaccessible-in-spool** 

or: Unsure if the `\` snuck in due to auto markdown generation

> **ls -l \* _2_> /var/tmp/unaccessible-in-spool** 
> 
> will redirect standard output of the **ls** command to the file unaccessible-in-spool in /var/tmp. The command
> 
> **ls -l * > /var/tmp/spoollist _2_>&_1_** 
> 
> will direct both standard input and standard error to the file spoollist. The command
> 
> **ls -l * _2_ >& _1_ > /var/tmp/spoollist** 
> 
> directs only the standard output to the destination file, because the standard error is copied to standard output before the standard output is redirected.
> 
> For convenience, errors are often redirected to /dev/null, if it is sure they will not be needed. Hundreds of examples can be found in the startup scripts for your system.
> 
> Bash allows for both standard output and standard error to be redirected to the file whose name is the result of the expansion of FILE with this construct:
> 
> **&> FILE**
> 
> This is the equivalent of **> FILE 2>&1**, the construct used in the previous set of examples. It is also often combined with redirection to /dev/null, for instance when you just want a command to execute, no matter what output or errors it gives.



## Path

`code ~/.bashrc`

`alias python ='/usr/bin/python3.7'`

## Useful commands

### Unix Utils

- (Batch utilities)
    -  **qalter** - Alter batch job
    -  **qdel** - Delete batch jobs
    -  **qhold** - Hold batch jobs
    -  **qmove** - Move batch jobs
    -  **qmsg** - Send message to batch jobs
    -  **qrerun** - Rerun batch jobs
    -  **qrls** - Release batch jobs
    -  **qselect** - Select batch jobs
    -  **qsig** - Signal batch jobs
    -  **qstat** - Show status of batch jobs
    -  **qsub** - Submit a script

- (C programming)
    -  **cc/c99** - Compile standard C programs
    -  **cflow** - Generate a C-language call graph
    -  **ctags** - Create a tags file
    -  **cxref** - Generate a C-language program cross-reference table
    -  **lex** - Generate programs for lexical tasks
    -  **nm** - Write the name list of an object file
    -  **strings** - Find printable strings in files
    -  **strip** - Remove unnecessary information from executable files
    -  **yacc** - Yet another compiler compiler


- (Filesystem) 
    -  **basename** - Return non-directory portion of a pathname; see also dirname
    -  **cat** - Concatenate and print files
    -  **cd** - Change the working directory
    -  **chgrp** - Change the file group ownership
    -  **chmod** - Change the file modes/attributes/permissions
    -  **chown** - Change the file ownership
    -  **cksum** - Write file checksums and sizes
    -  **cmp** - Compare two files; see also diff
    -  **compress** - Compress data
    -  **cp** - Copy files
    -  **dd** - Convert and copy a file
    -  **df** - Report free disk space
    -  **dirname** - Return the directory portion of a pathname; see also basename
    -  **du** - Estimate file space usage
    -  **file** - Determine file type
    -  **find** - Find files
    -  **link** - Create a hard link to a file
    -  **ln** - Link files
    -  **ls** - List directory contents
    -  **mkdir** - Make directories
    -  **mkfifo** - Make FIFO special files
    -  **mv** - Move or rename files
    -  **pathchk** - Check pathnames
    -  **pwd** - Print working directory
    -  **rm** - Remove directory entries
    -  **rmdir** - Remove directories, if they are empty.
    -  **touch** - Change file access and modification times
    -  **unlink** - Call the unlink function
 - (FORTRAN77 programming) 
    -  **fort77** - FORTRAN compiler
 - (Misc)
    -  **alias** - Define or display aliases
    -  **ar** - Create and maintain library archives
    -  **bc** - Arbitrary-precision arithmetic language
    -  **cal** - Print a calendar
    -  **crontab** - Schedule periodic background work
    -  **date** - Display the date and time
    -  **env** - Set the environment for command invocation
    -  **fc** - Process the command history list
    -  **gencat** - Generate a formatted message catalog
    -  **getconf** - Get configuration values
    -  **grep** - Search text for a pattern
    -  **hash** - Hash database access method
    -  **id** - Return user identity
    -  **ipcrm** - Remove a message queue, semaphore set, or shared memory segment identifier
    -  **ipcs** - Report interprocess communication facilities status
    -  **locale** - Get locale-specific information
    -  **localedef** - Define locale environment
    -  **logname** - Return the user's login name
    -  **m4** - Macro processor
    -  **mailx** - Process messages
    -  **man** - Display system documentation
    -  **mesg** - Permit or deny messages
    -  **newgrp** - Change to a new group
    -  **od** - Dump files in various formats
    -  **pax** - Portable archive interchange
    -  **split** - Split files into pieces
    -  **stty** - Set the options for a terminal
    -  **tabs** - Set terminal tabs
    -  **talk** - Talk to another user
    -  **tput** - Change terminal characteristics
    -  **tty** - Return user's terminal name
    -  **type** - Displays how a name would be interpreted if used as a command
    -  **ulimit** - Set or report file size limit
    -  **umask** - Get or set the file mode creation mask
    -  **unalias** - Remove alias definitions
    -  **uname** - Return system name
    -  **uncompress** - Expand compressed data
    -  **write** - Write to another user's terminal
 - (Network) 
    -  **uucp** - System-to-system copy
    -  **uudecode** - Decode a binary file
    -  **uuencode** - Encode a binary file
    -  **uustat** - uucp status inquiry and job control
-  (Process management)
    -  **at** - Execute commands at a later time
    -  **batch** - Schedule commands to be executed in a batch queue
    -  **bg** - Run jobs in the background
    -  **fg** - Run jobs in the foreground
    -  **fuser** - List process IDs of all processes that have one or more files open
    -  **jobs** - Display status of jobs in the current session
    -  **kill** - Terminate or signal processes
    -  **nice** - Invoke a utility with an altered nice value
    -  **nohup** - Invoke a utility immune to hangups
    -  **ps** - Report process status
    -  **renice** - Set nice values of running processes
    -  **time** - Time a simple command
    -  **uux** - Remote command execution
    -  **wait** - Await process completion
 -  (Programming) 
    -  **make** - Maintain, update, and regenerate groups of programs
 -  (SCCS) 
    -  **admin** - Create and administer SCCS files
    -  **delta** - Make a delta (change) to an SCCS file
    -  **get** - Get a version of an SCCS file
    -  **prs** - Print an SCCS file
    -  **rmdel** - Remove a delta from an SCCS file
    -  **sact** - Print current SCCS file-editing activity
    -  **sccs** - Front end for the SCCS subsystem
    -  **unget** - Undo a previous get of an SCCS file
    -  **val** - Validate SCCS files
    -  **what** - Identify SCCS files
 -  (Shell programming)
    -  **command** - Execute a simple command
    -  **echo** - Write arguments to standard output
    -  **expr** - Evaluate arguments as an expression
    -  **false** - Return false value
    -  **getopts** - Parse utility options
    -  **logger** - Log messages
    -  **printf** - Write formatted output
    -  **read** - Read a line from standard input
    -  **sh** - Shell, the standard command language interpreter
    -  **sleep** - Suspend execution for an interval
    -  **tee** - Duplicate the standard output
    -  **test** - Evaluate expression
    -  **true** - Return true value
    -  **xargs** - Construct argument lists and invoke utility
 - (System administration)
    -  **who** - Display who is on the system
- (Text processing)
    -  **asa** - Interpret carriage-control characters
    -  **awk** - Pattern scanning and processing language
    -  **comm** - Select or reject lines common to two files
    -  **csplit** - Split files based on context
    -  **cut** - Cut out selected fields of each line of a file
    -  **diff** - Compare two files; see also cmp
    -  **ed** - The standard text editor
    -  **ex** - Text editor
    -  **expand** - Convert tabs to spaces
    -  **fold** - Filter for folding lines
    -  **head** - Copy the first part of files
    -  **iconv** - Codeset conversion
    -  **join** - Merges two sorted text files based on the presence of a common field
    -  **lp** - Send files to a printer
    -  **more** - Display files on a page-by-page basis
    -  **nl** - Line numbering filter
    -  **paste** - Merge corresponding or subsequent lines of files
    -  **patch** - Apply changes to files
    -  **pr** - Print files
    -  **sed** - Stream editor
    -  **sort** - Sort, merge, or sequence check text files
    -  **tail** - Copy the last part of a file
    -  **tr** - Translate characters
    -  **tsort** - Topological sort
    -  **unexpand** - Convert spaces to tabs
    -  **uniq** - Report or filter out repeated lines in a file
    -  **vi** - Screen-oriented (visual) display editor
    -  **wc** - Line, word and byte or character count
    -  **zcat** - Expand and concatenate data

#### Unix second list

 -  Batch utilities
    -  [`qsub`](https://en.wikipedia.org/wiki/Qsub "Qsub")  -  Submit a script 
    -  `qalter`  -  Alter batch job 
    -  `qdel`  -  Delete batch jobs 
    -  `qhold`  -  Hold batch jobs 
    -  `qmove`  -  Move batch jobs 
    -  `qmsg`  -  Send message to batch jobs 
    -  `qrerun`  -  Rerun batch jobs 
    -  `qrls`  -  Release batch jobs 
    -  `qselect`  -  Select batch jobs 
    -  `qsig`  -  Signal batch jobs 
    -  `qstat`  -  Show status of batch jobs 

- C programming
    -  [`cc`](https://en.wikipedia.org/wiki/C_compiler "C compiler")/[`c99`](https://en.wikipedia.org/wiki/C99 "C99")  -  [Compile](https://en.wikipedia.org/wiki/Compiler "Compiler") standard [C](https://en.wikipedia.org/wiki/C_(programming_language) "C (programming language)") programs 
    -  [`cflow`](https://en.wikipedia.org/wiki/Cflow "Cflow")  -  Generate a C-language [call graph](https://en.wikipedia.org/wiki/Call_graph "Call graph") 
    -  [`ctags`](https://en.wikipedia.org/wiki/Ctags "Ctags")  -  Create a tags file 
    -  [`lex`](https://en.wikipedia.org/wiki/Lex_programming_tool "Lex programming tool")  -  Generate programs for [lexical tasks](https://en.wikipedia.org/wiki/Lexical_analyzer "Lexical analyzer") 
    -  [`nm`](https://en.wikipedia.org/wiki/Nm_(Unix) "Nm (Unix)")  -  Write the name list of an [object file](https://en.wikipedia.org/wiki/Object_file "Object file") 
    -  [`strings`](https://en.wikipedia.org/wiki/Strings_(Unix) "Strings (Unix)")  -  Find printable strings in files 
    -  [`strip`](https://en.wikipedia.org/wiki/Strip_(Unix) "Strip (Unix)")  -  Remove unnecessary information from executable files 
    -  [`yacc`](https://en.wikipedia.org/wiki/Yacc "Yacc")  -  Yet another [compiler](https://en.wikipedia.org/wiki/Compiler "Compiler") compiler 
    -  `cxref`  -  Generate a [C-language](https://en.wikipedia.org/wiki/C_(programming_language) "C (programming language)") program cross-reference table 
 
- Filesystem
    -  [`basename`](https://en.wikipedia.org/wiki/Basename "Basename")  -  Return non-directory portion of a pathname; see also dirname 
    -  [`cat`](https://en.wikipedia.org/wiki/Cat_(Unix) "Cat (Unix)")  -  Concatenate and print files 
    -  [`cd`](https://en.wikipedia.org/wiki/Cd_(command) "Cd (command)")  -  Change the working directory 
    -  [`chgrp`](https://en.wikipedia.org/wiki/Chgrp "Chgrp")  -  Change the file group ownership 
    -  [`chmod`](https://en.wikipedia.org/wiki/Chmod "Chmod")  -  Change the file modes/attributes/permissions 
    -  [`chown`](https://en.wikipedia.org/wiki/Chown "Chown")  -  Change the file ownership 
    -  [`cksum`](https://en.wikipedia.org/wiki/Cksum "Cksum")  -  Write file [checksums](https://en.wikipedia.org/wiki/Checksum "Single UNIX Specification") and sizes 
    -  [`cmp`](https://en.wikipedia.org/wiki/Cmp_(Unix) "Cmp (Unix)")  -  Compare two files; see also diff 
    -  [`compress`](https://en.wikipedia.org/wiki/Compress "Compress")  -  Compress data nix)")  -  Run jobs in the foreground 
    -  [`cp`](https://en.wikipedia.org/wiki/Cp_(Unix) "Cp (Unix)")  -  Copy files 
    -  [`dd`](https://en.wikipedia.org/wiki/Dd_(Unix) "Dd (Unix)")  -  Convert and copy a file 
    -  [`df`](https://en.wikipedia.org/wiki/Df_(Unix) "Df (Unix)")  -  Report free disk space 
    -  [`dirname`](https://en.wikipedia.org/wiki/Dirname "Dirname")  -  Return the directory portion of a pathname; see also basename 
    -  [`du`](https://en.wikipedia.org/wiki/Du_(Unix) "Du (Unix)")  -  Estimate file space usage 
    -  [`file`](https://en.wikipedia.org/wiki/File_(command) "File (command)")  -  Determine file type 
    -  [`find`](https://en.wikipedia.org/wiki/Find_(Unix) "Find (Unix)")  -  Find files 
    -  [`link`](https://en.wikipedia.org/wiki/Link_(Unix) "Link (Unix)")  -  Create a hard link to a file 
    -  [`ln`](https://en.wikipedia.org/wiki/Ln_(Unix) "Ln (Unix)")  -  Link files 
    -  [`ls`](https://en.wikipedia.org/wiki/Ls "Ls")  -  List directory contents 
    -  [`mkdir`](https://en.wikipedia.org/wiki/Mkdir "Mkdir")  -  Make directories 
    -  [`mkfifo`](https://en.wikipedia.org/wiki/Mkfifo "Mkfifo")  -  Make [FIFO](https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics) "FIFO (computing and electronics)") special files 
    -  [`mv`](https://en.wikipedia.org/wiki/Mv "Mv")  -  Move or rename files 
    -  [`pwd`](https://en.wikipedia.org/wiki/Pwd "Pwd")  -  Print working directory 
    -  [`rm`](https://en.wikipedia.org/wiki/Rm_(Unix) "Rm (Unix)")  -  Remove directory entries 
    -  [`rmdir`](https://en.wikipedia.org/wiki/Rmdir "Rmdir")  -  Remove directories, if they are empty. 
    -  [`touch`](https://en.wikipedia.org/wiki/Touch_(command) "Touch (command)")  -  Change file access and modification times 
    -  [`unlink`](https://en.wikipedia.org/wiki/Unlink_(Unix) "Unlink (Unix)")  -  Call the unlink function 
    -  `pathchk`  -  Check pathnames 
-  FORTRAN77 programming
    -  [`fort77`](https://en.wikipedia.org/wiki/Fort77 "Fort77")  -  [FORTRAN](https://en.wikipedia.org/wiki/FORTRAN "FORTRAN") compiler 

-Misc
    -   `stty`  -  Set the options for a terminal 
    -  [`alias`](https://en.wikipedia.org/wiki/Alias_(command) "Alias (command)")  -  Define or display aliases 
    -  [`ar`](https://en.wikipedia.org/wiki/Ar_(Unix) "Ar (Unix)")  -  Create and maintain [library](https://en.wikipedia.org/wiki/Library_(computing) "Library (computing)") archives 
    -  [`bc`](https://en.wikipedia.org/wiki/Bc_(programming_language) "Bc (programming language)")  -  [Arbitrary-precision arithmetic](https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic) language 
    -  [`cal`](https://en.wikipedia.org/wiki/Cal_(Unix) "Cal (Unix)")  -  Print a calendar 
    -  [`crontab`](https://en.wikipedia.org/wiki/Crontab "Crontab")  -  Schedule periodic background work 
    -  [`date`](https://en.wikipedia.org/wiki/Unix_time#Command_line "Unix time")  -  Display the date and time 
    -  [`env`](https://en.wikipedia.org/wiki/Env_(shell) "Env (shell)")  -  Set the environment for command invocation 
    -  [`fc`](https://en.wikipedia.org/wiki/Fc_(Unix) "Fc (Unix)")  -  Process the command history list 
    -  [`grep`](https://en.wikipedia.org/wiki/Grep "Grep")  -  Search text for a pattern 
    -  [`hash`](https://en.wikipedia.org/wiki/Hash_(Unix) "Hash (Unix)")  -  Hash database access method 
    -  [`id`](https://en.wikipedia.org/wiki/Id_(Unix) "Id (Unix)")  -  Return user identity 
    -  [`ipcrm`](https://en.wikipedia.org/wiki/Ipcrm "Ipcrm")  -  Remove a message queue, semaphore set, or shared memory segment identifier 
    -  [`ipcs`](https://en.wikipedia.org/wiki/Ipcs "Ipcs")  -  Report interprocess communication facilities status 
    -  [`logname`](https://en.wikipedia.org/wiki/Logname "Logname")  -  Return the user's login name 
    -  [`m4`](https://en.wikipedia.org/wiki/M4_(computer_language) "M4 (computer language)")  -  Macro processor 
    -  [`mailx`](https://en.wikipedia.org/wiki/Mailx "Mailx")  -  Process messages 
    -  [`man`](https://en.wikipedia.org/wiki/Man_page "Man page")  -  Display system documentation 
    -  [`mesg`](https://en.wikipedia.org/wiki/Mesg "Mesg")  -  Permit or deny messages 
    -  [`od`](https://en.wikipedia.org/wiki/Od_(Unix) "Od (Unix)")  -  Dump files in various formats 
    -  [`pax`](https://en.wikipedia.org/wiki/Pax_(command) "Pax (command)")  -  Portable archive interchange 
    -  [`split`](https://en.wikipedia.org/wiki/Split_(Unix) "Split (Unix)")  -  Split files into pieces 
    -  [`talk`](https://en.wikipedia.org/wiki/Talk_(software) "Talk (software)")  -  Talk to another user 
    -  [`tput`](https://en.wikipedia.org/wiki/Tput "Tput")  -  Change [terminal](https://en.wikipedia.org/wiki/Computer_terminal "Computer terminal") characteristics 
    -  [`tty`](https://en.wikipedia.org/wiki/Tty_(unix) "Tty (unix)")  -  Return user's [terminal](https://en.wikipedia.org/wiki/Computer_terminal "Computer terminal") name 
    -  [`type`](https://en.wikipedia.org/wiki/Type_(Unix) "Type (Unix)")  -  Displays how a name would be interpreted if used as a command 
    -  [`umask`](https://en.wikipedia.org/wiki/Umask "Umask")  -  Get or set the file mode creation mask 
    -  [`unalias`](https://en.wikipedia.org/wiki/Unalias "Unalias")  -  Remove alias definitions 
    -  [`uname`](https://en.wikipedia.org/wiki/Uname "Uname")  -  Return system name 
    -  [`uncompress`](https://en.wikipedia.org/wiki/Uncompress "Uncompress")  -  Expand compressed data 
    -  [`write`](https://en.wikipedia.org/wiki/Write_(Unix) "Write (Unix)")  -  Write to another user's terminal 
    -  `gencat`  -  Generate a formatted message catalog 
    -  `getconf`  -  Get configuration values 
    -  `locale`  -  Get locale-specific information 
    -  `localedef`  -  Define locale environment 
    -  `newgrp`  -  Change to a new group 
    -  `tabs`  -  Set terminal tabs 
    -  `ulimit`  -  Set or report file size limit 
- Network
    -  [`uucp`](https://en.wikipedia.org/wiki/Uucp "Uucp")  -  System-to-system copy 
    -  [`uudecode`](https://en.wikipedia.org/wiki/Uudecode "Uudecode")  -  Decode a binary file 
    -  [`uuencode`](https://en.wikipedia.org/wiki/Uuencode "Uuencode")  -  Encode a binary file 
    -  [`uustat`](https://en.wikipedia.org/wiki/Uustat "Uustat")  -  [uucp](https://en.wikipedia.org/wiki/Uucp "Uucp") status inquiry and job control 
- Process management
    -  [`at`](https://en.wikipedia.org/wiki/At_(command) "At (command)")  -  Execute commands at a later time 
    -  [`batch`](https://en.wikipedia.org/wiki/Batch_(Unix) "Batch (Unix)")  -  Schedule commands to be executed in a batch queue 
    -  [`bg`](https://en.wikipedia.org/wiki/Bg_(Unix) "Bg (Unix)")  -  Run jobs in the background 
    -  [`fg`](https://en.wikipedia.org/wiki/Fg_(Unix) "Fg (U
    -  [`fuser`](https://en.wikipedia.org/wiki/Fuser_(Unix) "Fuser (Unix)")  -  List [process IDs](https://en.wikipedia.org/wiki/Process_identifier "Process identifier") of all processes that have one or more files open 
    -  [`kill`](https://en.wikipedia.org/wiki/Kill_(command) "Kill (command)")  -  Terminate or signal processes 
    -  [`nice`](https://en.wikipedia.org/wiki/Nice_(Unix) "Nice (Unix)")  -  Invoke a utility with an altered nice value 
    -  [`nohup`](https://en.wikipedia.org/wiki/Nohup "Nohup")  -  Invoke a utility immune to [hangups](https://en.wikipedia.org/wiki/SIGHUP "SIGHUP") 
    -  [`ps`](https://en.wikipedia.org/wiki/Ps_(Unix) "Ps (Unix)")  -  Report process status 
    -  [`renice`](https://en.wikipedia.org/wiki/Renice "Renice")  -  Set nice values of running processes 
    -  [`time`](https://en.wikipedia.org/wiki/Time_(Unix) "Time (Unix)")  -  Time a simple command 
    -  [`wait`](https://en.wikipedia.org/wiki/Wait_(command) "Wait (command)")  -  Await process completion 
    -  `jobs`  -  Display status of jobs in the current session 
    -  `uux`  -  Remote command execution 
- Programming
    -  [`make`](https://en.wikipedia.org/wiki/Make_(software) "Make (software)")  -  Maintain, update, and regenerate groups of programs 
-SCCS
    -  `delta`  -  Make a delta (change) to an SCCS file 
    -  `get`  -  Get a version of an SCCS file 
    -  `prs`  -  Print an SCCS file 
    -  `rmdel`  -  Remove a delta from an SCCS file 
    -  `sact`  -  Print current SCCS file-editing activity 
    -  `unget`  -  Undo a previous get of an SCCS file 
    -  `val`  -  Validate SCCS files 
    -   `what`  -  Identify SCCS files 
    -  [`sccs`](https://en.wikipedia.org/wiki/Source_Code_Control_System "Source Code Control System")  -  Front end for the SCCS subsystem
- Shell programming
    -  [`command`](https://en.wikipedia.org/wiki/Command_(Unix) "Command (Unix)")  -  Execute a simple command 
    -  [`echo`](https://en.wikipedia.org/wiki/Echo_(command) "Echo (command)")  -  Write arguments to standard output 
    -  [`expr`](https://en.wikipedia.org/wiki/Expr "Expr")  -  Evaluate arguments as an expression 
    -  [`false`](https://en.wikipedia.org/wiki/False_(Unix) "False (Unix)")  -  Return false value 
    -  [`getopts`](https://en.wikipedia.org/wiki/Getopts "Getopts")  -  Parse utility options 
    -  [`printf`](https://en.wikipedia.org/wiki/Printf_(Unix) "Printf (Unix)")  -  Write formatted output 
    -  [`read`](https://en.wikipedia.org/wiki/Read_(Unix) "Read (Unix)")  -  Read a line from standard input 
    -  [`sh`](https://en.wikipedia.org/wiki/Bourne_shell "Bourne shell")  -  [Shell](https://en.wikipedia.org/wiki/Unix_shell "Unix shell"), the standard command language interpreter 
    -  [`sleep`](https://en.wikipedia.org/wiki/Sleep_(command) "Sleep (command)")  -  Suspend execution for an interval 
    -  [`tee`](https://en.wikipedia.org/wiki/Tee_(command) "Tee (command)")  -  Duplicate the [standard output](https://en.wikipedia.org/wiki/Standard_streams "Standard streams") 
    -  [`test`](https://en.wikipedia.org/wiki/Test_(Unix) "Test (Unix)")  -  Evaluate [expression](https://en.wikipedia.org/wiki/Expression_(computer_science) "Expression (computer science)") 
    -  [`true`](https://en.wikipedia.org/wiki/True_(Unix) "True (Unix)")  -  Return true value 
    -  [`xargs`](https://en.wikipedia.org/wiki/Xargs "Xargs")  -  Construct argument lists and invoke utility 
    -  `logger`  -  Log messages
- System administration
    -  [`who`](https://en.wikipedia.org/wiki/Who_(Unix) "Who (Unix)")  -  Display who is on the system 
-  Text processing
    -  [`awk`](https://en.wikipedia.org/wiki/AWK "AWK")  -  Pattern scanning and processing language 
    -  [`comm`](https://en.wikipedia.org/wiki/Comm "Comm")  -  Select or reject lines common to two files 
    -  [`csplit`](https://en.wikipedia.org/wiki/Csplit "Csplit")  -  Split files based on context 
    -  [`cut`](https://en.wikipedia.org/wiki/Cut_(Unix) "Cut (Unix)")  -  Cut out selected fields of each line of a file 
    -  [`diff`](https://en.wikipedia.org/wiki/Diff "Diff")  -  Compare two files; see also cmp 
    -  [`ed`](https://en.wikipedia.org/wiki/Ed_(text_editor) "Ed (text editor)")  -  The standard text editor 
    -  [`ex`](https://en.wikipedia.org/wiki/Ex_(text_editor) "Ex (text editor)")  -  Text editor 
    -  [`expand`](https://en.wikipedia.org/wiki/Expand_(Unix) "Expand (Unix)")  -  Convert tabs to spaces 
    -  [`fold`](https://en.wikipedia.org/wiki/Fold_(Unix) "Fold (Unix)")  -  Filter for folding lines 
    -  [`head`](https://en.wikipedia.org/wiki/Head_(Unix) "Head (Unix)")  -  Copy the first part of files 
    -  [`iconv`](https://en.wikipedia.org/wiki/Iconv "Iconv")  -  Codeset conversion 
    -  [`join`](https://en.wikipedia.org/wiki/Join_(Unix) "Join (Unix)")  -  Merges two sorted text files based on the presence of a common field 
    -  [`lp`](https://en.wikipedia.org/wiki/Lp_(Unix) "Lp (Unix)")  -  Send files to a printer 
    -  [`more`](https://en.wikipedia.org/wiki/More_(command) "More (command)")  -  Display files on a page-by-page basis 
    -  [`nl`](https://en.wikipedia.org/wiki/Nl_(Unix) "Nl (Unix)")  -  Line numbering filter 
    -  [`paste`](https://en.wikipedia.org/wiki/Paste_(Unix) "Paste (Unix)")  -  Merge corresponding or subsequent lines of files 
    -  [`patch`](https://en.wikipedia.org/wiki/Patch_(Unix) "Patch (Unix)")  -  Apply changes to files 
    -  [`pr`](https://en.wikipedia.org/wiki/Pr_(Unix) "Pr (Unix)")  -  Print files 
    -  [`sed`](https://en.wikipedia.org/wiki/Sed "Sed")  -  Stream editor 
    -  [`sort`](https://en.wikipedia.org/wiki/Sort_(Unix) "Sort (Unix)")  -  Sort, merge, or sequence check text files 
    -  [`tail`](https://en.wikipedia.org/wiki/Tail_(Unix) "Tail (Unix)")  -  Copy the last part of a file 
    -  [`tr`](https://en.wikipedia.org/wiki/Tr_(Unix) "Tr (Unix)")  -  Translate characters 
    -  [`tsort`](https://en.wikipedia.org/wiki/Tsort_(Unix) "Tsort (Unix)")  -  Topological sort 
    -  [`unexpand`](https://en.wikipedia.org/wiki/Unexpand "Unexpand")  -  Convert spaces to tabs 
    -  [`uniq`](https://en.wikipedia.org/wiki/Uniq "Uniq")  -  Report or filter out repeated lines in a file 
    -  [`vi`](https://en.wikipedia.org/wiki/Vi "Vi")  -  Screen-oriented (visual) display editor 
    -  [`wc`](https://en.wikipedia.org/wiki/Wc_(Unix) "Wc (Unix)")  -  Line, word and byte or character count 
    -  [`zcat`](https://en.wikipedia.org/wiki/Zcat "Zcat")  -  Expand and concatenate data 
    -  `asa`  -  Interpret carriage-control characters 


### GNU Core Utils

[Top (GNU Coreutils)](https://www.gnu.org/software/coreutils/manual/html_node/index.html#Top)


[Core Utils PDF](https://www.gnu.org/software/coreutils/manual/coreutils.pdf)



• Output of entire files	  	`cat`, `tac`, `nl`, `od`, `base32`, `base64`, `basenc`,
• Formatting file contents	  	`fmt`, `pr`, `fold`,
• Output of parts of files	  	`head`, `tail`, `split`, `csplit`,
• Summarizing files	  	`wc`, `sum`, `cksum`, `b2sum`, `md5sum`, `sha1sum`, `sha2`,
• Operating on sorted files	  	`sort`, `shuf`, `uniq`, `comm`, `ptx`, `tsort`,
• Operating on fields	  	`cut`, `paste`, `join`,
• Operating on characters	  	`tr`, `expand`, `unexpand`,
• Directory listing	  	`ls`, `dir`, `vdir`, `dircolors`,
• Basic operations	  	`cp`, `dd`, `install`, `mv`, `rm`, `shred`,
• Special file types	  	`mkdir`, `rmdir`, `unlink`, `mkfifo`, `mknod`, `ln`, `link`, readlink
• Changing file attributes	  	`chgrp`, `chmod`, `chown`, `touch`,
• Disk usage	  	`df`, `du`, `stat`, `sync`, `truncate`,
• Printing text	  	`echo`, `printf`, `yes`,
• Conditions	  	`false`, `true`, `test`, `expr`,
• Redirection	  	`tee`,
• File name manipulation	  	`dirname`, `basename`, `pathchk`, `mktemp`, `realpath`,
• Working context	  	`pwd`, `stty`, `printenv`, `tty`,
• User information	  	`id`, `logname`, `whoami`, `groups`, `users`, `who`,
• System context	  	`date`, `arch`, `nproc`, `uname`, `hostname`, `hostid`, `uptime`,
• SELinux context	  	`chcon`, `runcon`,
• Modified command invocation	  	`chroot`, `env`, `nice`, `nohup`, `stdbuf`, `timeout`,
• Process control	  	`kill`,
• Delaying	  	`sleep`,
• Numeric operations	  	`factor`, `numfmt`, `seq`,


• Output of entire files	  	
    - `cat`
    - `tac`
    - `nl`
    - `od`
    - `base32`
    - `base64`
    - `basenc`,
• Formatting file contents	  	
    - `fmt`
    - `pr`
    - `fold`,
• Output of parts of files	  	
    - `head`
    - `tail`
    - `split`
    - `csplit`,
• Summarizing files	  	
    - `wc`
    - `sum`
    - `cksum`
    - `b2sum`
    - `md5sum`
    - `sha1sum`
    - `sha2`,
• Operating on sorted files	  	
    - `sort`
    - `shuf`
    - `uniq`
    - `comm`
    - `ptx`
    - `tsort`,
• Operating on fields	  	
    - `cut`
    - `paste`
    - `join`,
• Operating on characters	  	
    - `tr`
    - `expand`
    - `unexpand`,
• Directory listing	  	
    - `ls`
    - `dir`
    - `vdir`
    - `dircolors`,
• Basic operations	  	
    - `cp`
    - `dd`
    - `install`
    - `mv`
    - `rm`
    - `shred`,
• Special file types	  	
    - `mkdir`
    - `rmdir`
    - `unlink`
    - `mkfifo`
    - `mknod`
    - `ln`
    - `link`
    - `readlink`,
• Changing file attributes	  	
    - `chgrp`
    - `chmod`
    - `chown`
    - `touch`,
• Disk usage	  	
    - `df`
    - `du`
    - `stat`
    - `sync`
    - `truncate`,
• Printing text	  	
    - `echo`
    - `printf`
    - `yes`,
• Conditions	  	
    - `false`
    - `true`
    - `test`
    - `expr`,
• Redirection	  	
    - `tee`,
• File name manipulation	  	
    - `dirname`
    - `basename`
    - `pathchk`
    - `mktemp`
    - `realpath`,
• Working context	  	
    - `pwd`
    - `stty`
    - `printenv`
    - `tty`,
• User information	  	
    - `id`
    - `logname`
    - `whoami`
    - `groups`
    - `users`
    - `who`,
• System context	  	
    - `date`
    - `arch`
    - `nproc`
    - `uname`
    - `hostname`
    - `hostid`
    - `uptime`,
• SELinux context	  	
    - `chcon`
    - `runcon`,
• Modified command invocation	  	
    - `chroot`
    - `env`
    - `nice`
    - `nohup`
    - `stdbuf`
    - `timeout`,
• Process control	  	
    - `kill`,
• Delaying	  	
    - `sleep`,
• Numeric operations	  	
    - `factor`
    - `numfmt`
    - `seq`,

#### Another List of Core Utils

- (File utilities)
  - chcon - Changes file security context (SELinux)
  - chgrp - Changes file group ownership
  - chown - Changes file ownership
  - chmod - Changes the permissions of a file or directory
  - cp - Copies a file or directory
  - dd - Copies and converts a file
  - df - Shows disk free space on file systems
  - dir - Is exactly like "ls -C -b".
  - dircolors - Set up color for ls
  - install - Copies files and set attributes
  - ln - Creates a link to a file
  - ls - Lists the files in a directory
  - mkdir - Creates a directory
  - mkfifo - Makes named pipes (FIFOs)
  - mknod - Makes block or character special files
  - mktemp - Creates a temporary file or directory
  - mv - Moves files or rename files
  - realpath - Returns the resolved absolute or relative path for a file
  - rm - Removes (deletes) files, directories, device nodes and symbolic links
  - rmdir - Removes empty directories
  - shred - Overwrites a file to hide its contents, and optionally deletes it
  - sync - Flushes file system buffers
  - touch - Changes file timestamps
  - truncate - Shrink or extend the size of a file to the specified size
  - vdir - Is exactly like "ls -l -b". (Files are by default listed in long format.)
-  (Text utilities)
    - b2sum - Computes and checks BLAKE2b message digest
    - base32 - Encodes or decodes Base32, and prints result to standard output
    - base64 - Encodes or decodes Base64, and prints result to standard output
    - cat - Concatenates and prints files on the standard output
    - cksum - Checksums (IEEE Ethernet CRC-32) and count the bytes in a file
    - comm - Compares two sorted files line by line
    - csplit - Splits a file into sections determined by context lines
    - cut - Removes sections from each line of files
    - expand - Converts tabs to spaces
    - fmt - Simple optimal text formatter
    - fold - Wraps each input line to fit in specified width
    - head - Outputs the first part of files
    - join - Joins lines of two files on a common field
    - md5sum - Computes and checks MD5 message digest
    - nl - Numbers lines of files
    - numfmt - Reformat numbers
    - od - Dumps files in octal and other formats
    - paste - Merges lines of files
    - ptx - Produces a permuted index of file contents
    - pr - Converts text files for printing

      - sha512sum - Computes and checks SHA-1/SHA-2 message digests
          -  sha1sum,
          - sha224sum,
          - sha256sum,
          - sha384sum,
    - shuf - generate random permutations
    - sort - sort lines of text files
    - split - Splits a file into pieces
    - sum - Checksums and counts the blocks in a file
    - tac - Concatenates and prints files in reverse order line by line
    - tail - Outputs the last part of files
    - tr - Translates or deletes characters
    - tsort - Performs a topological sort
    - unexpand - Converts spaces to tabs
    - uniq - Removes duplicate lines from a sorted file
    - wc - Prints the number of bytes, words, and lines in files
- ( Shell utilities)
      - arch - Prints machine hardware name (same as uname -m)
      - basename - Removes the path prefix from a given pathname
      - chroot - Changes the root directory
      - date - Prints or sets the system date and time
      - dirname - Strips non-directory suffix from file name
      - du - Shows disk usage on file systems
      - echo - Displays a specified line of text
      - env - Displays and modifies environment variables
      - expr - Evaluates expressions
      - factor - Factors numbers
      - false - Does nothing, but exits unsuccessfully
      - groups - Prints the groups of which the user is a member
      - hostid - Prints the numeric identifier for the current host
      - id - Prints real or effective UID and GID
      - link - Creates a link to a file
      - logname - Print the user's login name
      - nice - Modifies scheduling priority
      - nohup - Allows a command to continue running after logging out
      - nproc - Queries the number of (active) processors
      - pathchk - Checks whether file names are valid or portable
      - pinky - A lightweight version of finger
      - printenv - Prints environment variables
      - printf - Formats and prints data
      - pwd - Prints the current working directory
      - readlink - Displays value of a symbolic link
      - runcon - Run command with specified security context
      - seq - Prints a sequence of numbers
      - sleep - Delays for a specified amount of time
      - stat - Returns data about an inode
      - stdbuf - Controls buffering for commands that use stdio
      - stty - Changes and prints terminal line settings
      - tee - Sends output to multiple files
      - test - Evaluates an expression
      - timeout - Run a command with a time limit
      - true - Does nothing, but exits successfully
      - tty - Prints terminal name
      - uname - Prints system information
      - unlink - Removes the specified file using the unlink function
      - uptime - Tells how long the system has been running
      - users - Prints the user names of users currently logged into the current host
      - who - Prints a list of all users currently logged in
      - whoami - Prints the effective userid
      - yes - Prints a string repeatedly
- Other Utilities
      - `[` 	A synonym for test; this program permits expressions like [ expression ].


#### [Common options (GNU Coreutils)](https://www.gnu.org/software/coreutils/manual/html_node/Common-options.html#Common-options)

Certain options are available in all of these programs. Rather than writing identical descriptions for each of the programs, they are described here. (In fact, every GNU program accepts (or should accept) these options.)

Normally options and operands can appear in any order, and programs act as if all the options appear before any operands. For example, ‘sort -r passwd -t :’ acts like ‘sort -r -t : passwd’, since ‘:’ is an option-argument of -t. However, if the `POSIXLY_CORRECT` environment variable is set, options must appear before operands, unless otherwise specified for a particular command.

A few programs can usefully have trailing operands with leading ‘-’. With such a program, options must precede operands even if `POSIXLY_CORRECT` is not set, and this fact is noted in the program description. For example, the `env` command’s options must appear before its operands, since in some cases the operands specify a command that itself contains options.

Most programs that accept long options recognize unambiguous abbreviations of those options. For example, ‘rmdir --ignore-fail-on-non-empty’ can be invoked as ‘rmdir --ignore-fail’ or even ‘rmdir --i’. Ambiguous options, such as ‘ls --h’, are identified as such.

Some of these programs recognize the --help and --version options only when one of them is the sole command line argument. For these programs, abbreviations of the long options are not always recognized.

‘--help’

Print a usage message listing all available options, then exit successfully.

‘--version’

Print the version number, then exit successfully.

‘--’

Delimit the option list. Later arguments, if any, are treated as operands even if they begin with ‘-’. For example, ‘sort -- -r’ reads from the file named -r.

A single ‘-’ operand is not really an option, though it looks like one. It stands for a file operand, and some tools treat it as standard input, or as standard output if that is clear from the context. For example, ‘sort -’ reads from standard input, and is equivalent to plain ‘sort’. Unless otherwise specified, a ‘-’ can appear as any operand that requires a file name.

• [Exit status - Indicating program success or failure.](https://www.gnu.org/software/coreutils/manual/html_node/Exit-status.html#Exit-status)

• [Backup options (`-b` `-S`, in some programs.)](https://www.gnu.org/software/coreutils/manual/html_node/Backup-options.html#Backup-options)

• [`BLOCK_SIZE` and `–block-size`, in some programs.](https://www.gnu.org/software/coreutils/manual/html_node/Block-size.html#Block-size)

• [Floating point number representation.](https://www.gnu.org/software/coreutils/manual/html_node/Floating-point.html#Floating-point)

• [Specifying signals using the `–signal` option.](https://www.gnu.org/software/coreutils/manual/html_node/Signal-specifications.html#Signal-specifications)

• [Disambiguating names and IDs (`chgrp`, `chown`, `chroot`, `id:` user and group syntax)](https://www.gnu.org/software/coreutils/manual/html_node/Disambiguating-names-and-IDs.html#Disambiguating-names-and-IDs)

• [`–random-source`, in some programs.](https://www.gnu.org/software/coreutils/manual/html_node/Random-sources.html#Random-sources)

• [Specifying a target directory, in some programs.](https://www.gnu.org/software/coreutils/manual/html_node/Target-directory.html#Target-directory)

• [`–strip-trailing-slashes`, in some programs. ](https://www.gnu.org/software/coreutils/manual/html_node/Trailing-slashes.html#Trailing-slashes)

• [Traversing symlinks `-H`, `-L`, or -`P,` in some programs.](https://www.gnu.org/software/coreutils/manual/html_node/Traversing-symlinks.html#Traversing-symlinks)

• [Treating `/` specially (`–preserve-root` and `–no-preserve-root`.)](https://www.gnu.org/software/coreutils/manual/html_node/Treating-_002f-specially.html#Treating-_002f-specially)

• [Special built-in utilities (`break`, `:`,` …`)](https://www.gnu.org/software/coreutils/manual/html_node/Special-built_002din-utilities.html#Special-built_002din-utilities)

• [Conformance to the POSIX standard.](https://www.gnu.org/software/coreutils/manual/html_node/Standards-conformance.html#Standards-conformance)

• [Multi-call program invocation](https://www.gnu.org/software/coreutils/manual/html_node/Multi_002dcall-invocation.html#Multi_002dcall-invocation)





* * *

- `lscpu` - reports information about the cpu and processing units
- `lshw`-  reports detailed and brief information about multiple different hardware units such as cpu, memory, disk, usb controllers, network adapters etc. Lshw extracts the information from different /proc files.
- `hwinfo` - report detailed and brief information about multiple different hardware components, and more than what lshw can report.
- `lspci` -  lists out all the pci buses and details about the devices connected to them. The vga adapter, graphics card, network adapter, usb ports, sata controllers, etc all fall under this category.
- `lsscsi` -Lists out the scsi/sata devices like hard drives and optical drives.
- `lsusb` - hows the USB controllers and details about devices connected to them. 
  -  Use the verbose option `-v` to print detailed information about each usb port
- `inxi` -  Inxi is a 10K line mega bash script that fetches hardware details from multiple different sources and commands on the system, and generates a beautiful looking report that non technical users can read easily.
- `lsblk`- List out information all block devices, which are the hard drive partitions and other storage devices like optical drives and flash drives
- `df` - Reports various partitions, their mount points and the used and available space on each.
- `pydf` - improved version of the above.
- `fdisk` -  modify parts and list out parts.
- `mount` - The mount is used to mount/unmount and view mounted file systems.

- Others - 
    - lslocks
    - lsmem
    - lsns
    - lssubsys
    - lsusb.py
    - lsattr
    - lscgroup
    - lsdev
    - lsipc
    - lslogins
    - lsmod
    - lsof
    - lsscsi
    -  lsusb

    sudo lshw -C network

    ip link
    

ls symbols

* - executable
Also, for regular files that are executable, append ‘*’.  
- ‘/’ for directories, 
- ‘@’ for symbolic links,
- ‘|’ for FIFOs, 
- ‘=’ for sockets,


`cat /proc/block` - lets you look at the devices in proc.  


systemctl - lists running services
systemd - can list startup routine
ifconfig - net interfaces
iwconfig -wireless
sudo apt install network-manager network-manager-gnome
wicd - another network manager
  wicd-curses - cli gui
xbindkeys - a grabbing keys program for X

### Show Toilet Fonts

```sh
for i in ${TOILET_FONT_PATH:=/usr/share/figlet}/*.{t,f}lf; do j=${i##*/}; toilet -d "${i%/*}" -f "$j" "${j%.*}"; done
```
requires toilet package


!!!Note NOTE: To display all available toilet fonts use this one-liner:
          for i in ${TOILET_FONT_PATH:=/usr/share/figlet}/*.{t,f}lf; do j=${i##*/}; toilet -d "${i%/*}" -f "$j" "${j%.*}"; done

### tput

 tput setb 4 -sets the bg color

TPut example from the `now` script


 
 ```sh
 
tput sc                 # Save cursor position.
# Move up 9 lines
i=0
while [ $((++i)) -lt $Vsize ]; do tput cuu1; done
tput cuf $TimeColumn    # Move 49 columns right
echo $(date +"%I:%M %P") > /tmp/terminal

# Do we have the toilet package?
if hash toilet 2>/dev/null; then
    echo " "$(date +"%I:%M %P")" " | \
        toilet -f pagga --filter border > /tmp/terminal
# Do we have the figlet package?
elif hash figlet 2>/dev/null; then
    echo $(date +"%I:%M %P") | figlet > /tmp/terminal
# else use standard font
else
    echo $(date +"%I:%M %P") > /tmp/terminal
fi

while IFS= read -r Time; do
    printf "\033[01;36m"    # color cyan
    printf "$Time"
    tput cud1               # Up one line
    tput cuf $TimeColumn    # Move 49 columns right
done < /tmp/terminal

tput rc                     # Restore saved cursor position.

 ```
 w
 

### Quick Tips

A collection of short (1 liner or so) quick bash commands

- `sudo !!`  redo last command but as root

- Open an editor to run a command
  `ctrl+x+e`

- create a super fast ram disk
  `mkdir -p /mnt/ram`
  `mount -t tmpfs tmpfs /mnt/ram -o size=8192M`
- Then test it by creating a blockfile
      `dd if=/dev/zero of=test.-0iso bs=1M count=8000`
      `rm test.iso`
      `mount -t tmpfs tmpfs /mnt/ram -o size=8192M`
      `cd ram/`
- Don't add command to history **(note the leading space)**
  `_ls -l` - Underscore added for clarity
    -Show the history
      `history`
    -clear the screen
      `clear`
- fix a really long command that you messed up
  `fc`
- tunnel with ssh (local port 3337 -> remote host's 127.0.0.1 on port 6379)
  `ssh -L 3337:127.0.0.1:6379 root@emkc.org -N`
  `bg`
  `redis-cli -p 3337`

Not sure I understand this fully. SSH is opened on 3337 to connect to 127...via 6379, followed by a login?I think the redis-cli is to demonstrate its success.

-quickly create folders
`mkdir -p folder/{sub1,sub2}/{subA,subB,subC}`
$/1/A,/1/B...3/C/

- Create folders 1 through 10 each with 10 folders in it.
`mkdir -p folder/{1..10}/{1..10}`

-intercept stdout and log to file
`cat file | tee -a log | cat > /dev/null`
-exit terminal but leave all processes running
`disown -a && exit`
-Use the last term of the last command- !$
  `!$`
    `$ mkdir -p /path/to/new/dir`
    `$ cd !$`

- Set the hostname
`hostname`
`hostname -f` fully qualified domain name

Set the timezone
`dpkg-reconfigure tzdata #Debian/Ubuntu`
`timedatectl list-timezones #CentOS or ArchLinux`
`timedatectl set-timezone 'America/Chicago'`

Find the appropriate zone file in /usr/share/zoneinfo/ and link that file to /etc/localtime. See the examples below for possibilities:
`ln -sf /usr/share/zoneinfo/EST /etc/localtime`
`ln -sf /usr/share/zoneinfo/US/Eastern /etc/localtime`

`/etc/hosts`
`mtr #track the speed of a connection between two connections`
`mtr --report`

- Check memory usage
`free -m`

- Monitor IO usage with vmstat -runs a vmstat every second x 20
`vmstat 1 20`

- Monitor processes, memory and CPU  - commands for various distros below
`apt-get install htop`
`yum install htop`
`pacman -S htop`
`emerge sys-process/htop`
  - to run
  `htop`
  - quit with F10 or Q, run 'setup' with F2, Show tree view with F5

### Kill App

press [[Ctrl]]+[[Z]] to suspend the script, then `kill %%`{style="font-style:Courier"}

The `%%` tells the bash built-in kill that you want to send a signal (`SIGTERM` by default) to the most recently suspended background job in the current shell, not to a process-id.

### System Summary (inxi)

`inxi -Fxxxz`

Provides a summary of the system, often for sharing on forums and such.

- `-F` is "all",  each x is a verbosity level
- `-H` will provide help
- `-A` audio
- `-C` cpu
- `-D`, -Dd Disk / optical
- `-G` graphics
- `-m` memory
- `-M`
- `-N` network
- `-Nn` advanced network
- `-P`
- `-R`
- `-S` system

`inxi -G`


## Heredoc

Heredoc (Main article in bash notes)

[Bash Heredoc | Linuxize](https://linuxize.com/post/bash-heredoc/)

> When writing shell scripts you may be in a situation where you need to pass a multiline block of text or code to an interactive command, such as [`tee`](https://linuxize.com/post/linux-tee-command/) , `cat`, or [`sftp`](https://linuxize.com/post/how-to-use-linux-sftp-command-to-transfer-files/) .
> 
> In Bash and other shells like Zsh, a Here document (Heredoc) is a type of redirection that allows you to pass multiple lines of input to a command.
> 
> The syntax of writing HereDoc takes the following form:
> 
>     [COMMAND] <<[-] 'DELIMITER'
>       HERE-DOCUMENT
>     DELIMITER
>     
> 
> -   The first line starts with an optional command followed by the special redirection operator `<<` and the delimiting identifier.
>     -   You can use any string as a delimiting identifier, the most commonly used are EOF or END.
>     -   If the delimiting identifier is unquoted, the shell will substitute all variables, commands and special characters before passing the here-document lines to the command.
>     -   Appending a minus sign to the redirection operator `<<-`, will cause all leading tab characters to be ignored. This allows you to use indentation when writing here-documents in shell scripts. Leading whitespace characters are not allowed, only tab.
> -   The here-document block can contain strings, variables, commands and any other type of input.
> -   The last line ends with the delimiting identifier. White space in front of the delimiter is not allowed.

Show the graphics info

## apt

Commands

sudo apt-get update

sudo apt

apt-get:

- build-dep
- update - update the package lists
- upgrade - upgrade the packages
- auto-remove - clean out dead dependencies
- clean
- install
  - -f try and fix broken dependencies
  - -force carries strong warnings

E: Unable to correct problems, you have held broken packages.
apt-mark showhold

sudo apt-get install aptitude

apt list --installed

## man - Get the Manual

`man` gets the manual

!!!Note The manual has 8 main sections-

  1. Executable programs or shell commands
  2. System calls (functions provided by the kernel)
  3. Library calls (functions within program libraries)
  4. Special files (usually found in /dev)
  5. File formats and conventions eg /etc/passwd
  6. Games
  7. Miscellaneous (including macro packages and conventions), e.g. man(7), groff(7)
  8. System administration commands (usually only for root)
  9. Kernel routines [Non standard]

Ok 9. This is the number in the [command] help >> see command(#) bit.

~~Ironically,~~ `man man` gets help with the manual.

Understanding Help Syntax 

    cp [OPTION]... [-T] SOURCE DEST 

Anything inside `[` and `]` means that it is optional. In this case, 

`...` The three dots (or ellipsis) that come after [OPTION] or SOURCE mean that the preceding item may appear more than once. If that item is optional, ... means zero or more times, and if the item is mandatory, then the three dots mean one of more times.

so   `[]...`  Means zero or more times
and  `SOURCE...` means not optional and one or more times.

    usage: csi [FILENAME | OPTION...]

`|` means one or the other.  This is optional

## at

This also works (Examples to achieve a similar effect without at - it made sense for what I was doing at the time.)

      (sleep 10 ; echo "test" > ./testfile ) &

      (sleep 5 ; echo 'test\n' ) > /dev/stdout 2>&1  &

      (sleep 10 ; cat /boot/config/bashcustom >> /root/.bash_profile; echo "done")>/dev/stdout &

      (sleep 10 ; cat /boot/config/bashcustom >> /root/.bash_profile; source ~/.bash_profile; echo "done")>/dev/stdout &



for multiple commands using a file and at is better

The & makes it detach into the background
The parentheses makes sure they run together.

[at](https://www.computerhope.com/unix/uat.htm)

      at 9:30 PM Tue
      at> echo "It's 9:30 PM on Sunday."
      at> ^D
      [[Ctrl]] + [[D]]
      job 1 at Sun Nov 16 09:30:00 2014


| the expression:    | would translate to:       |
| ------------------ | ------------------------- |
| noon               | 12:00 PM October 18 2014  |
| midnight           | 12:00 AM October 19 2014  |
| teatime            | 4:00 PM October 18 2014   |
| tomorrow           | 10:00 AM October 19 2014  |
| noon tomorrow      | 12:00 PM October 19 2014  |
| next week          | 10:00 AM October 25 2014  |
| next monday        | 10:00 AM October 24 2014  |
| fri                | 10:00 AM October 21 2014  |
| NOV                | 10:00 AM November 18 2014 | 
| 2:30 PM            | 2:30 PM October 18 2014   |
| 1430               | 2:30 PM October 18 2014   |
| 2:30 PM tomorrow   | 2:30 PM October 19 2014   |
| 2:30 PM next month | 2:30 PM November 18 2014  |
| 2:30 PM Fri        | 2:30 PM October 21 2014   |
| 2:30 PM 10/21      | 2:30 PM October 21 2014   |
| 2:30 PM 21.10.14   | 2:30 PM October 21 2014   |
| now + 30 minutes   | 10:30 AM October 18 2014  |
| now + 1 hour       | 11:00 AM October 18 2014  |
| now + 4 months     | 10:00 AM February 18 2015 |
| now + 5 years      | 10:00 AM October 18 2019  |

NOV = now + 1 month


`atq` - view the queue

at [-V] [-q queue] [-f file] [-mMlv] timespec...
at [-V] [-q queue] [-f file] [-mMkv] [-t time]
at -c job [job...]
atq [-V] [-q queue]
at [-rd] job [job...]
atrm [-V] job [job...]
batch
at -b


`at -m 01:35 < my-at-jobs.txt`  Run the commands listed in the 'my-at-jobs.txt' file at 1:35 AM.

at


- `at` - executes commands at a specified time.
- `atq` - lists the user's pending jobs, unless the user is the superuser; in that case, everybody's jobs are listed. The format of the output lines (one for each job) is: job number, date, hour, year, queue, and username.
- `atrm` - deletes jobs, identified by their job number.
- `batch` - executes commands when system load levels permit; in other words, when the load average drops below 1.5, or the value specified in the invocation of atd.

## cat 

    Usage: cat [OPTION]... [FILE]...
    Concatenate FILE(s) to standard output.

    With no FILE, or when FILE is -, read standard input.

      -A, --show-all           equivalent to -vET
      -b, --number-nonblank    number nonempty output lines, overrides -n
      -e                       equivalent to -vE
      -E, --show-ends          display $ at end of each line
      -n, --number             number all output lines
      -s, --squeeze-blank      suppress repeated empty output lines
      -t                       equivalent to -vT
      -T, --show-tabs          display TAB characters as ^I
      -u                       (ignored)
      -v, --show-nonprinting   use ^ and M- notation, except for LFD and TAB
          --help     display this help and exit
          --version  output version information and exit

`cat -v` shows key scan codes, which is useful.

appending to a file, can be done with

`cat > file.txt`

then you can start inputting data until you hit [[Ctrl]] + [[d]]

to append a file already writted, use the append symbol `>>`




## grep

search for matches

 grep --help
Usage: grep [OPTION]... PATTERN [FILE]...
Search for PATTERN in each FILE.
Example: grep -i 'hello world' menu.h main.c

Pattern selection and interpretation:
  -E, --extended-regexp     PATTERN is an extended regular expression
  -F, --fixed-strings       PATTERN is a set of newline-separated strings
  -G, --basic-regexp        PATTERN is a basic regular expression (default)
  -P, --perl-regexp         PATTERN is a Perl regular expression
  -e, --regexp=PATTERN      use PATTERN for matching
  -f, --file=FILE           obtain PATTERN from FILE
  -i, --ignore-case         ignore case distinctions
  -w, --word-regexp         force PATTERN to match only whole words
  -x, --line-regexp         force PATTERN to match only whole lines
  -z, --null-data           a data line ends in 0 byte, not newline

Miscellaneous:
  -s, --no-messages         suppress error messages
  -v, --invert-match        select non-matching lines
  -V, --version             display version information and exit
      --help                display this help text and exit

Output control:
  -m, --max-count=NUM       stop after NUM selected lines
  -b, --byte-offset         print the byte offset with output lines
  -n, --line-number         print line number with output lines
      --line-buffered       flush output on every line
  -H, --with-filename       print file name with output lines
  -h, --no-filename         suppress the file name prefix on output
      --label=LABEL         use LABEL as the standard input file name prefix
  -o, --only-matching       show only the part of a line matching PATTERN
  -q, --quiet, --silent     suppress all normal output
      --binary-files=TYPE   assume that binary files are TYPE;
                            TYPE is 'binary', 'text', or 'without-match'
  -a, --text                equivalent to --binary-files=text
  -I                        equivalent to --binary-files=without-match
  -d, --directories=ACTION  how to handle directories;
                            ACTION is 'read', 'recurse', or 'skip'
  -D, --devices=ACTION      how to handle devices, FIFOs and sockets;
                            ACTION is 'read' or 'skip'
  -r, --recursive           like --directories=recurse
  -R, --dereference-recursive  likewise, but follow all symlinks
      --include=FILE_PATTERN  search only files that match FILE_PATTERN
      --exclude=FILE_PATTERN  skip files and directories matching FILE_PATTERN
      --exclude-from=FILE   skip files matching any file pattern from FILE
      --exclude-dir=PATTERN  directories that match PATTERN will be skipped.
  -L, --files-without-match  print only names of FILEs with no selected lines
  -l, --files-with-matches  print only names of FILEs with selected lines
  -c, --count               print only a count of selected lines per FILE
  -T, --initial-tab         make tabs line up (if needed)
  -Z, --null                print 0 byte after FILE name

Context control:
  -B, --before-context=NUM  print NUM lines of leading context
  -A, --after-context=NUM   print NUM lines of trailing context
  -C, --context=NUM         print NUM lines of output context
  -NUM                      same as --context=NUM
      --color[=WHEN],
      --colour[=WHEN]       use markers to highlight the matching strings;
                            WHEN is 'always', 'never', or 'auto'
  -U, --binary              do not strip CR characters at EOL (MSDOS/Windows)

When FILE is '-', read standard input.  With no FILE, read '.' if
recursive, '-' otherwise.  With fewer than two FILEs, assume -h.
Exit status is 0 if any line is selected, 1 otherwise;
if any error occurs and -q is not given, the exit status is 2.

Report bugs to: bug-grep@gnu.org
GNU grep home page: <http://www.gnu.org/software/grep/>
General help using GNU software: <http://www.gnu.org/gethelp/>



## Less

Less is used to view man,  its like linux notepad.

[Less Doc](https://linux.die.net/man/1/less)
[SS64 Brief Notes](https://ss64.com/bash/less.html)

| frwrd/down/next | back/up/prev |    | action                                                           |
|-----------------|--------------|----|------------------------------------------------------------------|
| g   <           | G   >        |    | TO beginning or End                                              |
| f {space}       | b            | *  | move one window                                                  |
| z               | w            | ** | move (N1) lines (Nominally 1 window), #z sets N1                 |
| d               | u            | ** | move (N2) lines (Nominally 1/2 window), #d/u sets N2             |
| e j {Enter}     | y k          | *  | move one *(N) line                                               |
| {R arrow}       | {L arrow}    |    | Scroll Sideways                                                  |
| /pattern        | ?pattern     |    | Start a search                                                   |
| n               | N            |    | Go to the next found item                                        |
| M{letter}       | m{letter}    |    | Mark position (A...B...C.etc.) at bottom / top of page. ***      |
| '$              | '^           |    | (Mark syntax) Go to End/Beginn.                                  |
| t               | T            | *  | Go to the next (*Nth) Tag                                        |
| {  (  [         | ]  )  }      | *  | Find the next (*Nth) open/close bracket. Search is rev for Open. |
| :n              | :p           | *  | Examine the next (*Nth) file from command line ****              |


(*) the command can be preceded by an integer to repeat the command N times.  E.g. `5e` moves forward 5 lines.
(**) the command can be preceeded by a number and repeated N times, and also this value is remembered for future commands.  `d` moves forward "1/2 window", but `10d` moves forward 10 lines, and all future presses of `d` by itself will then move 10 lines.  Half height and full height store separate values of N.  You can then type `3z` and have the window advance move just 3 lines, it doesnt have to be more.  Paired commands share a value.

#### Marking

(***) M{letter} marks the bottom and `m` marks at the top.  You can go to a marker by pressing single quote `'` and the desired letter.  `''` (Double single quote) goes back a mark (also `[Ctrl]x, [Ctrl]x`).  Deleta a mark with `[Esc]M<letter>`

Upper case and lower case are distinct.  Some are predefined.

#### Searching

`F` - to the end, `[Esc]F` advances towards end but stops if search string is found. You can also search adjacent files.  See help.

supposedly typing /pattern or ?pattern kicks off a search but it didnt work.  Can be (Needs to be?) preceeded by `!` Non, `*` search multiple files `@` start at first (/) or last (?) file, `[Ctrl]K` highlight only, `[Ctrl]R` Dont use regular expressions.
`/pattern` - Search forward, `?pattern` search back, `n` - next find, `N` Previous.  `&pattern` to show only matching lines.

Maybe its not working bc it expects a regexp.

#### Moving files

`e:` will change to another file.  So will `[Ctrl]X,[Ctrl]V`

`:x` goes to the first file, and `:d` deletes the current file.  `:f` and `=` print the cile name.

`p(%)` or rather `p##` goes to the `##%` point in a file. p50 goes to the halfway point
`r` - rerun screen



`R arrow` - scroll right
`L arrow` - scroll left
`h` open help

#### Options

Miscellaneous Commands:
  -flag           Toggle a command line option [see OPTIONS below].
  --name          Toggle a command line option, by name.
  _flag           Display the setting of a command line option.
  __name          Display the setting of an option, by name.
  +cmd        Execute the less cmd each time a new file is examined.

  !command    Execute the shell command with $SHELL.
  |Xcommand   Pipe file between current pos & mark X to shell command.
  v           Edit the current file with $VISUAL or $EDITOR.
  V           Print version number of "less".
  [flag]^P (CONTROL-P)  Suppress change message

OPTIONS:
Most options can be changed either on the command line, or from within less by using the - or -- command.
Options can be given in one of two forms: either a single character preceded by a -, or a name preceeded by --.

| Short             | Long                                      | Breif Description                                                                             |
|-------------------|-------------------------------------------|-----------------------------------------------------------------------------------------------|
|                   | FINDING                                   |                                                                                               |
| -a                | --search-skip-screen                      | Forward search, skips current screen.                                                         |
| -g                | --hilite-search                           | Highlight only last match for searches.                                                       |
| -G                | --HILITE-SEARCH                           | Don't highlight any matches for searches.                                                     |
| -#g               |                                           | Opens at a particular line number                                                             |
| -h[n]             | --max-back-scroll=n                       | Backward scroll limit.                                                                        |
| -I, -I            | --ignore-case,  --IGNORE-CASE             | Ignore case in searches.                                                                      |
|                   |                                           | Ignore case in searches and in search patterns.                                               |
| -j[n]             | --jump-target=n                           | Screen position of target lines.                                                              |
| -p[pattern]       | --pattern=pattern                         | Start at pattern (from command line).                                                         |
| -t[tag]           | --tag=tag                                 | Find a tag.                                                                                   |
| -T[tagsfile]      | --tag-file=tagsfile                       | Use an alternate tags file.                                                                   |
| -y[n]             | --max-forw-scroll=n                       | Forward scroll limit.                                                                         |
|                   | DISPLAY                                   |                                                                                               |
| -c                | --clear-screen                            | Repaint by scrolling/clearing.                                                                |
| -C                | --CLEAR-SCREEN                            | Repaint by scrolling/clearing.                                                                |
| -D[xcolor]        | --color=xcolor                            | Set screen colors. (MS-DOS only)                                                              |
| -m, -M            | --long-prompt, --LONG-PROMPT              | Set prompt style.                                                                             |
| -n, -N            | --line-numbers,                           | Use line numbers.                                                                             |
|                   | --LINE-NUMBERS                            |                                                                                               |
| -P[prompt]        | --prompt=prompt                           | Define new prompt.                                                                            |
| -r, -R            | --raw-control-chars,  --RAW-CONTROL-CHARS | Output "raw" control characters.                                                              |
| -s                | --squeeze-blank-lines                     | Squeeze multiple blank lines.                                                                 |
| -S                | --chop-long-lines                         | Chop long lines                                                                               |
|                   |                                           |                                                                                               |
| -w, -W            | --hilite-unread, --HILITE-UNREAD          | Highlight first new line after forward-screen                                                 |
| -[z]n             | --window=n                                | Set size of window.                                                                           |
| -~                | --tilde                                   | Don't display tildes after end of file.                                                       |
|                   | FILE OPTIONS:                             |                                                                                               |
| -bn               | --buffers=n                               | Number of buffers.                                                                            |
| -B                | --auto-buffers                            | Don't automatically allocate buffers for pipes.                                               |
| -f                | --force                                   | Force open non-regular files.                                                                 |
| -k[filename]      | --lesskey-file=filename                   | Use a lesskey file.                                                                           |
| -o[filename] , -O | --log-file=filename                       | Copy to log file (standard input only).                                                       |
| -Ofilename        | --LOG-FILE=filename                       | Copy to log file (unconditionally overwrite).                                                 |
|                   | MISC OPTIONS:                             |                                                                                               |
| -?                | --help                                    | Display help (from command line).                                                             |
| -d                | --dumb                                    | Dumb terminal.                                                                                |
| -e, -E            | --quit-at-eof, --QUIT-AT-EOF              | Quit at end of file.                                                                          |
| -F                | --quit-if-one-screen                      |                                                                                               |
| -J                | --status-column                           | Show Status Column on Left                                                                    |
| -K                | --quit-on-intr                            |                                                                                               |
| -q, -Q            | --quiet or --silent                       | Quiet the terminal bell.                                                                      |
| -u, -U            | --underline-special, --UNDERLINE-SPECIAL  | Change handling of backspaces.                                                                |
| -V                | --version                                 | Display the version number of "less".                                                         |
| -xn,...           | --tabs=n,...                              | Set tab stops                                                                                 |
| -X                | --no-init                                 | Don't use termcap init/deinit strings.                                                        |
| -" [c[c]], -dqcc  | --quotes=[c[c]]                           | Set shell quote characters.                                                                   |
| -L                | --no-lessopen                             | Ignore the LESSOPEN environment variable                                                      |
|                   |                                           |                                                                                               |
| -#                | --shift                                   | Specifies the default number of positions to scroll horizontally                              |
|                   | --no-keypad                               | Disables sending the keypad initialization and deinitialization strings to the terminal       |
|                   | --follow-name                             |                                                                                               |
| --                |                                           | marks the end of option arguments. Any arguments following this are interpreted as filenames. |
| +                 |                                           | The remainder of that option is taken to be an initial command                                |

### more

Display output one screen at a time, less provides more emulation and extensive enhancements.

#### Syntax

     `more [-dlfpcsu] [-num] [+/ pattern] [+ linenum] [file ...]
`
#### Options

  Command line options are described below.  Options are also taken from the environment variable MORE (make sure to precede them with a dash (``-'')) but command line options will override them.
- `-num`  This option specifies an integer which is the screen size (in lines).
- `-d`    more will prompt the user with the message "[Press space to continue, 'q' to quit.]" and will display "[Press 'h' for instructions.]" instead of ringing the bell when an illegal key is pressed.
- `-l`    more usually treats ^L (form feed) as a special character, and will pause after any line that contains a form feed.  The -l option will prevent this behavior.
- `-f`    Causes more to count logical, rather than screen lines (i.e., long lines are not folded).
- `-p`    Do not scroll.  Instead, clear the whole screen and then display the text.
- `-c`    Do not scroll.  Instead, paint each screen from the top, clearing the remainder of each line as it is displayed.
- `-s`    Squeeze multiple blank lines into one.
- `-u`    Suppress underlining.
- `+/`    The +/ option specifies a string that will be searched for before each file is displayed.
- `+num`  Start at line number num.

#### COMMANDS

  Interactive commands for more are based on vi(1).  Some commands can be preceeded by a decimal number, called k in the descriptions below.  In the following descriptions, `^X` means control-X.

- `h`, `?`      Help: display a summary of these commands.  If you forget all the other commands, remember this one.
- `SPACE`       Display next k lines of text.  Defaults to current screen size.
- `z`           Display next k lines of text.  Defaults to current screen size.  Argument becomes new default.
- `RETURN`      Display next k lines of text.  Defaults to 1. Argument becomes new default.
- `d`, `^D`     Scroll k lines.  Default is current scroll size, initially 1.   Argument becomes new default.
- `q`, `Q`,
  - `INTERRUPT` Exits the more command.
- `s`           Skip forward k lines of text.  Defaults to 1.
- `f`           Skip forward k screenfuls of text.  Defaults to 1.
- `b`, `^B`     Skip backwards k screenfuls of text.  Defaults to 1.
- `'`           Go to place where previous search started.
- `=`           Display current line number.
- `/pattern`    Search for kth occurrence of regular expression. Defaults to 1.
- `n`           Search for kth occurrence of last r.e.  Defaults to 1.
- `!`, `:!`     Execute  in a subshell
- `v`           Start up /usr/bin/vi at current line
- `^L`          Redraw screen
- `:n`          Go to kth next file.  Defaults to 1.
- `:p`          Go to kth previous file.  Defaults to 1.
- `:f`          Display current file name and line number
- `.`           Repeat previous command

#### ENVIRONMENT

  More utilizes the following environment variables, if they exist:

  MORE        This variable can be set with favored options to more.
  SHELL       Current shell in use (normally set by the shell at login

## ls

ls

-a all
-i index number
-R Recurse
-s
-hyperlink

### Converting Paths

[StackExchange Article](https://askubuntu.com/questions/900283/windows-filepath-converted-to-linux-filepath)

```bash
file=${file/C://c}
file=${file//\//}
echo $file

#Rewritten As
file=${file/C://c}
file=${file//\//}

#Using Filenames as an array
filenames=(
  'C:\Users\abcd\Downloads\testingFile.log'
  # ... add more here ...
)

for f in "${filenames[@]}"; do
  f="${f/C://c}"
  f="${f//\//}"
  echo "$f"
done

```


If you want to put the output into an array instead of printing, replace the echo line with an assignment:


```bash

  filenames_out+=( "$f" )

#Shell Function
win2lin () { f="${1/C://c}"; printf '%s\n' "${f//\//}"; }

$ file='C:\Users\abcd\Downloads\testingFile.log'
$ win2lin "$file"
/c/Users/abcd/Downloads/testingFile.log
$ file='C:\Users\pqrs\Documents\foobar'
$ win2lin "$file"
/c/Users/pqrs/Documents/foobar

#Option3
file="$(echo "$file" | sed -r -e 's|^C:|/c|' -e 's|\|/|g')"

#or
file="$(sed 's|^C:|/c|; s|\|/|g' <<< "$file")"

#Or Using tr
file="/$(echo 'C:\Users\abcd\Downloads\testingFile.log'|tr '^C' 'c'|tr '\' '/')"

file="/mnt/$(echo $file|tr '^C' 'c'|tr '^D' 'd'|tr '^E' 'e'|tr '^F' 'f'|tr '^G' 'g'|tr '^H' 'h'|tr 'q^I' 'i'|tr '^J' 'j'|tr '^K' 'k'|tr '^L' 'l'|tr '^M' 'm'|tr '^N' 'n'|tr '^O' 'o'|tr '^P' 'p'|tr '^Q' 'q'|tr '^R' 'r'|tr '^S' 's'|tr '^T' 't'|tr '^U' 'u'|tr '^V' 'v'|tr '^W' 'w'|tr '^X' 'x'|tr '^Y' 'y'|tr '^Z' 'z'|tr '^A' 'a'|tr '^B' 'b'|tr '\' '/')"

file="/mnt/$(echo $file|tr '^C' 'c'|tr '^D' 'd'|tr '^E' 'e'|tr '^F' 'f'|tr '^G' 'g'|tr '^H' 'h'|tr 'q^I' 'i'|tr '^J' 'j'|tr '^K' 'k'|tr '^L' 'l'|tr '^M' 'm'|tr '^O' 'o'|tr '^P' 'p'|tr '^Q' 'q'|tr '^R' 'r'|tr '^S' 's'|tr '^V' 'v'|tr '^W' 'w'|tr '^X' 'x'|tr '^Y' 'y'|tr '^Z' 'z'|tr '^A' 'a'|tr '^B' 'b'|tr '\' '/')"
```

## lsof

[lsof github](https://github.com/lsof-org/lsof)


lsof is a command listing open files.

This may be non standard software.  

### Get ports youre listening on

lsof -i -P -n

sudo lsof -i -P -n | grep LISTEN

sudo netstat -tulpn | grep LISTEN

 ss
 ss -tulw 

How it works:

    $ cat > /tmp/LOG &
    cat > /tmp/LOG &
    [1] 18083
    $ lsof -p 18083
    lsof -p 18083
    COMMAND   PID   USER   FD   TYPE DEVICE  SIZE/OFF     NODE NAME
    cat     18083 yamato  cwd    DIR   0,44      1580 43460784 /tmp/lsof
    cat     18083 yamato  rtd    DIR  253,2      4096        2 /
    cat     18083 yamato  txt    REG  253,2     47432   678364 /usr/bin/cat
    cat     18083 yamato  mem    REG  253,2 111950656   681778 /usr/lib/locale/locale-archive
    cat     18083 yamato  mem    REG  253,2   2119256   679775 

### Option List- lots of them

Options are rather cryptic.  Especially cryptic ones were removed.

> Defaults in parentheses; comma-separated set (s) items; dash-separated ranges.
- `-?|-h ` - list help
- `-a ` - AND selections (OR)
- `-b ` - avoid kernel blocks
- `+d  s` - dir s files
- `+D ` D -   dir D tree *SLOW?*   
- `+|-e ` s -  exempt s *RISKY*
- `-i ` - select IPv[4/6] files  
  - `-i i`   select by IPv[46] address: [46][proto][@host|addr][:svc_list|port_list]
- `-K  [i]` - list|(i)gn tasKs    
- `-l ` - list UID numbers
- `-n ` - no host names         
- `-N ` - select NFS files        
- `-P ` - no port names           
- `-R ` - list paRent PID
- `-s ` - list file size        
- `-t ` - terse listing           
- `-T ` - disable TCP/TPI info
- `-U ` - select Unix socket    
- `-v ` - list version info       
- `-V ` - verbose search
- `+|-w ` -  Warnings (+)       
- `-X ` - skip TCP&UDP* files     
- `-- ` - end option scan
- `-E ` - display endpoint info              
- `+E ` - display endpoint info and files
- `+f|-f ` -  +filesystem or -file names     
- `+|-f[gG] ` - flaGs 
- `-F  [f]` select fields; 
- `-F? ` - for help  
- `+|-L ` - [l] list (+) suppress (-) link counts < l (0 = all; default = 0)
                                      
- `+m [m]` -  use|create mount supplement
0=9 `+|-M `  portMap registration (-)       
- `-o o`   o 0t offset digits (8)
- `-p s`   exclude(^)|select PIDs         
`-S [t]` - t second stat timeout (15)
`-T qs` - TCP/TPI Q,St (s) info
`-g [s]` -  exclude(^)|select and print process group IDs

+|-r [t[m<fmt>]] repeat every t seconds (15); 
  - `+` until no files,
  - `-` forever.
      An optional suffix to t is m<fmt>; m must separate t from <fmt> and
    <fmt> is an strftime(3) format for the marker line.
- `-s p:s`  exclude(^)|select protocol (p = TCP|UDP) states by name(s).
- `-u s`   exclude(^)|select login|UID set s





## IPCS

`ipcs` shows information on the inter-process communication facilities for which the calling process has read access. By default, it shows information about all three resources: shared memory segments, message queues, and semaphore arrays.

Without options, the information shall be written in short format for message queues, shared memory segments, and semaphore sets that are currently active in the system. Otherwise, the information that is displayed is controlled by the options specified.

Options :

- `-q` : Write information about active message queues.
- `-m` : Write information about active shared memory segments.
- `-s` : Write information about active semaphore sets.
- `-a`  : Use all print options. (This is a shorthand notation for -b, -c, -o, -p, and -t.)
- `-b`  : Write information on maximum allowable size. (Maximum number of bytes in messages on queue for message queues, size of segments for shared memory, and number of semaphores in each set for semaphores.)
- `-c`  : Write creator’s user name and group name;.
- `-o`  : Write information on outstanding usage. (Number of messages on queue and total number of bytes in messages on queue for message queues, and number of processes attached to shared memory segments.)
- `-p`  : Write process number information. (Process ID of the last process to send a message and process ID of the last process to receive a message on message queues, process ID of the creating process, and process ID of the last process to attach or detach on shared memory segments.)
- `-t`  : Write time information. (Time of the last control operation that changed the access permissions for all facilities, time of the last msgsnd() and msgrcv() operations on message queues, time of the last shmat() and shmdt() operations on shared 

## IP

Rather important little program.  Does a TON of stuff.

Has a large slew of options.  I think commands like route etc, just are synonyms for this.

[IP](https://linux.die.net/HOWTO/Adv-Routing-HOWTO/lartc.iproute2.explore.html)
[Advanced Routing](https://linux.AAdie.net/HOWTO/Adv-Routing-HOWTO/index.html)



ip link list
ip address show
ip route show
 ip neigh show
 ip rule list
  ip -d link list eth3 - show the details of eth3
  ip route ls
ip route list table local

**`ip -c address` - add color, show addresses.** I quite like the color aspect.
ip -c address show dev eth3 
ifconfig eth0 hw ether AA:BB:CC:DD:EE:FF

- ip
   - link 
      - add
      - delete
      - set
      - show
      - xstats
      - afstats
   - address 
      - add
      - change
      - replace
      - del
      - save
      - flush
      - show
      - showdump
      - restore
   - addrlabel 
      - add
      - del
      - list
      - flush
	- route 
      - list
      - flush
      - save
      - restore
      - showdump
      - get
      - add
      - del
      - change
      - append
      - replace
	- rule 
	- neigh 
	- ntable 
	- tunnel 
	- tuntap 
	- maddress 
	- mroute 
	- mrule 
	- monitor 
	- xfrm 
	- netns 
	- l2tp 
	- fou 
	- macsec 
	- tcp_metrics 
	- token 
	- netconf 
	- ila 
	- vrf 
	- sr 
	- nexthop

### Figure out how you are connecting

`ip route get`

    root@Unraid:~# ip route get 8.8.8.8 
    8.8.8.8 via 192.168.1.1 dev br1 src 192.168.1.241 uid 0 
        cache 

I have this command stored in my notes, unsure what it does:

      ip route get 8.8.8.8 | sed -n 's/.*dev \([^\ ]*\) table.*/\1/p' 

## ps 

> Usage:
> ps [options]
> 
> Basic options:
> -A, -e               all processes
> -a                   all with tty, except session leaders
> a                   all with tty, including other users
> -d                   all except session leaders
> -N, --deselect       negate selection
> r                   only running processes
> T                   all processes on this terminal
> x                   processes without controlling ttys
> 
> Selection by list:
> -C <command>         command name
> -G, --Group <GID>    real group id or name
> -g, --group <group>  session or effective group name
> -p, p, --pid <PID>   process id
> --ppid <PID>  parent process id
> -q, q, --quick-pid <PID>
> process id (quick mode)
> -s, --sid <session>  session id
> -t, t, --tty <tty>   terminal
> -u, U, --user <UID>  effective user id or name
> -U, --User <UID>     real user id or name
> 
> The selection options take as their argument either:
> a comma-separated list e.g. '-u root,nobody' or
> a blank-separated list e.g. '-p 123 4567'
> 
> Output formats:
> -F                   extra full
> -f                   full-format, including command lines
> f, --forest         ascii art process tree
> -H                   show process hierarchy
> -j                   jobs format
> j                   BSD job control format
> -l                   long format
> l                   BSD long format
> -M, Z                add security data (for SELinux)
> -O <format>          preloaded with default columns
> O <format>          as -O, with BSD personality
> -o, o, --format <format>
> user-defined format
> s                   signal format
> u                   user-oriented format
> v                   virtual memory format
> X                   register format
> -y                   do not show flags, show rss vs. addr (used with -l)
> --context        display security context (for SELinux)
> --headers        repeat header lines, one per page
> --no-headers     do not print header at all
> --cols, --columns, --width <num>
> set screen width
> --rows, --lines <num>
> set screen height
> 
> Show threads:
> H                   as if they were processes
> -L                   possibly with LWP and NLWP columns
> -m, m                after processes
> -T                   possibly with SPID column
> 
> Miscellaneous options:
> -c                   show scheduling class with -l option
> c                   show true command name
> e                   show the environment after command
> k,    --sort        specify sort order as: [+|-]key[,[+|-]key[,...]]
> L                   show format specifiers
> n                   display numeric uid and wchan
> S,    --cumulative  include some dead child process data
> -y                   do not show flags, show rss (only with -l)
> -V, V, --version     display version information and exit
> -w, w                unlimited output width
> 
> --help <simple|list|output|threads|misc|all>
> display help and exit

## RSync

See also [rcp](https://www.computerhope.com/unix/urcp.htm). -the rcp command copies files from one networked computer to another. 



[RSync Examples](https://phoenixnap.com/kb/rsync-command-linux-examples)

[Source 2](https://www.computerhope.com/unix/rsync.htm)
  - full set of options here.


[Source 3](https://linuxize.com/post/how-to-use-rsync-for-local-and-remote-data-transfer-and-synchronization/)

[Source 4](https://www.tecmint.com/rsync-local-remote-file-synchronization-commands/)



Much of the following is copied without modification from the 1st source.

The rsync utility expressions take the following form:

Local to Local:  `rsync [OPTION]... [SRC]... DEST`
Local to Remote: `rsync [OPTION]... [SRC]... [USER@]HOST:DEST`
Remote to Local: `rsync [OPTION]... [USER@]HOST:SRC... [DEST]`


|Options | Description|
|-------|------------|
| -r |sync data recursively, does not keep ownership, permissions, timestamps, or  symlinks. |
| -a | like the recursive mode,+keeps permissions, symlinks, ownership, etc. |
| -z | compress data during transfers to save space. |
| -b |	Performs a backup during data synchronization.|
| -h | Shows the numbers in the output in a human-readable format.|
| -n | Does a dry run. Used for testing before the actual synchronization takes place.|
| -e | use the SSH protocol for remote transfers.|
| –progress	| Displays the transfer progress during synchronization.|
| -v | Verbose output. Displays the details of the transfer.|
| -q |Used to suppress the output for the rsync command and options.|


It is worth mentioning that rsync gives different treatment to the source directories with a trailing slash (/). 

If the source directory has a trailing slash, the command will copy only the directory contents to the destination directory. 

When the trailing slash is omitted, rsync copies the source directory **inside** the destination directory.

### Options 

#### -a, --archive, 

archive mode, equivalent to `-rlptgoD`. This option tells rsync to syncs directories recursively, transfer special and block devices, preserve symbolic links, modification times, groups, ownership, and permissions.

#### -P

equivalent to --partial --progress. When this option is used, rsync shows a progress bar during the transfer and keeps the partially transferred files. It is useful when transferring large files over slow or unstable network connections.

#### --append

This causes rsync to update a file by appending data onto the end of the file, which presumes that the data that already exists on the receiving side is identical with the start of the file on the sending side. If a file needs to be transferred and its size on the receiver is the same or longer than the size on the sender, the file is skipped. This does not interfere with the updating of a file's non-content attributes (e.g., permissions, ownership, etc.) when the file does not need to be transferred, nor does it affect the updating of any non-regular files. Implies --inplace, but does not conflict with --sparse (since it is always extending a file's length).

This would only seem to make sense for text files.

#### --existing, --ignore-non-existing

This tells rsync to skip creating files (including directories) that do not exist yet on the destination. If this option is combined with the --ignore-existing option, no files will be updated (which can be useful if all you want to do is delete extraneous files).

This option is a transfer rule, not an exclude, so it doesn’t affect the data that goes into the file-lists, and thus it doesn’t affect deletions. It just limits the files that the receiver requests to be transferred.

#### --ignore-existing

This tells rsync to skip updating files that already exist on the destination (this does not ignore existing directories, or nothing would get done). See also --existing.

This option is a transfer rule, not an exclude, so it doesn’t affect the data that goes into the file-lists, and thus it doesn’t affect deletions. It just limits the files that the receiver requests to be transferred.

This option can be useful for those doing backups using the --link-dest option when they need to continue a backup run that got interrupted. Since a --link-dest run is copied into a new directory hierarchy (when it is used properly), using --ignore existing will ensure that the already-handled files don’t get tweaked (which avoids a change in permissions on the hard-linked files). This does mean that this option is only looking at the existing files in the destination hierarchy itself

#### --delete

This tells rsync to delete extraneous files from the receiving side (ones that aren’t on the sending side), but only for the directories that are being synchronized. You must have asked rsync to send the whole directory (e.g., "dir" or "dir/") without using a wildcard for the directory's contents (e.g., "dir/*") since the wildcard is expanded by the shell and rsync thus gets a request to transfer individual files, not the files’ parent directory. Files that are excluded from the transfer are also excluded from being deleted unless you use the --delete-excluded option or mark the rules as only matching on the sending side (see the include/exclude modifiers in the FILTER RULES section). Prior to rsync 2.6.7, this option would have no effect unless --recursive was enabled. Beginning with 2.6.7, deletions will also occur when --dirs (-d) is enabled, but only for directories whose contents are being copied.

This option can be dangerous if used incorrectly. It is a very good idea to first try a run using the --dry-run option (-n) to see what files are going to be deleted.

If the sending side detects any I/O errors, then the deletion of any files at the destination will be automatically disabled. This is to prevent temporary filesystem failures (such as NFS errors) on the sending side from causing a massive deletion of files on the destination. You can override this with the --ignore-errors option.

The --delete option may be combined with one of the --delete-WHEN options without conflict, as well as --delete-excluded. However, if none of the --delete-WHEN options are specified, rsync will choose the --delete-during algorithm when talking to rsync 3.0.0 or newer, and the --delete-before algorithm when talking to an older rsync. See also --delete-delay and --delete-after.

#### -z, --compress

With this option, rsync compresses the file data as it is sent to the destination machine, which reduces the amount of data being transmitted; something that is useful over a slow connection.

Note that this option typically achieves better compression ratios than can be achieved by using a compressing remote shell or a compressing transport because it takes advantage of the implicit information in the matching data blocks that are not explicitly sent over the connection.

See the --skip-compress option for the default list of file suffixes that will not be compressed.

#### -i, --itemize-changes

Requests a simple itemized list of the changes that are being made to each file, including attribute changes. This is exactly the same as specifying --out-format='%i %n%L'. If you repeat the option, unchanged files will also be output, but only if the receiving rsync is at least version 2.6.7 (you can use -vv with older versions of rsync, but that also turns on the output of other verbose messages).

The "%i" escape has a cryptic output that is 11 letters long. The general format is like the string YXcstpoguax, where Y is replaced by the type of update being done, X is replaced by the file-type, and the other letters represent attributes that may be output if they are being modified.

The update types that replace the Y are as follows:

`<` means that a file is being transferred to the remote host (sent).
`>` means that a file is being transferred to the local host (received).
- `c` -  means that a local change/creation is occurring for the item (such as the creation of a directory or the changing of a symlink, etc.).
- `h` -  means that the item is a hard link to another item (requires --hard-links).
- `.` -  means that the item is not being updated (though it might have attributes that are being modified).
- `*` -  means that the rest of the itemized-output area contains a message (e.g., "deleting").
The file-types that replace the X are: f for a file, a `d` for a directory, an `L` for a symlink, a `D` for a device, and a `S` for a special file (e.g., named sockets and fifos).

The other letters in the string above are the actual letters that will be output if the associated attribute for the item is being updated or a "." for no change. Three exceptions to this are:

a newly created item replaces each letter with a "`+"`,
an identical item replaces the dots with spaces, and
an unknown attribute replaces each letter with a "`?`" (this can happen when talking to an older rsync).
The attribute that is associated with each letter is as follows:

- `c` -  means either that a regular file has a different checksum (requires --checksum) or that a symlink, device, or special file has a changed value. Note that if you are sending files to an rsync prior to 3.0.1, this change flag will be present only for checksum-differing regular files.
- `s` -  means the size of a regular file is different and will be updated by the file transfer.
- `t` -  means the modification time is different and is being updated to the sender's value (requires --times). An alternate value of T means that the modification time will be set to the transfer time, which happens when a file/symlink/device is updated without --times and when a symlink is changed and the receiver can’t set its time. Note: when using an rsync 3.0.0 client, you might see the s flag combined with t instead of the proper T flag for this time-setting failure.
- `p` -  means the permissions are different and are being updated to the sender's value (requires --perms).
- `o` -  means the owner is different and is being updated to the sender's value (requires --owner and super-user privileges).
- `g` -  means the group is different and is being updated to the sender's value (requires --group and the authority to set the group).
- `u` -  slot is reserved for future use.
- `a` -  means that the ACL information changed.
- `x` -  means that the extended attribute information changed.

One other output is possible: when deleting files, the "`%i`" will output the string "`*deleting`" for each item that is being removed (assuming that you are talking to a recent enough rsync that it logs deletions instead of outputting them as a verbose message).


#### --stats

This tells rsync to print a verbose set of statistics on the file transfer, allowing you to tell how effective rsync's delta-transfer algorithm is for your data.

#### -m, --prune-empty-dirs

This option tells the receiving rsync to get rid of empty directories from the file-list, including nested directories that have no non-directory children. This is useful for avoiding the creation of a bunch of useless directories when the sending rsync is recursively scanning a hierarchy of files using include/exclude/filter rules.

### Examples 

#### Copy a single file

    rsync -v /home/test/Desktop/sample.txt /home/test/Desktop/rsync/

in this example, a file name backup.tar needs to be copied or synced to /tmp/backups/ folder.

    root@tecmint]# rsync -zvh backup.tar /tmp/backups/

      created directory /tmp/backups

      backup.tar

      sent 14.71M bytes  received 31 bytes  3.27M bytes/sec

      total size is 16.18M  speedup is 1.10

#### Copy Multiple Files Locally


To copy multiple files with rsync, add full paths of the source files:

    rsync -v /home/test/Desktop/sample.txt /home/test/Desktop/sample2rs.txt /home/test/Desktop/rsync


#### Copy a Directory and All Subdirectories Locally (Copy Files and Directories Recursively)

To copy a directory and its contents to another location on your machine, use the -a or -r option. We used the archive option:

    rsync -av /home/test/Desktop/Linux /home/test/Desktop/rsync


#### Copy a File or Directory from Local to Remote Machine
To copy the directory /home/test/Desktop/Linux to /home/test/Desktop/rsync on a remote machine, you need to specify the IP address of the destination.

Add the IP address and the destination after the source directory. Remember to put a colon (:) after the remote host’s IP address, with no spaces before the destination.

The command looks like this:

    rsync -av /home/test/Desktop/Linux 192.168.56.100:/home/test/Desktop/rsync

Enter the password for the current user to continue. If you want to use another account for the remote connection, specify it before the IP address:

    rsync -a /home/test/Desktop/Linux jay@192.168.56.100:/home/test/Desktop/rsync

To copy a single file to a remote host, specify the full path of the file and the destination.

    rsync -av /home/test/Desktop/sample_file.txt 192.168.56.100:/home/test/Desktop/rsync

#### Specify rsync Protocol for Remote Transfers

The rsync tool can be instructed with the -e option to use a specific protocol for file transfers. To use Rsync over SSH to transfer files remotely, append -e ssh to the rsync command.

For example, to transfer sample.txt from your desktop to the desktop of a remote machine:

    rsync -e ssh /home/test/Desktop/sample.txt 192.168.56.100:/home/test/Desktop

#### Delete a Nonexistent Source File or Directory from Destination
  
Use the `--delete` option to keep the source and the target in sync.

This option tells rsync to delete any file or directory at the destination if the source does not have it.

    rsync -av --delete /home/test/Desktop/Dir1 192.168.56.100:/home/test/Desktop/rsync

If a file or directory not exist at the source, but already exists at the destination, you might want to delete that existing file/directory at the target while syncing .

We can use ‘–delete‘ option to delete files that are not there in source directory.

Source and target are in sync. Now creating new file test.txt at the target.

    [root@tecmint]# touch test.txt
    [root@tecmint]# rsync -avz --delete root@192.168.0.100:/var/lib/rpm/ .
    Password:
    receiving file list ... done
    deleting test.txt
    ./
    sent 26 bytes  received 390 bytes  48.94 bytes/sec
    total size is 45305958  speedup is 108908.55

#### Delete Source Files After Transfer

In some scenarios, you may want to delete the source files after the transfer. For example, you may be moving a weekly backup to a new server. Once the transfer is done, you no longer need the source files on the old server.

In that case, use the `--remove-source-files` flag to delete the source file you specified.

For example, this command transfers the backup file weekly.zip and then deletes it from the source:

    rsync -v --remove-source-files /home/test/backup/weekly.zip 192.168.56.100:/home/test/Desktop/rsync/


#### Set Maximum File Size for Transfer

To determine the maximum file size that rsync will transfer, use the `--max-size=add_size`.

For example, to transfer files no larger than 500KB, use this command:

    rsync -av --max-size=500k /home/test/Desktop/Dir1 192.168.56.100:/home/test/Desktop/rsync/

And to Set Minimum File Size for Transfer

Use `--min-size=add_size` with rsync when you do not want to transfer files smaller than the size you specify. This option is useful, for example, when you want to skip small log or thumbnail files.

To skip any file smaller than 10KB, run this command:

    rsync -av --min-size=10k /home/test/Desktop/ 192.168.56.100:/home/test/Desktop/rsync/

#### Copy Directory Structure but Skip Files

Rsync allows you to transfer only directory structure if you do not need the files at another location.

To do so, add `-f"+ */" -f"- *"` before the source directory.

For example, to copy the structure of the Linux directory to Documents, enter:

    rsync -av -f"+ */" -f"- *"  /home/test/Desktop/Linux /home/test/Documents


#### Add Date Stamp to Directory Name

You can easily add a date to a directory name if you want to put a date stamp to your transfers.

Append $(date +\%Y-\%m-\%d) to the destination directory name you want to create. This option is useful when you want to keep track of when transfers took place without opening directory properties.

For example:

    rsync -av /home/test/Desktop/Linux /home/test/Desktop/rsync$(date +\%Y-\%m-\%d)

#### Do Not Copy Source File if the Same Destination File is Modified

If you keep in sync two directories, rsync does not copy a file if the same one exists at the destination.

Sometimes it may happen that you modify a file at the destination and do not want to let rsync overwrite it.

To avoid overwriting modified destination files, use the `-u` option.

For example:

    rsync -avu /home/test/Desktop/Linux/ /home/test/Desktop/rsync

#### Show the Difference Between the Source and Destination Files

When you start transferring data, you can use the -i flag with rsync to check if there is a difference between the source and the destination.

For example:

    rsync -avi /home/test/Desktop/Linux/ /home/test/Desktop/rsync

Terminal with the output for the `-i` rsync option.

(Image shows:)

    >f++++++++++ sample2rs.txt


The example above shows the sample2rs.txt file is missing at the destination.

Possible letters in the output are:

    f – stands for file
    d – shows the destination file is in question
    t – shows the timestamp has changed
    s – shows the size has changed

### My Usage Examples

### Sync all the files 

rsync -rlthP --stats SRC /mnt/disks/Elements/ DEST .
rsync -rlthP --stats --size-only --progress --exclude '__Huge/*' --dry-run  /mnt/disks/Seagate_Expansion_Drive  /mnt/user/rDriveA/Seagate_Expansion_Drive
`rsync -rlthP --stats --size-only --progress --exclude '__Huge/*' /mnt/disks/Seagate_Expansion_Drive  /mnt/user/rDriveA/Seagate_Expansion_Drive`

`rsync -rlthP --stats --size-only --progress --exclude '__Huge/*' --exclude 'X\ backup*'  /mnt/disks/Elements/  /mnt/user/rDriveA/Elements/`

`rsync -rlthP --stats --size-only --progress --del  /mnt/disks/Elements/  /mnt/user/rDriveA/Elements/`



### rtmon

Stores the ipmonitor data.  Its not readable

      rtmon file /var/log/rtmon.log

To view 
   
      ip monitor file ~/rtmon.log
      ip monitor file var/log/rtmon.log

## tar

[Source](https://www.adminschoice.com/backup-commands-examples)


tar features:
1. tar ( tape  archive ) is used for single or multiple files backup and restore on/from  a tape or file
2. tar can not backup special character & block device files , shows as 0 byte files with first letter of permissions as b or c for block or character.
3. tar Works only on mounted file system, it can not access the files on unmounted file system.

Backing up all files in a directory including subdirectories to a  tape device (`/dev/rmt/0`) or a file.


### Example 1 :

            $tar    cvf    /dev/rmt/0   *

In the command above Options are  `c` -> **create** ; `v` -> **Verbose** ; `f`-> **file** or archive device   ; `*` -> all files and directories . Together the commands means create a tar file on /dev/rmt/0 from all file and directories s *in the current directory.*

### Example 2:

            $tar cvf /home/backup *

Create a tar  called backup in home directory , from all file and directories s in the current directory.

#### Viewing a tar backup on a tape or file

`t` option is used to see the table of content in a tar file.

            $tar    tvf    /dev/rmt/0  ## view files  backed up on a tape device.

            $tar tvf  /home/backup  ## view files  backed up inside the  backup

### Extracting tar backup from the tape

`x` option is used to extract the files from tar file.

extract /  restore files in to current directory.

            $tar xvf /dev/rmt/0       

extract / restore files in to current directory.

            $tar xvf /home/backup

Note : Restoration will go to present directory or original backup path depending on relative or absolute path names used for backup.

Some of useful tar options. 

- `-p, –preserve-permissions` -  Extract & keep the  file permissions (default for superuser)
- `-z`, `–gzip` - Filter the archive through gzip
- `-j`, `–bzip2` - Filter the archive through bzip2
- `-u`, `–update` Only append files newer than copy in archive
- `-r`, `–append` -  Append files to the end of an archive
- `–delete` - Delete from the archive (not on mag tapes!)
- `-d`, `–diff`, `–compare` - Find differences between archive and file system
- `–test-label` - Test the archive volume label and exit
- `-C`, `–directory=DIR` - Change to directory DIR

## find


for directories visibility use:

    find /mnt/user -type d -exec chmod 755 {} \;
 
and for files within a directory use:

    find /mnt/user -type f -exec chmod 700 {} \;

## Less 


      
                              SUMMARY OF LESS COMMANDS

            Commands marked with * may be preceded by a number, N.
            Notes in parentheses indicate the behavior if N is given.
            A key preceded by a caret indicates the Ctrl key; thus ^K is ctrl-K.

            h  H                 Display this help.
            q  :q  Q  :Q  ZZ     Exit.
            ---------------------------------------------------------------------------

                                    MOVING

            e  ^E  j  ^N  CR  *  Forward  one line   (or N lines).
            y  ^Y  k  ^K  ^P  *  Backward one line   (or N lines).
            f  ^F  ^V  SPACE  *  Forward  one window (or N lines).
            b  ^B  ESC-v      *  Backward one window (or N lines).
            z                 *  Forward  one window (and set window to N).
            w                 *  Backward one window (and set window to N).
            ESC-SPACE         *  Forward  one window, but don't stop at end-of-file.
            d  ^D             *  Forward  one half-window (and set half-window to N).
            u  ^U             *  Backward one half-window (and set half-window to N).
            ESC-)  RightArrow *  Right one half screen width (or N positions).
            ESC-(  LeftArrow  *  Left  one half screen width (or N positions).
            ESC-}  ^RightArrow   Right to last column displayed.
            ESC-{  ^LeftArrow    Left  to first column.
            F                    Forward forever; like "tail -f".
            ESC-F                Like F but stop when search pattern is found.
            r  ^R  ^L            Repaint screen.
            R                    Repaint screen, discarding buffered input.
                  ---------------------------------------------------
                  Default "window" is the screen height.
                  Default "half-window" is half of the screen height.
            ---------------------------------------------------------------------------

                                    SEARCHING

            /pattern          *  Search forward for (N-th) matching line.
            ?pattern          *  Search backward for (N-th) matching line.
            n                 *  Repeat previous search (for N-th occurrence).
            N                 *  Repeat previous search in reverse direction.
            ESC-n             *  Repeat previous search, spanning files.
            ESC-N             *  Repeat previous search, reverse dir. & spanning files.
            ESC-u                Undo (toggle) search highlighting.
            &pattern          *  Display only matching lines
                  ---------------------------------------------------
                  A search pattern may begin with one or more of:
                  ^N or !  Search for NON-matching lines.
                  ^E or *  Search multiple files (pass thru END OF FILE).
                  ^F or @  Start search at FIRST file (for /) or last file (for ?).
                  ^K       Highlight matches, but don't move (KEEP position).
                  ^R       Don't use REGULAR EXPRESSIONS.
            ---------------------------------------------------------------------------


## tmux

[Man Page](https://linux.die.net/man/1/tmux)

Tons and tons of options.  Rather complex

Commmand execution starts with [[Ctrl]] + [[b]]

### tmux split the screen

[[Ctrl]] + [[b]], [[%]]

### Switch between panes

[[Ctrl]] + [[b]], [[<-]]
[[Ctrl]] + [[b]], [[<Arrow Key>]]


### Close a pane

type exit or[[Ctrl]] + [[d]]

### Open a new window

[[Ctrl]] + [[b]], [[c]]

? same as just running `tmux`

### switch screens

- **Next** - [[Ctrl]] + [[b]], [[p]]

- **Previous** - [[Ctrl]] + [[b]], [[n]]

### Detach a pane

[[Ctrl]] + [[b]], [[d]] - detach the current pane

[[Ctrl]] + [[b]], [[D]] -  Decide which to detach

### To reattach a pane thats been detached

`tmux attach-session`

`tmux`
[[ctrl]] + [[b]], [[%]]
Run Rsync
[[ctrl]] + [[b]], [[d]]
reattach with  : `tmux attach-session`

This should survive the closing of the window

This is now running in the background

Get a list of running processes  `tmux ls`
[[CTRL]]+[[b]]            Send the prefix key (C-b) through to theapplication.

[[CTRL]]+[[o]] Rotate the panes in the current window forwards.
[[CTRL]]+[[z]] Suspend the tmux client.
- +[[!]] - Break the current pane out of the window.
- +[["]] - Split the current pane into two, top and bottom.
- +[[#]] - List all paste buffers.
- +[[$]] - Rename the current session.
- +[[%]] - Split the current pane into two, left and right.
- +[[&]] - Kill the current window.
- +[[']] - Prompt for a window index to select.
- +[[,]] - **Rename the current window.**
- +[[-]] - Delete the most recently copied buffer of text.
- +[[.]] - Prompt for an index to move the current window.
- [[0]] to [[9]] - Select windows 0 to 9.
- +[[:]] - Enter the tmux command prompt.
- +[[;]] - Move to the previously active pane.
- +[[=]] - Choose which buffer to paste interactively from a list.
- +[[?]] - List all key bindings.
- +[[D]] - Choose a client to detach.
- +[[`[`]] - Enter copy mode to copy text or view the history.
- +[[`]`]] - Paste the most recently copied buffer of text.
- +[[c]] - Create a new window.
- +[[d]] - **Detach the current client.**
- +[[f]] - Pr1ompt to search for text in open windows.
- +[[i]] - Display some information about the current window.
- +[[l]] - Move to the previously selected window.
- +[[n]] - Change to the next window.
- +[[o]] - Select the next pane in the current window.
- +[[p]] - Change to the previous window.
- +[[q]] - Briefly display pane indexes.
- +[[r]] - Force redraw of the attached client.
- +[[s]] - Select a new session for the attached client interactively.
- +[[L]] - Switch the attached client back to the last session.
- +[[t]] - Show the time.
- +[[w]] - Choose the current window interactively.
- +[[x]] - Kill the current pane.
- +[[{]] - Swap the current pane with the previous pane.
- +[[}]] - Swap the current pane with the next pane.
- +[[~]] - Show previous messages from tmux, if any.
- +[[Page Up]] - Enter copy mode and scroll one page up.
- +[[Up]], [[Down]] -[[Left]], [[Right]] - Change to the pane above, below, to the left, or to the right of the current pane.


- [[ALT]] -[[1]] to - +[[ALT]] -[[5]]
Arrange panes in one of the five preset layouts: even-horizontal, even-vertical, main-horizontal, main-vertical, or tiled.
- [[ALT]] +[[n]] Move to the next window with a bell or activity marker.
- [[ALT]] +[[o]] Rotate the panes in the current window backwards.
- [[ALT]] +[[p]] Move to the previous window with a bell or activity marker.
- [[CTRL]] -[[Up]], [[CTRL]] -[[Down]], [[CTRL]] -[[Left]], [[CTRL]] -[[Right]] - Resize the current pane in steps of one cell.
- [[ALT]] -[[Up]], [[ALT]] -[[Down]], [[ALT]] -[[Left]], [[ALT]] -[[Right]] - Resize the current pane in steps of five cells. 



detach-client [-P] [-s target-session] [-t target-client]
(alias: detach) Detach the current client if bound to a key, the client specified with -t, or all clients currently attached to to the session specified by -s. If -P is given, send SIGHUP to the parent process of the client, typically causing it to exit.

has-session [-t target-session]
(alias: has) Report an error and exit with 1 if the specified session does not exist. If it does exist, exit with 0.

`kill-server`
Kill the tmux server and clients and destroy all sessions.

`kill-session` [-t target-session]
Destroy the given session, closing any windows linked to it and no other sessions, and detaching all clients attached to it.

`list-clients` [-t target-session]
(alias: `lsc`) List all clients attached to the server. If target-session is specified, list only clients connected to that session.

`list-commands`
(alias: `lscm`) List the syntax of all commands supported by tmux.

`list-sessions`
(alias: `ls`) List all sessions managed by the server.

`lock-client` [-t target-client]
(alias: `lockc`) Lock target-client, see the lock-server command.

`lock-session` [-t target-session]
(alias: `locks`) Lock all clients attached to target-session.

`new-session` [-d] [-n window-name] [-s session-name] [-t target-session] [-x width] [-y height] [shell-command]
(alias: `new`) Create a new session with name session-name. 


`refresh-client` [-t target-client]
(alias: `refresh`) Refresh the current client if bound to a key, or a single client if one is given with -t.

`rename-session `[-t target-session] new-name
(alias: `rename`) Rename the session to new-name.

`show-messages` [-t target-client]
(alias: `showmsgs`) Any messages displayed on the status line are saved in a per-client message log, up to a maximum of the limit set by the message-limit session option for the session attached to that client. This command displays the log for target-client.

`source-file` path
(alias: `source`) Execute commands from path.

`start-server`
(alias: `start`) Start the tmux server, if not already running, without creating any sessions.

`suspend-client `[-t target-client]
(alias: `suspendc`) Suspend a client by sending SIGTSTP (tty stop).

`switch-client` [-lnp] [-c target-client] [-t target-session]
(alias: `switchc`) Switch the current session for client target-client to target-session. If -l, -n or -p is used, the client is moved to the last, next or previous session respectively. 
        
- `break-pane` [-d] [-t target-pane] - (alias: `breakp`) Break target-pane off from its containing window to make it the only pane in a new window. If -d is given, the new window does not become the current window.

`capture-pane` [-b buffer-index] [-E end-line] [-S start-line] [-t target-pane]
(alias: `capturep`) Capture the contents of a pane to the specified buffer, or a new buffer if none is specified.

-S and -E specify the starting and ending line numbers, zero is the first line of the visible pane and negative numbers are lines in the history. The default is to capture only the visible contents of the pane.

`choose-client` [-t target-window] [template]
Put a window into client choice mode, allowing a client to be selected interactively from a list. After a client is chosen, '%%' is replaced by the client pty(4) path in template and the result executed as a command. If template is not given, "detach-client -t '%%'" is used. This command works only from inside tmux.

`choose-session` [-t target-window] [template]
Put a window into session choice mode, where a session may be selected interactively from a list. When one is chosen, '%%' is replaced by the session name in template and the result executed as a command. If template is not given, "switch-client -t '%%'" is used. This command works only from inside tmux.

`choose-window` [-t target-window] [template]
Put a window into window choice mode, where a window may be chosen interactively from a list. After a window is selected, '%%' is replaced by the session name and window index in template and the result executed as a command. If template is not given, "select-window -t '%%'" is used. This command works only from inside tmux.

`display-panes `[-t target-client]
(alias: displayp) Display a visible indicator of each pane shown by target-client. See the display-panes-time, display-panes-colour, and display-panes-active-colour session options. While the indicator is on screen, a pane may be selected with the '0' to '9' keys.

`find-window` [-t target-window] match-string
(alias: findw) Search for the fnmatch(3) pattern match-string in window names, titles, and visible content (but not history). If only one window is matched, it'll be automatically selected, otherwise a choice list is shown. This command only works from inside tmux.

`join-pane` [-dhv] [
-l size | -p percentage] [-s src-pane] [-t dst-pane]
(alias: `joinp`) Like split-window, but instead of splitting dst-pane and creating a new pane, split it and move src-pane into the space. This can be used to reverse break-pane.

`kill-pane` [-a] [-t target-pane]
(alias: `killp`) Destroy the given pane. If no panes remain in the containing window, it is also destroyed. The -a option kills all but the pane given with -t.

`kill-window` [-t target-window]
(alias: `killw`) Kill the current window or the window at target-window, removing it from any sessions to which it is linked.

`last-pane` [-t target-window]
(alias: `lastp`) Select the last (previously selected) pane.

`last-window` [-t target-session]
(alias: `last`) Select the last (previously selected) window. If no target-session is specified, select the last window of the current session.

`link-window `[-dk] [-s src-window] [-t dst-window]
(alias: `linkw`) Link the window at src-window to the specified dst-window. If dst-window is specified and no such window exists, the src-window is linked there. If -k is given and dst-window exists, it is killed, otherwise an error is generated. If -d is given, the newly linked window is not selected.

`list-panes` [-as] [-t target]
(alias: `lsp`) If -a is given, target is ignored and all panes on the server are listed. If -s is given, target is a session (or the current session). If neither is given, target is a window (or the current window).

`list-windows` [-a] [-t target-session]
(alias: `lsw`) If -a is given, list all windows on the server. Otherwise, list windows in the current session or in target-session.

`move-window` [-dk] [-s src-window] [-t dst-window]
(alias: `movew`) This is similar to link-window, except the window at src-window is moved to dst-window.

`new-window` [-adkP] [-n window-name] [-t target-window] [shell-command]
(alias: `neww`) Create a new window. With -a, the new window is inserted at the next index up from the specified target-window, moving windows up if necessary, otherwise target-window is the new window location.

If -d is given, the session does not make the new window the current window. target-window represents the window to be created; if the target already exists an error is shown, unless the -k flag is used, in which case it is destroyed. shell-command is the command to execute. If shell-command is not specified, the value of the default-command option is used.

When the shell command completes, the window closes. See the remain-on-exit option to change this behaviour.

The TERM environment variable must be set to ''screen'' for all programs running inside tmux. New windows will automatically have ''TERM=screen'' added to their environment, but care must be taken not to reset this in shell start-up files.

The -P option prints the location of the new window after it has been created.

`next-layout` [-t target-window]
(alias: `nextl`) Move a window to the next layout and rearrange the panes to fit.

`next-window` [-a] [-t target-session]
(alias: `next`) Move to the next window in the session. If -a is used, move to the next window with a bell, activity or content alert.

`pipe-pane` [-o] [-t target-pane] [shell-command]
(alias: `pipep`) Pipe any output sent by the program in target-pane to a shell command. A pane may only be piped to one command at a time, any existing pipe is closed before shell-command is executed. The shell-command string may contain the special character sequences supported by the status-left option. If no shell-command is given, the current pipe (if any) is closed.

The -o option only opens a new pipe if no previous pipe exists, allowing a pipe to be toggled with a single key, for example:

`bind-key` C-p pipe-pane -o 'cat >>~/output.#I-#P' 

      `previous-layout `[-t target-window]

(alias: `prevl`) Move to the previous layout in the session.

`previous-window` [-a] [-t target-session]
(alias: `prev`) Move to the previous window in the session. With -a, move to the previous window with a bell, activity or content alert.

`rename-window` [-t target-window] new-name
(alias: `renamew`) Rename the current window, or the window at target-window if specified, to new-name.

`resize-pane` [-DLRU] [-t target-pane] [adjustment]
(alias: `resizep`) Resize a pane, upward with -U (the default), downward with -D, to the left with -L and to the right with -R. The adjustment is given in lines or cells (the default is 1).

`respawn-pane` [-k] [-t target-pane] [shell-command]
(alias: `respawnp`) Reactivate a pane in which the command has exited (see the remain-on-exit window option). If shell-command is not given, the command used when the pane was created is executed. The pane must be already inactive, unless -k is given, in which case any existing command is killed.

`respawn-window` [-k] [-t target-window] [shell-command]
(alias: `respawnw`) Reactivate a window in which the command has exited (see the remain-on-exit window option). If shell-command is not given, the command used when the window was created is executed. The window must be already inactive, unless -k is given, in which case any existing command is killed.

`rotate-window` [-DU] [-t target-window]
(alias: `rotatew`) Rotate the positions of the panes within a window, either upward (numerically lower) with -U or downward (numerically higher).

`select-layout` [-np] [-t target-window] [layout-name]
(alias: `selectl`) Choose a specific layout for a window. If layout-name is not given, the last preset layout used (if any) is reapplied. -n and -p are equivalent to the next-layout and previous-layout commands.

`select-pane` [-lDLRU] [-t target-pane]
(alias: `selectp`) Make pane target-pane the active pane in window target-window. If one of -D, -L, -R, or -U is used, respectively the pane below, to the left, to the right, or above the target pane is used. -l is the same as using the last-pane command.

`select-window` [-lnp] [-t target-window]
(alias: `selectw`) Select the window at target-window. -l, -n and -p are equivalent to the last-window, next-window and previous-window commands.

`split-window` [-dhvP] [
-l size | -p percentage] [-t target-pane] [shell-command]
(alias: `splitw`) Create a new pane by splitting target-pane: -h does a horizontal split and -v a vertical split; if neither is specified, -v is assumed. The -l and -p options specify the size of the new pane in lines (for vertical split) or in cells (for horizontal split), or as a percentage, respectively. All other options have the same meaning as for the new-window command.

`swap-pane` [-dDU] [-s src-pane] [-t dst-pane]
(alias: `swapp`) Swap two panes. If -U is used and no source pane is specified with -s, dst-pane is swapped with the previous pane (before it numerically); -D swaps with the next pane (after it numerically). -d instructs tmux not to change the active pane.

`swap-window` [-d] [-s src-window] [-t dst-window]
(alias: `swapw`) This is similar to link-window, except the source and destination windows are swapped. It is an error if no window exists at src-window.

`unlink-window`[-k] [-t target-window]
(alias: `unlinkw`) Unlink target-window. Unless -k is given, a window may be unlinked only if it is linked to multiple sessions - windows may not be linked to no sessions; if -k is specified and the window is linked to only one session, it is unlinked and destroyed. 

### Useful Programs

#### SysStat (Sar)

[sar examples](https://www.thegeekstuff.com/2011/03/sar-examples/)



sar collects and displays ALL system activities statistics.
sadc stands for “system activity data collector”. This is the sar backend tool that does the data collection.
sa1 stores system activities in binary data file. sa1 depends on sadc for this purpose. sa1 runs from cron.
sa2 creates daily summary of the collected statistics. sa2 runs from cron.
sadf can generate sar report in CSV, XML, and various other formats. Use this to integrate sar data with other tools.
iostat generates CPU, I/O statistics
mpstat displays CPU statistics.
pidstat reports statistics based on the process id (PID)
nfsiostat displays NFS I/O statistics.
cifsiostat generates CIFS statistics.


## Watch

watch -h

    Usage:
    watch [options] command

    Options:
      -b, --beep             beep if command has a non-zero exit
      -c, --color            interpret ANSI color and style sequences
      -d, --differences[=<permanent>]
                            highlight changes between updates
      -e, --errexit          exit if command has a non-zero exit
      -g, --chgexit          exit when output from command changes
      -n, --interval <secs>  seconds to wait between updates
      -p, --precise          attempt run command in precise intervals
      -t, --no-title         turn off header
      -x, --exec             pass command to exec instead of "sh -c"

    -h, --help     display this help and exit
    -v, --version  output version information and exit

    For more details see watch(1).

## wc

Word Counting

Used for counting words


    wc --help
    Usage: wc [OPTION]... [FILE]...
      or:  wc [OPTION]... --files0-from=F
    Print newline, word, and byte counts for each FILE, and a total line if
    more than one FILE is specified.  A word is a non-zero-length sequence of
    characters delimited by white space.

    With no FILE, or when FILE is -, read standard input.

    The options below may be used to select which counts are printed, always in
    the following order: newline, word, character, byte, maximum line length.
      -c, --bytes            print the byte counts
      -m, --chars            print the character counts
      -l, --lines            print the newline counts
          --files0-from=F    read input from the files specified by
                              NUL-terminated names in file F;
                              If F is - then read names from standard input
      -L, --max-line-length  print the maximum display width
      -w, --words            print the word counts
          --help     display this help and exit
          --version  output version information and exit

    GNU coreutils online help: <http://www.gnu.org/software/coreutils/>
    Report wc translation bugs to <http://translationproject.org/team/>
    Full documentation at: <http://www.gnu.org/software/coreutils/wc>
    or available locally via: info '(coreutils) wc invocation'

## CLI Customization

### ZSH

[Note for WSL](https://stackoverflow.com/questions/49887469/why-wont-zshrc-load)

see /etc/zsh
nan
`chsh -s $(which zsh)`

`echo $0`

Installing "Oh My ZSH"
`sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"`

`open ~/.zshrc`

use `**` to descend into directories. `ls **/*.pyc`

Use globs for patterns to search for files. `ls *.(py|sh)`

Use glob modifiers ls -l *(@)

`kill doc` to list running processes

Tab completion- navigate with cursor keys.

use `r` to repeat the last command with substitutions

```bash
touch foo.htm bar.htm
mv foo.htm foo.html
r foo=bar
mv bar.htm bar.html
````

plugins:

`ls ~\.oh-my-zsh\plugins\`

`ls ~\.oh-my-zsh\themes\`

adb git-flow-avh powify
ant git-hubflow profiles
apache2-macports git-prompt pyenv
arcanist git-remote-branch pylint
archlinux gitfast python
asdf github rails
autoenv gitignore rake
autojump glassfish rake-fast
autopep8 globalias rand-quote
aws gnu-utils rbenv
battery go rbfu
bbedit golang react-native
bgnotify gpg-agent rebar
boot2docker gradle redis-cli
bower grails repo
branch grunt rsync
brew gulp ruby
bundler hanami rust
bwana helm rvm
cabal heroku safe-paste
cake history salt
cakephp3 history-substring-search sbt
capistrano homestead scala
cargo httpie scd
cask iterm2 screen
catimg iwhois scw
celery jake-node sfffe
chruby jenv shrink-path
chucknorris jhbuild singlechar
cloudapp jira spring
cloudfoundry jruby sprunge
codeclimate jsontools ssh-agent
coffee jump stack
colemak kate sublime
colored-man-pages kitchen sudo
colorize knife supervisor
command-not-found knife_ssh suse
common-aliases kops svn
compleat kube-ps1 svn-fast-info
composer kubectl swiftpm
copybuffer laravel symfony
copydir laravel4 symfony2
copyfile laravel5 systemadmin
cp last-working-dir systemd
cpanm lein taskwarrior
dash lighthouse terminalapp
debian lol terminitor
dircycle macports terraform
dirhistory magic-enter textastic
dirpersist man textmate
django marked2 thefuck
dnf mercurial themes
docker meteor thor
docker-compose minikube tig
docker-machine mix tmux
doctl mix-fast tmux-cssh
dotenv mosh tmuxinator
droplr mvn torrent
eecms mysql-macports transfer
emacs n98-magerun tugboat
ember-cli nanoc ubuntu
emoji ng ufw
emoji-clock nmap urltools
emotty node vagrant
encode64 nomad vagrant-prompt
extract npm vault
fabric npx vi-mode
fancy-ctrl-z nvm vim-interaction
fasd nyan virtualenv
fastfile oc virtualenvwrapper
fbterm osx vscode
fedora pass vundle
firewalld paver wakeonlan
forklift pep8 wd
fossil per-directory-history web-search
frontend-search percol wp-cli
fzf perl xcode
gas perms yarn
gb phing yii
geeknote pip yii2
gem pj yum
git pod z
git-auto-fetch postgres zeus
git-extras pow zsh-navigation-tools
git-flow powder zsh_reload

#### ZSH Profile

for wsl is /etc/zsh/zshrc

```bash

echo "Config"

ZSH=$HOME/.oh-my-zsh

ZSH_Theme="agnoster"
#ZSH_Theme="afowler"
#ZSH_Theme="af-magic"
#ZSH_Theme="alanpeabody"
#ZSH_Theme="amuse"
#ZSH_Theme="arrow"
#ZSH_Theme="astm"
#ZSH_Theme="avit"
#ZSH_Theme="bira"
#ZSH_Theme="blinks"
#ZSH_Theme="bureau"
#ZSH_Theme="cloud"
#ZSH_Theme="dallas"
#ZSH_Theme="dieter"
#ZSH_Theme="dogenpunk"
#ZSH_Theme="dpoggi"
#ZSH_Theme="evan"
#ZSH_Theme="flazz"
#ZSH_Theme="funky"
#ZSH_Theme="gallois"
#ZSH_Theme="gentoo"
#ZSH_Theme="geoffgarside"
#ZSH_Theme="gianu"
#ZSH_Theme="gnzh"
#ZSH_Theme="jtriley"
#ZSH_Theme="junkfood"
#ZSH_Theme="kfeitu"
#ZSH_Theme="kardan"
#ZSH_Theme="kolo"
#ZSH_Theme="lukerandall"
#ZSH_Theme="mh"
#ZSH_Theme="michelebologna"
#ZSH_Theme="miloshadzic"
#ZSH_Theme="muse"
#ZSH_Theme="nebirhos"
#ZSH_Theme="phillips"
#ZSH_Theme="pygmalion"
#ZSH_Theme="rixius"
#ZSH_Theme="rkj-repos"
#ZSH_Theme="smt"
#ZSH_Theme="steeef"
#ZSH_Theme="sunrise"
#ZSH_Theme="superjarin"
#ZSH_Theme="theunraveler"
#ZSH_Theme="tjkirch"
#ZSH_Theme="tonotdo"
#ZSH_Theme="wezm"
#ZSH_Theme="wedisagree"
#ZSH_Theme="wuffers"
#ZSH_Theme="xiong-chiamiov"
#ZSH_Theme="xiong-chiamiov-plus"
#ZSH_Theme="ys"
#ZSH_Theme="zhann"
#ZSH_Theme="wedisagree"
#ZSH_Theme="random"
#ZSH_THEME_RANDOM_CANDIDATES=(
    #"robbyrussell"
    #"agnoster"
#)

#(Will change per machine)
DEFAULT_USER="alt"

#Dots are pretty.
COMPLETION_WAITING_DOTS="true"

#Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
plugins=(git ruby history-substring-search rbenv python pip pylint vscode)

#Load the good stuff.
source $ZSH/oh-my-zsh.sh

#-------------------------------
#Exports
#---------------------------------
#Make sure we know which python is first.
#export PATH=/Library/Frameworks/Python.framework/Versions/2.7/bin:$PATH
#export ZSH=/Users/alt/.oh-my-ZSH
export EDITOR="nano"

autoload -U compinit colors vcs_info
colors
compinit

#Report command running time if it is more than 3 seconds
REPORTTIME=3
#Keep a lot of history
HISTFILE=~/.zhistory
HISTSIZE=5000
SAVEHIST=5000
#Add commands to history as they are entered, don't wait for shell to exit
setopt INC_APPEND_HISTORY
#Also remember command start time and duration
setopt EXTENDED_HISTORY
#Do not keep duplicate commands in history
setopt HIST_IGNORE_ALL_DUPS
#Do not remember commands that start with a whitespace
setopt HIST_IGNORE_SPACE
#Correct spelling of all arguments in the command line
setopt CORRECT_ALL
#Enable autocompletion
zstyle ':completion:*' completer _complete _correct _approximate

#------------------
#Prompt
#-----------------
zstyle ':vcs_info:*' stagedstr '%F{green}●%f '
zstyle ':vcs_info:*' unstagedstr '%F{yellow}●%f '
zstyle ':vcs_info:git:*' check-for-changes true
zstyle ':vcs_info:git*' formats "%F{blue}%b%f %u%c"

_setup_ps1() {
  vcs_info
  GLYPH="▲"
  [ "x$KEYMAP" = "xvicmd" ] && GLYPH="▼"
  PS1=" %(?.%F{blue}.%F{red})$GLYPH%f %(1j.%F{cyan}[%j]%f .)%F{blue}%~%f %(!.%F{red}#%f .)"
  RPROMPT="$vcs_info_msg_0_"
}
_setup_ps1

#Vi mode
zle-keymap-select () {
 _setup_ps1
  zle reset-prompt
}
zle -N zle-keymap-select
zle-line-init () {
  zle -K viins
}
zle -N zle-line-init
bindkey -v

#----------------------
#Alias
#----------------------

alias python='/usr/bin/python3.7'

#cd, because typing the backslash sucks
alias .='cd ../'
alias ..='cd ../../'
alias ...='cd ../../../'
alias ....='cd ../../../../'

alias del='echo Moving to ~/.Trash/ ...; mv -i $* ~/.Trash/'
#alias cdf='eval `osascript /Applications/Utilities/OpenTerminal.app/Contents/Resources/Scripts/OpenTerminal.scpt`'
#alias ls='ls -FG'
#alias dir='ls -FGl'
#alias ll="ls -l"

#Safe options
#alias rm='rm -i'
#alias mv='mv -i'
#alias cp='cp -i'
```

### Dos2Unix

`sudo apt install dos2unix`

This is supposed to be a program for converting paths.  Unknown more at this time.

## Bash

[Bash Reference Manual](https://www.gnu.org/software/bash/manual/bash.html)

[Pipelines](https://www.gnu.org/software/bash/manual/bash.html#Pipelines)

### Bash Setup


#### PATH

Path variables are in the home directory named

- `.bash_profile`
- `.profile`
- `.bashrc`

To see it you have to show hidden files - `ls -a`

#### Startup

`sudo apt install screenfetch`

The above has a bug.

Use:

```bash
wget https://raw.githubusercontent.com/KittyKatt/screenFetch/master/screenfetch-dev
chmod +x screenfetch-dev
./screenfetch-dev
#if the old one (above) was installed-
sudo rm /usr/bin/screenfetch
remname ./screenfetch-dev screenfetch
sudo mv screenfetch /user/bin
```

sudo apt install toilet
sudo apt install figlet


### Usage

#### Run a bash shell script

A shell script is a text file containing one or more commands.

```bash
#!/bin/bash
#My example bash script
echo "Hello World"
```

The first line contains a **shebang** `#!` followed by the path to the shell, in this case bash - this acts as an interpreter directive and ensures that the script is executed under the correct shell.

The "`#`" character indicates a comment, so the shebang line is ignored by bash when running the script.

Next you need to make the script executable with chmod

`$ chmod u+x my_script1.sh`

You can now run the script by prefixing it with ./

`$ ./my_script1.sh`

Naming the file with an .sh extension is not required, but you may find it a helpful reminder that the file is a shell script.

If you will be writing a few shell scripts then it's worth creating a folder, perhaps called "scripts" and adding that to the system path:

```bash
$ mkdir -p $HOME/scripts
>
$ export PATH="$PATH:~/scripts"
>
```

Even better is to edit your .bash_profile file to include export PATH="\$PATH:~/scripts" that will keep the "scripts" folder in your path every time you log in.

With the script saved in the folder, you can now run it with just:

`$ my_script1.sh`

If this returns an error like #: bad interpreter: No such file or directory that is typically an indication that the File encoding or line endings are wrong, use an editor like VI or just make sure the text is plain ASCII/Unicode and the line endings are classic UNIX LF (not Windows CR/LF or Mac CR)

Passing parameters to a shell script:

```bash
$ cat myscript2.sh
#!/bin/bash
echo 'Welcome' $0 'says' $1 $2

$ chmod a+x myscript2.sh
$ myscript2.sh Hello world
Welcome myscript2.sh says Hello world
```

Running scripts from the system path
A shell script is a text file containing shell commands. When such a file is used as the first non-option argument when invoking Bash, and neither the \`-c' nor \`-s' option is supplied, Bash reads and executes commands from the file, then exits. This mode of operation creates a non-interactive shell.

A shell script can be made executable by using the chmod command to turn on the execute bit. When Bash finds such a file while searching the \$PATH for a command, it spawns a subshell to execute it.

In other words, executing `filename arguments` is equivalent to executing `bash filename arguments` if filename is an executable shell script. This subshell reinitializes itself, so that the effect is as if a new shell had been invoked to interpret the script, with the exception that the locations of commands remembered by the parent are retained by the child.

Most versions of Unix make this a part of the operating system's command execution mechanism. If the first line of a script begins with the two characters `#!', the remainder of the line specifies an interpreter for the program. Thus, you can specify Bash, awk, Perl, or some other interpreter and write the rest of the script file in that language.

The arguments to the interpreter consist of a single optional argument following the interpreter name on the first line of the script file, followed by the name of the script file, followed by the rest of the arguments. Bash will perform this action on operating systems that do not handle it themselves. Note that some older versions of Unix limit the interpreter name and argument to a maximum of 32 characters.

Bash scripts often begin with #! /bin/bash (assuming that Bash has been installed in /bin ), since this ensures that Bash will be used to interpret the script, even if it is executed under another shell.

When Bash runs a shell script, it sets the special parameter \$0 to the name of the file, rather than the name of the shell, and the positional parameters are set to the remaining arguments, if any are given. If no additional arguments are supplied, the positional parameters are unset.

Adding the following two set options to your scripts can be useful to catch undefined variables ("") and to exit if a command fails:

`#!/bin/bash set -o nounset set -o errexit`

Errors:

`/bin/bash^M: bad interpreter: no such file or directory`
This usually means the file has been edited and has Windows `<CR-LF>` instead of unix `<LF>` line endings

### Quotes and Strings

#### Escape

A non-quoted backslash `\` is the Bash escape character. It preserves the literal value of the next character that follows, with the exception of newline. If a `\newline` pair appears, and the backslash itself is not quoted, the \newline is treated as a line continuation (that is, it is removed from the input stream and effectively ignored).

#### Single Quotes

Enclosing characters in single quotes **(`'`) preserves the literal value of each character within the quotes.** A single quote may not occur between single quotes, even when preceded by a backslash

#### Double Quotes

Enclosing characters in double quotes (`"`) **preserves the literal value of all characters within the quotes, with the exception of `$`, `` ` ``(backtick), `\`, and, when history expansion is enabled, `!`.**

 When the shell is in POSIX mode, the `!` has no special meaning within double quotes, even when history expansion is enabled. The characters `$` and `` ` `` retain their special meaning within double quotes (see Shell Expansions). The backslash retains its special meaning only when followed by one of the following characters: `$`, `` ` ``, `"`, `\`, or newline. Within double quotes, backslashes that are followed by one of these characters are removed. Backslashes preceding characters without a special meaning are left unmodified.

A double quote may be quoted within double quotes by preceding it with a backslash. If enabled, history expansion will be performed unless an `!` appearing in double quotes is escaped using a backslash. The backslash preceding the `!` is not removed.

The special parameters `*` and `@` have special meaning when in double quotes

#### ANSI C Quoting

Words of the form $'string' are treated specially. The word expands to string, with backslash-escaped characters replaced as specified by the ANSI C standard. Backslash escape sequences, if present, are decoded as follows:

- `\a` - alert (bell)
- `\b`- backspace
- `\e`, `\E` - an escape character (not ANSI C)
- `\f` - form feed
- `\n` - newline
- `\r` - carriage return
- `\t` - horizontal tab
- `\v` - vertical tab
- `\` - backslash
- `\'` - single quote
- `\"` - double quote
- `\?` - question mark
- `\nnn` - the eight-bit character whose value is the octal value nnn (one to three octal digits)
- `\xHH` - the eight-bit character whose value is the hexadecimal value HH (one or two hex digits)
- `\uHHHH` - the Unicode (ISO/IEC 10646) character whose value is the hexadecimal value HHHH (one to four hex digits)
- `\UHHHHHHHH` - the Unicode (ISO/IEC 10646) character whose value is the hexadecimal value HHHHHHHH (one to eight hex digits)
- `\cx` - a control-x character

___
## Terminal Color Output

!!! Warning ZSH Specific-
  On even more testing, its revieled from `type print` that its a shell built-in.  Running the same command on bash- doesnt work.

  This is onbe of the ZSH Built in features.  
  
  
[ZSH Features](http://zsh.sourceforge.net/Doc/Release/zsh_toc.html#SEC_Contents)



[There are others](http://zsh.sourceforge.net/Doc/Release/Shell-Builtin-Commands.html)



This will print out the terminals colors:

```sh
for i in {0..255}; do print -Pn "%K{$i}  %k%F{$i}${(l:3::0:)i}%f " ${${(M)$((i%6)):#3}:+$'\n'}; done
```

I picked this appart, and the critical bits are  the `-P` flag, and the `%` flags.  A capital seems to set it

- %K{value} sets the BACKGROUND color
- %k - unsets it
  - %k{value}  just prints {value} (its entirely ignored.)
- %F{value} sets the foreground color.
- %f unsets it.


This is the relevant seciton


http://zsh.sourceforge.net/Doc/Release/Prompt-Expansion.html#Prompt-Expansion

13.2.5 Visual effects

%B (%b)

    Start (stop) boldface mode.
%E

    Clear to end of line.
%U (%u)

    Start (stop) underline mode.
%S (%s)

    Start (stop) standout mode.
%F (%f)

    Start (stop) using a different foreground colour, if supported by the terminal. The colour may be specified two ways: either as a numeric argument, as normal, or by a sequence in braces following the %F, for example %F{red}. In the latter case the values allowed are as described for the fg zle_highlight attribute; Character Highlighting. This means that numeric colours are allowed in the second format also.
%K (%k)

    Start (stop) using a different bacKground colour. The syntax is identical to that for %F and %f.
%{...%}

    Include a string as a literal escape sequence. The string within the braces should not change the cursor position. Brace pairs can nest.

    A positive numeric argument between the % and the { is treated as described for %G below.
%G

    Within a %{...%} sequence, include a ‘glitch’: that is, assume that a single character width will be output. This is useful when outputting characters that otherwise cannot be correctly handled by the shell, such as the alternate character set on some terminals. The characters in question can be included within a %{...%} sequence together with the appropriate number of %G sequences to indicate the correct width. An integer between the ‘%’ and ‘G’ indicates a character width other than one. Hence %{seq%2G%} outputs seq and assumes it takes up the width of two standard characters.

    Multiple uses of %G accumulate in the obvious fashion; the position of the %G is unimportant. Negative integers are not handled.

    Note that when prompt truncation is in use it is advisable to divide up output into single characters within each %{...%} group so that the correct truncation point can be found.


### For Bash

Using`tput setaf`

[Appears dead but sounds good.](https://wiki.bash-hackers.org/scripting/terminalcodes)



[BashFAQ/037](http://bash.cumulonim.biz/BashFAQ%282f%29037.html)

> ## How can I print text in various colors?
> 
> _Do not_ hard-code ANSI color escape sequences in your program! The tput command lets you interact with the terminal database in a sane way:
> 
>   # Bourne
>   tput setaf 1; echo this is red
>   tput setaf 2; echo this is green
>   tput bold; echo "boldface (and still green)"
>   tput sgr0; echo back to normal
> 
> **Cygwin users:** you need to install the ncurses package to get tput (see: [Where did "tput" go in 1.7?](http://old.nabble.com/Where-did-%22tput%22-go-in-1.7--ts22422087.html))
> 
> tput reads the terminfo database which contains all the escape codes necessary for interacting with your terminal, as defined by the $TERM variable. For more details, see the terminfo(5) man page.
> 
> tput sgr0 resets the colors to their default settings. This also turns off boldface (tput bold), underline, etc.
> 
> If you want fancy colors in your prompt, consider using something manageable:
> 
>   # Bash
>   red=$(tput setaf 1)
>   green=$(tput setaf 2)
>   blue=$(tput setaf 4)
>   reset=$(tput sgr0)
>   PS1='\[$red\]\u\[$reset\]@\[$green\]\h\[$reset\]:\[$blue\]\w\[$reset\]\$ '
> 
> Note that we do **not** hard-code ANSI color escape sequences. Instead, we [store the output](http://bash.cumulonim.biz/BashFAQ(2f)002.html) of the tput command into variables, which are then used when $PS1 is expanded. Storing the values means we don't have to fork a tput process multiple times every time the prompt is displayed; tput is only invoked 4 times during [shell startup](http://bash.cumulonim.biz/DotFiles.html). The \[ and \] symbols allow bash to understand which parts of the prompt cause no cursor move



### Getting Help:

type - Display information about command type
which - Locate a command
help - Display reference page for shell builtin
man - Display an on-line command reference

type- is especially useful in determining what runs when its called[



### Bash Syntax

#### Arguments

**Shell parameters** can be a name, a number, or one of the special characters listed below. For the shell's purposes, a variable is a parameter denoted by a name.

A parameter is set if it has been assigned a value. The null string is a valid value. Once a variable is set, it can be unset only by using the `unset` builtin command.

A variable can be assigned to by a statement of the form `name=[value]`

If value is not given, the variable is assigned the null string (_declaration_). All values undergo _tilde expansion, parameter and variable expansion, command substitution, arithmetic expansion, and quote removal_ (detailed below). If the variable has its _integer attribute_ set, then value is subject to arithmetic expansion even if the `$((...))` expansion is not used. Word splitting is not performed, with the exception of `"$@"` as explained below. Filename expansion is not performed.

**Positional Parameters**
A positional parameter is a parameter denoted by one or more digits, other than the single digit 0. Positional parameters are assigned from the shell's arguments when it is invoked, and can be reassigned using the `set` builtin command. Positional parameter **N** can be referenced as `${N}`, or as `$N`(when N consists of a single When a positional parameter consisting of more than a single digit is expanded, it must be enclosed in braces.

Positional parameters can not be assigned to with assignment statements. The `set` and `shift` builtins are used to set and unset them. The positional parameters are temporarily replaced when a shell function is executed.

**Special Parameters**
The shell treats several parameters specially. These parameters can only be referenced; assignment to them is not allowed.

- `*` Expands to the positional parameters, starting from one. When the expansion occurs within double quotes, it expands to a single word with the value of each parameter separated by the first character of the **IFS** special variable. That is, `"$*"` is equivalent to `"$1c$2c..."`, where `c` is the first character of the value of the **IFS** variable. If **IFS** is unset, the parameters are separated by spaces. If **IFS** is null, the parameters are joined without intervening separators.

- `@` Expands to the positional parameters, starting from one. When the expansion occurs within double quotes, each parameter expands to a separate word. That is, `"$@"` is equivalent to `"$1" "$2" ...`. When there are no positional parameters, `"$@"` and `$@` expand to nothing (i.e., they are removed).

- `#` Expands to the **number of positional parameters** in decimal.

- `?` Expands to the exit status of the most recently executed foreground pipeline.

- **`-`(A hyphen.)** Expands to the current option flags as specified upon invocation, by the set builtin command, or those set by the shell itself (such as the `-i' option).

- `$` Expands to the **process ID of the shell.** In a () subshell, it expands to the process ID of the invoking shell, not the subshell.

- `!` Expands to the **process ID of the job most recently placed into the background,** whether executed as an asynchronous command or using bg

- `0` Expands to the **name of the shell or shell script.** This is set at shell initialization. If Bash is invoked with a file of commands, $0 is set to the name of that file. If Bash is started with the `-c' option, then$0 is set to the first argument after the string to be executed, if one is present. Otherwise, it is set to the filename used to invoke Bash, as given by argument zero.

- `_` **(An underscore.)** At shell startup, set to the **absolute filename of the shell or shell script being executed** as passed in the argument list. Subsequently, expands to the last argument to the previous command, after expansion. Also set to the full pathname of each command executed and placed in the environment exported to that command. When checking mail, this parameter holds the name of the mail file.

#### Arrays

Bash provides one-dimensional array variables. Any variable can be used as an array; the declare builtin will explicitly declare an array. There is no maximum limit on the size of an array, nor any requirement that members be indexed or assigned contiguously. Arrays are zero-based.

An array is created automatically if any variable is assigned to using the syntax

`name[subscript]=value`
The subscript is treated as an arithmetic expression that must evaluate to a number greater than or equal to zero. To explicitly declare an array, use

`declare -a name`

**The syntax**

`declare -a name[subscript]` is also accepted; the subscript is ignored. Attributes can be specified for an array variable using the declare and readonly builtins. Each attribute applies to all members of an array.

Arrays are assigned to using compound assignments of the form: `name=(value1 ... valuen)`, where each value is of the form `[[subscript]=]string`. If the optional subscript is supplied, that index is assigned to; otherwise the index of the element assigned is the last index assigned to by the statement plus one. Indexing starts at zero.

This syntax is also accepted by the declare builtin. Individual array elements can be assigned to using the `name[subscript]=value` syntax introduced above.

Any element of an array can be referenced using `\${name[subscript]}`.

The braces are required to avoid conflicts with the shell's filename expansion operators.

If the subscript is `@` or `_`, the word expands to all members of the array name. These subscripts differ only when the word appears within double quotes. If the word is double-quoted, \${name[_]} expands to a single word with the value of each array member separated by the first character of the IFS variable, and ${name[@]} expands each element of name to a separate word.
When there are no array members, `${name[@]}` expands to nothing. This is analogous to the expansion of the special parameters `@` and`_`. `${#name[subscript]}` expands to the length of${name[subscript]}. If subscript is `@' or`_', the expansion is the number of elements in the array.

Referencing an array variable without a subscript is equivalent to referencing element zero.

The `unset` builtin is used to destroy arrays. unset `name[subscript]` destroys the array element at index subscript.

`unset name`, where `name` is an array, removes the entire array. A subscript of `*` or `@` also removes the entire array.

The `declare`, `local`, and `readonly` builtins each accept a `-a` option to specify an array.

The contents of the directory stack are also visible as the value of the `DIRSTACK` shell variable.


### Bash Snippets

#### Generate a menu

```sh
select fname in *;
do
	echo you picked $fname \($REPLY\)
	break;
done
```

I think there needs to be a semi-colon after line 3- otherwise it keeps looping?

#### Rename a file

There is no rename command...?  rename is a program in Apt that is vastly more complicated.

`mv file1.ext file2.ext`

#### Alias syntax

`alias mycommand !:1 !:2`

Then `!:1` references the arguments from the input.  Add to profile any aliases.

#### yes

[Source of Yes Info](https://linuxhint.com/bash_yes_command/)

Typing `yes` causes 'y' to be printed over and over.

This is intentional.  Any word after `yes` is repeated infinite time.  `yes test` prints "test" over and over.

You can use `yes` command to prevent from overwriting the existing file or forcefully overwrite the existing file. In the following commands, the first command is used to prevent the overwrite and the second command is used to overwrite the file without any permission.

```bash
cat hello.txt
cat sample.txt
cp -i sample.txt hello.txt
yes n | cp -i sample.txt hello.txt #prevent overwiting by saying no to each
yes | cp -i sample.txt hello.txt #force overwrite by saying yes to each.
```

You can use `yes` command to run any script multiple times in the command line. In this example, `yes` command is used to run while loop repeatedly ten times. Here, `yes` command will continuously send the numeric value from 1 to 10 to the loop and the loop will print the values in regular interval of one second.


```Bash
$ yes "$(seq 1 10)" | while read n; do  echo $n; sleep 1; done
```

```Bash
#Example 5
#!/bin/bash
#Read the value passed from yes command
read string

#check the string value is empty or not
if [ "$string" == "" ]; then

echo "Empty value is passed by yes command"
else
newstr="The value passed by yes command is $string"
echo $newstr
fi

#Which is read and run by:
$ yes "" | bash yes_script.sh
>>>Empty value is passed by yes command
#or
$yes testing | bash yes_script.sh
>>>The value passed by yes is testing
```
Or write a string over and over into a file, for "testing" or something:

`yes 'Add this line for testing' | head -50 > testfile`




### Bash Commands

#### **a**

- `alias` Create an alias
  `apropos` Search Help manual pages (man -k)
- `apt-get` Search for and install software packages (Debian/Ubuntu)
- `aptitude` Search for and install software packages (Debian/Ubuntu)
- `aspell` Spell Checker
- `awk` Find and Replace text, database sort/validate/index

#### **b**

- `basename` Strip directory and suffix from filenames
- `bash` GNU Bourne-Again SHell
- `bc` Arbitrary precision calculator language
- `bg` Send to background
  `bind` Set or display readline key and function bindings
- `break` Exit from a loop
- `builtin` Run a shell builtin
- `bzip2` Compress or decompress named file(s)

#### **c**

- `cal` Display a calendar
- `case` Conditionally perform a command
- `cat` Concatenate and print (display) the content of files
- `cd` Change Directory
- `cfdisk` Partition table manipulator for Linux
- `chattr` Change file attributes on a Linux file system
- `chgrp` Change group ownership
- `chmod` Change access permissions
- `chown` Change file owner and group
- `chroot` Run a command with a different root directory
- `chkconfig` System services (runlevel)
- `cksum` Print CRC checksum and byte counts
- `clear` Clear terminal screen
- `cmp` Compare two files
- `comm` Compare two sorted files line by line
- `command` Run a command - ignoring shell functions •
- `continue` Resume the next iteration of a loop •
- `cp` Copy one or more files to another location
- `cron` Daemon to execute scheduled commands
- `crontab` Schedule a command to run at a later time
- `csplit` Split a file into context-determined pieces
- `curl` Transfer data from or to a server
- `cut` Divide a file into several parts

#### **d**

- `date` Display or change the date & time
- `dc` Desk Calculator
- `dd` Convert and copy a file, write disk headers, boot records
- `ddrescue` Data recovery tool
- `declare` Declare variables and give them attributes
- `df` Display free disk space
- `diff` Display the differences between two files
- `diff3` Show differences among three files
- `dig` DNS lookup
- `dir` Briefly list directory contents
- `dircolors` Colour setup for \`ls'
- `dirname` Convert a full pathname to just a path
- `dirs` Display list of remembered directories
- `dmesg` Print kernel & driver messages
- `du` Estimate file space usage

#### **e**

- `echo` Display message on screen •
- `egrep` Search file(s) for lines that match an extended expression
- `eject` Eject removable media
- `enable` Enable and disable builtin shell commands
- `env` Environment variables
- `ethtool` Ethernet card settings
- `eval` Evaluate several commands/arguments
- `exec` Execute a command
- `exit` Exit the shell
- `expect` Automate arbitrary applications accessed over a terminal
- `expand` Convert tabs to spaces
- `export` Set an environment variable
- `expr` Evaluate expressions

#### **f**

- `false` Do nothing, unsuccessfully
- `fdformat` Low-level format a floppy disk
- `fdisk` Partition table manipulator for Linux
- `fg` Send job to foreground
- `fgrep` Search file(s) for lines that match a fixed string
- `file` Determine file type
- `find` Search for files that meet a desired criteria
- `fmt` Reformat paragraph text
- `fold` Wrap text to fit a specified width.
- `for` Expand words, and execute commands
- `format` Format disks or tapes
- `free` Display memory usage
- `fsck` File system consistency check and repair
- `ftp` File Transfer Protocol
- `function` Define Function Macros
- `fuser` Identify/kill the process that is accessing a file

#### **g**

- `gawk` Find and Replace text within file(s)
- `getopts` Parse positional parameters
- `grep-` Search file(s) for lines that match a given pattern
  - use grep -v to find inverse matches.'
- `groupadd` Add a user security group
- `groupdel` Delete a group
- `groupmod` Modify a group
- `groups` Print group names a user is in
- `gzip` Compress or decompress named file(s)

#### **h**

- `hash` Remember the full pathname of a name argument
- `head` Output the first part of file(s)
- `help` Display help for a built-in command
- `history` Command History
- `hostname` Print or set system name
- `htop` Interactive process viewer

#### **i**

- `iconv` Convert the character set of a file
- `id` Print user and group id's
- `if` Conditionally perform a command
- `ifconfig` Configure a network interface
- `ifdown` Stop a network interface
- `ifup` Start a network interface up
- `import` Capture an X server screen and save the image to file
- `install` Copy files and set attributes
- `iostat` Report CPU and i/o statistics
- `ip` Routing, devices and tunnels

#### **j**

- `jobs` List active jobs •
- `join` Join lines on a common field

#### **k**

- `kill` Kill a process by specifying its PID
- `killall` Kill processes by name

#### **l**

- `less` Display output one screen at a time
- `let` Perform arithmetic on shell variables •
- `link` Create a link to a file
- `ln` Create a symbolic link to a file
- `local` Create a function variable •
- `locate` Find files
- `logname` Print current login name
- `logout` Exit a login shell •
- `look` Display lines beginning with a given string
- `lpc` Line printer control program
- `lpr` Off line print
- `lprint` Print a file
- `lprintd` Abort a print job
- `lprintq` List the print queue
- `lprm` Remove jobs from the print queue
- `lsattr` List file attributes on a Linux second extended file system
- `lsblk` List block devices
- `ls` List information about file(s)
- `lsof` List open files
- `lspci` List all PCI devices

#### **m**

- `make` Recompile a group of programs
- `man` Help manual
- `mkdir` Create new folder(s)
- `mkfifo` Make FIFOs (named pipes)
- `mkfile` Make a file
- `mkisofs` Create an hybrid ISO9660/JOLIET/HFS filesystem
- `mknod` Make block or character special files
- `mktemp` Make a temporary file
- `more` Display output one screen at a time
- `most` Browse or page through a text file
- `mount` Mount a file system
- `mtools` Manipulate MS-DOS files
- `mtr` Network diagnostics (traceroute/ping)
- `mv` Move or rename files or directories
- `mmv` Mass Move and rename (files)

#### **n**

- `nc` Netcat, read and write data across networks
- `netstat` Networking connections/stats
- `nice` Set the priority of a command or job
- `nl` Number lines and write files
- `nohup` Run a command immune to hangups
- `notif`y-send Send desktop notifications
- `nslookup` Query Internet name servers interactively

#### **o**

- `open` Open a file in its default application
- `op` Operator access

#### **p**

- `passwd` Modify a user password
- `paste` Merge lines of files
- `pathchk` Check file name portability
- `Perf` Performance analysis tools for Linux
- `ping` Test a network connection
- `pgrep` List processes by name
- `pkill` Kill processes by name
- `popd` Restore the previous value of the current directory
- `pr` Prepare files for printing
- `printcap` Printer capability database
- `printenv` Print environment variables
- `printf` Format and print data
- `ps` Process status
- `pushd` Save and then change the current directory
- `pv` Monitor the progress of data through a pipe
- `pwd` Print Working Directory

#### **q**

- `quota` Display disk usage and limits
- `quotacheck` Scan a file system for disk usage

#### **r**

- `ram` ram disk device
- `rar` Archive files with compression
- `rcp` Copy files between two machines
- `read` Read a line from standard input •
- `readarray` Read from stdin into an array variable •
- `readonly` Mark variables/functions as readonly
- `reboot` Reboot the system
- `rename` Rename files
- `renice` Alter priority of running processes
- `remsync` Synchronize remote files via email
- `return` Exit a shell function
- `rev` Reverse lines of a file
- `rm` Remove files
- `rmdir` Remove folder(s)
- `rsync` Remote file copy (Synchronize file trees)

#### **s**

- `screen` Multiplex terminal, run remote shells via ssh
- `scp` Secure copy (remote file copy)
- `sdiff` Merge two files interactively
- `sed` Stream Editor
- `select` Accept keyboard input
- `seq` Print numeric sequences
- `set` Manipulate shell variables and functions
- `sftp` Secure File Transfer Program
- `shift` Shift positional parameters
- `shopt` Shell Options
- `shutdown` Shutdown or restart linux
- `sleep` Delay for a specified time
- `slocate` Find files
- `sort` Sort text files
- `source` Run commands from a file '.'
- `split` Split a file into fixed-size pieces
- `ss` Socket Statistics
- `ssh` Secure Shell client (remote login program)
- `stat` Display file or file system status
- `strace` Trace system calls and signals
- `su` Substitute user identity
- `sudo` Execute a command as another user
- `sum` Print a checksum for a file
- `suspend` Suspend execution of this shell •
- `sync` Synchronize data on disk with memory

#### **t**

- `tail` Output the last part of file
- `tar` Store, list or extract files in an archive
- `tee` Redirect output to multiple files
- `test` Evaluate a conditional expression
- `time` Measure Program running time
- `timeout` Run a command with a time limit
- `times` User and system times
- `touch` Change file timestamps
- `top` List processes running on the system
- `tput` Set terminal-dependent capabilities, color, position
- `traceroute` Trace Route to Host
- `trap` Execute a command when the shell receives a signal •
- `tr` Translate, squeeze, and/or delete characters
- `true` Do nothing, successfully
- `tsort` Topological sort
- `tty` Print filename of terminal on stdin
- `type` Describe a command •

#### **u**

- `ulimit` Limit user resources •
- `umask` Users file creation mask
- `umount` Unmount a device
- `unalias` Remove an alias •
- `uname` Print system information
- `unexpand` Convert spaces to tabs
- `uniq` Uniquify files
- `units` Convert units from one scale to another
- `unrar` Extract files from a rar archive
- `unset` Remove variable or function names
- `unshar` Unpack shell archive scripts
- `until` Execute commands (until error)
- `uptime` Show uptime
- `useradd` Create new user account
- `userdel` Delete a user account
- `usermod` Modify user account
- `users` List users currently logged in
- `uuencode` Encode a binary file
- `uudecode` Decode a file created by uuencode

#### **v**

- `v` Verbosely list directory contents (\`ls -l -b')
- `vdir` Verbosely list directory contents (`ls -l -b')
- `vi`Text Editor
- `vmstat` Report virtual memory statistics

#### **w**

- `w` Show who is logged on and what they are doing
- `wait` Wait for a process to complete •
- `watch` Execute/display a program periodically
- `wc` Print byte, word, and line counts
- `whereis` Search the user's \$path, man pages and source files for a program
- `which` Search the user's\$path for a program file
- `while` Execute commands
- `who` Print all usernames currently logged in
- `whoami` Print the current user id and name (`id -un')
- `wget` Retrieve web pages or files via HTTP, HTTPS or FTP write Send a message to another user

#### **x**

- `xargs` Execute utility, passing constructed argument list(s)
- `xdg-open` Open a file or URL in the user's preferred application.
- `xz` Compress or decompress .xz and .lzma files
- `yes` Print a string until interrupted
- `zip` Package and compress (archive) files.
- `.` Run a command script in the current shell
- `!!` Run the last command again
- `###` Comment / Remark


## ZSH 

Need to determine from the above which are Unix /Linux and which are ZSH.

### Terminal Color Output

!!! Warning ZSH Specific-
  On even more testing, its revieled from `type print` that its a shell built-in.  Running the same command on bash- doesnt work.

  This is onbe of the ZSH Built in features.  
  
  
[ZSH Features](http://zsh.sourceforge.net/Doc/Release/zsh_toc.html#SEC_Contents)



[There are others](http://zsh.sourceforge.net/Doc/Release/Shell-Builtin-Commands.html)



This will print out the terminals colors:

```sh
for i in {0..255}; do print -Pn "%K{$i}  %k%F{$i}${(l:3::0:)i}%f " ${${(M)$((i%6)):#3}:+$'\n'}; done
```

I picked this appart, and the critical bits are  the `-P` flag, and the `%` flags.  A capital seems to set it

- %K{value} sets the BACKGROUND color
- %k - unsets it
  - %k{value}  just prints {value} (its entirely ignored.)
- %F{value} sets the foreground color.
- %f unsets it.




alias [ {+|-}gmrsL ] [ name[=value] ... ]
For each name with a corresponding value, define an alias with that value.  [More](http://zsh.sourceforge.net/Doc/Release/Shell-Grammar.html#Aliasing)



autoload [ {+|-}RTUXdkmrtWz ] [ -w ] [ name ... ]
See the section ‘Autoloading Functions’ in [Functions](http://zsh.sourceforge.net/Doc/Release/Functions.html#Functions)for full details. The fpath parameter will be searched to find the function definition when the function is first referenced.

`bg [ job ... ] job ... &` - Put each specified job in the background, or the current job if none is specified.

bindkey  - see [ZLE](http://zsh.sourceforge.net/Doc/Release/Zsh-Line-Editor.html#Zle-Builtins)



`break [ n ]` - Exit from an enclosing for, while, until, select or repeat loop. If an arithmetic expression n is specified, then break n levels instead of just one.

`builtin name [ args ... ]` Executes the builtin name, with the given args.

`bye` - Same as exit.

`cap` - See The [zsh/cap Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcap-Module)

. - The zsh/cap module is used for manipulating POSIX.1e (POSIX.6) capability sets. If the operating system does not support this interface, the builtins defined by this module will do nothing. The builtins in this module are:

  - `cap [ capabilities ]` - Change the shell’s process capability sets to the specified capabilities, otherwise display the shell’s current capabilities.

  - `getcap filename ...` - This is a built-in implementation of the POSIX standard utility. It displays the capability sets on each specified filename.

  - `setcap capabilities filename ...` This is a built-in implementation of the POSIX standard utility. It sets the capability sets on each specified filename to the specified capabilities.

    cd [ -qsLP ] [ arg ]
    cd [ -qsLP ] old new
    cd [ -qsLP ] {+|-}n

Change the current directory. In the first form, change the current directory to arg, or to the value of $HOME if arg is not specified. If arg is ‘-’, change to the previous directory.

`chdir`

Same as `cd`.

`clone`

See [The zsh/clone Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fclone-Module).

`command` [ `-pvV` ] *simple command*

The simple command argument is taken as an external command instead of a function or builtin and is executed. If the `POSIX_BUILTINS` option is set, builtins will also be executed but certain special properties of them are suppressed. The `-p` flag causes a default path to be searched instead of that in `$path`. With the `-v` flag, `command` is similar to `whence` and with `-V`, it is equivalent to `whence -v`.

See also [Precommand Modifiers](http://zsh.sourceforge.net/Doc/Release/Shell-Grammar.html#Precommand-Modifiers).

`comparguments`

See [The zsh/computil Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcomputil-Module).

`compcall`

See [The zsh/compctl Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcompctl-Module).

`compctl`

See [The zsh/compctl Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcompctl-Module).

`compdescribe`

See [The zsh/computil Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcomputil-Module).

`compfiles`

See [The zsh/computil Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcomputil-Module).

`compgroups`

See [The zsh/computil Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcomputil-Module).

`compquote`

See [The zsh/computil Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcomputil-Module).

`comptags`

See [The zsh/computil Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcomputil-Module).

`comptry`

See [The zsh/computil Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcomputil-Module).

`compvalues`

See [The zsh/computil Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fcomputil-Module).

`continue` [ *n* ]

Resume the next iteration of the enclosing `for`, `while`, `until`, `select` or `repeat` loop. If an arithmetic expression *n* is specified, break out of *n*-1 loops and resume at the *n*th enclosing loop.

`declare`

Same as `typeset`.

`dirs` [ `-c` ] [ *arg* ... ]

`dirs` [ `-lpv` ] - With no arguments, print the contents of the directory stack. Directories are added to this stack with the `pushd` command, and removed with the `cd` or `popd` commands. If arguments are specified, load them onto the directory stack, replacing anything that was there, and push the current directory onto the stack.
    - `-c` clear the directory stack.
    - `-l`-  print directory names in full instead of using of using `~` expressions ([Filename Expansion](http://zsh.sourceforge.net/Doc/Release/Expansion.html#Filename-Expansion)).
    - `-p` - print directory entries one per line.
    - `-v` - number the directories in the stack when printing.

`disable` [ `-afmprs` ] *name* ...

Temporarily disable the *name*d hash table elements or patterns. The default is to disable builtin commands.

  - see this page for more-  There are many options.

- 
  `disown` [ *job* ... ]
  *job* ... `&|`
  *job* ... `&!`

  Remove the specified *job*s from the job table; the shell will no longer report their status, and will not complain if you try to exit an interactive shell with them running or stopped. If no *job* is specified, disown the current job.

`echo` [ `-neE` ] [ *arg* ... ] -  Write each *arg* on the standard output, with a space separating each one. If the `-n` flag is not present, print a newline at the end. `echo` recognizes the following escape sequences:

   -  `\a` - bell character

  -  `\b` - backspace

  -  `\c` - suppress subsequent characters and final newline

  -  `\e` - escape

  -  `\f` - form feed

  -  `\n` - linefeed (newline)

  -  `\r` - carriage return

  -  `\t` - horizontal tab

  -  `\v` - vertical tab

  -  `\` - backslash

  -  `\0`*NNN* - character code in octal

  -  `\x`*NN* - character code in hexadecimal

  -  `\u`*NNNN* - unicode character code in hexadecimal

  -  `\U`*NNNNNNNN* - unicode character code in hexadecimal

The `-E` flag, or the `BSD_ECHO` option, can be used to disable these escape sequences. In the latter case, `-e` flag can be used to enable them.

  -  `echotc` - See [The zsh/termcap Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002ftermcap-Module).

  -  `echoti` - See [The zsh/terminfo Module](http://zsh.sourceforge.net/Doc/Release/Zsh-Modules.html#The-zsh_002fterminfo-Module).

  -  `emulate` [ `-lLR` ] [ {`zsh`|`sh`|`ksh`|`csh`} [ *flags* ... ] ] 
    - Without any argument print current emulation mode.
    - With single argument set up zsh options to emulate the specified shell as much as possible. *csh* will never be fully emulated

`g` [ *job* ... ]
*job* ...

  Bring each specified *job* in turn to the foreground. If no *job* is specified, resume the current job.

`float` [ {`+`|`-`}`Hghlprtux` ] [ {`+`|`-`}`EFLRZ` [ *n* ] ] [ *name*[`=`*value*] ... ]

Equivalent to `typeset -E`, except that options irrelevant to floating point numbers are not permitted.

`getln` [ `-AclneE` ] *name* ...

Read the top value from the buffer stack and put it in the shell parameter *name*. Equivalent to `read -zr`.

`getopts` *optstring* *name* [ *arg* ... ]

Checks the *arg*s for legal options. If the *arg*s are omitted, use the positional parameters. A valid option argument begins with a '`+`' or a '`-`'. An argument not beginning with a '`+`' or a '`-`', or the argument '`-``-`', ends the options. Note that a single '`-`' is not considered a valid option argument. *optstring* contains the letters that `getopts` recognizes. If a letter is followed by a '`:`', that option requires an argument. The options can be separated from the argument by blanks.

`hash` [ `-Ldfmrv` ] [ *name*[`=`*value*] ] ...

`hash` can be used to directly modify the contents of the command hash table, and the named directory hash table. Normally one would modify these tables by modifying one's `PATH` (for the command hash table) or by creating appropriate shell parameters (for the named directory hash table).

`jobs` [ `-dlprs` ] [ *job* ... ]

`jobs -Z` *string*

Lists information about each given job, or all jobs if *job* is omitted. The `-l` flag lists process IDs, and the `-p` flag lists process groups. If the `-r` flag is specified only running jobs will be listed and if the `-s` flag is given only stopped jobs are shown. If the `-d` flag is given, the directory from which the job was started (which may not be the current directory of the job) will also be shown.


`kill` [ `-s` *signal_name* | `-n` *signal_number* | `-`*sig* ] *job* ...

`kill` `-l` [ *sig* ... ]

Sends either `SIGTERM` or the specified signal to the given jobs or processes. Signals are given by number or by names, with or without the '`SIG`' prefix. If the signal being sent is not '`KILL`' or '`CONT`', then the job will be sent a '`CONT`' signal if it is stopped. The argument *job* can be the process ID of a job not in the job list. In the second form, `kill -l`, if *sig* is not specified the signal names are listed.
`let` *arg* ...

Evaluate each *arg* as an arithmetic expression. See [Arithmetic Evaluation](http://zsh.sourceforge.net/Doc/Release/Arithmetic-Evaluation.html#Arithmetic-Evaluation) for a description of arithmetic expressions. The exit status is 0 if the value of the last expression is nonzero, 1 if it is zero, and 2 if an error occurred.

`limit` [ `-hs` ] [ *resource* [ *limit* ] ] ...

Set or display resource limits. Unless the `-s` flag is given, the limit applies only the children of the shell. If `-s` is given w

!!!Note Too many of these, will leave it here

After including Print:

### Print

`print `[ `-abcDilmnNoOpPrsSz` ] [ `-u` *n* ] [ `-f` *format* ] [ `-C` *cols* ]

[ `-v` *name* ] [ `-xX` *tabstop* ] [ `-R` [ `-en` ]] [ *arg* ... ]

With the '`-f`' option the arguments are printed as described by `printf`. With no flags or with the flag '`-`', the arguments are printed on the standard output as described by `echo`, with the following differences: the escape sequence '`\M-`*x*' (or '`\M`*x*') metafies the character *x* (sets the highest bit), '`\C-`*x*' (or '`\C`*x*') produces a control character ('`\C-@`' and '`\C-?`' give the characters NULL and delete), a character code in octal is represented by '`\`*NNN*' (instead of '`\0`*NNN*'), and '`\E`' is a synonym for '`\e`'. Finally, if not in an escape sequence, '`\`' escapes the following character and is not printed.

  -  `-a` - Print arguments with the column incrementing first. Only useful with the `-c` and `-C` options.

  -  `-b` - Recognize all the escape sequences defined for the `bindkey` command, see [Zle Builtins](http://zsh.sourceforge.net/Doc/Release/Zsh-Line-Editor.html#Zle-Builtins).

  -  `-c` - Print the arguments in columns. Unless `-a` is also given, arguments are printed with the row incrementing first.

  -  `-C` *cols* - Print the arguments in *cols* columns. Unless `-a` is also given, arguments are printed with the row incrementing first.

  -  `-D` - Treat the arguments as paths, replacing directory prefixes with `~` expressions corresponding to directory names, as appropriate.

  -  `-i` - If given together with `-o` or `-O`, sorting is performed case-independently.

  -  `-l` - Print the arguments separated by newlines instead of spaces. Note: if the list of arguments is empty, `print -l` will still output one empty line. To print a possibly-empty list of arguments one per line, use `print -C1`, as in '`print -rC1 -- "$list[@]"`'.

  -  `-m` - Take the first argument as a pattern (should be quoted), and remove it from the argument list together with subsequent arguments that do not match this pattern.

  -  `-n` - Do not add a newline to the output.

  -  `-N` - Print the arguments separated and terminated by nulls. Again, `print -rNC1 -- "$list[@]"` is a canonical way to print an arbitrary list as null-delimited records.

  -  `-o` - Print the arguments sorted in ascending order.

  -  `-O` - Print the arguments sorted in descending order.

  -  `-p` - Print the arguments to the input of the coprocess.

  -  `-P` - Perform prompt expansion (see [Prompt Expansion](http://zsh.sourceforge.net/Doc/Release/Prompt-Expansion.html#Prompt-Expansion)). In combination with '`-f`', prompt escape sequences are parsed only within interpolated arguments, not within the format string.

  -  `-r` - Ignore the escape conventions of `echo`.

  -  `-R` - Emulate the BSD `echo` command, which does not process escape sequences unless the `-e` flag is given. The `-n` flag suppresses the trailing newline. Only the `-e` and `-n` flags are recognized after `-R`; all other arguments and options are printed.

  -  `-s` - Place the results in the history list instead of on the standard output. Each argument to the `print` command is treated as a single word in the history, regardless of its content.

  -  `-S` - Place the results in the history list instead of on the standard output. In this case only a single argument is allowed; it will be split into words as if it were a full shell command line. The effect is similar to reading the line from a history file with the `HIST_LEX_WORDS` option active.

  -  `-u` *n* - Print the arguments to file descriptor *n*.

  -  `-v` *name* - Store the printed arguments as the value of the parameter *name*.

  -  `-x` *tab-stop* - Expand leading tabs on each line of output in the printed string assuming a tab stop every *tab-stop* characters. This is appropriate for formatting code that may be indented with tabs. Note that leading tabs of any argument to print, not just the first, are expanded, even if `print` is using spaces to separate arguments (the column count is maintained across arguments but may be incorrect on output owing to previous unexpanded tabs).

The start of the output of each print command is assumed to be aligned with a tab stop. Widths of multibyte characters are handled if the option `MULTIBYTE` is in effect. This option is ignored if other formatting options are in effect, namely column alignment or `printf` style, or if output is to a special location such as shell history or the command line editor.

  -  `-X` *tab-stop* - This is similar to `-x`, except that all tabs in the printed string are expanded. This is appropriate if tabs in the arguments are being used to produce a table format.

  -  `-z` - Push the arguments onto the editing buffer stack, separated by spaces.

If any of '`-m`', '`-o`' or '`-O`' are used in combination with '`-f`' and there are no arguments (after the removal process in the case of '`-m`') then nothing is printed.

`printf` [ `-v` *name* ] *format* [ *arg* ... ]

Print the arguments according to the format specification. Formatting rules are the same as used in C. The same escape sequences as for `echo` are recognised in the format. All C conversion specifications ending in one of `csdiouxXeEfgGn` are handled. In addition to this, '`%b`' can be used instead of '`%s`' to cause escape sequences in the argument to be recognised and '`%q`' can be used to quote the argument in such a way that allows it to be reused as shell input. With the numeric format specifiers, if the corresponding argument starts with a quote character, the numeric value of the following character is used as the number to print; otherwise the argument is evaluated as an arithmetic expression. See [Arithmetic Evaluation](http://zsh.sourceforge.net/Doc/Release/Arithmetic-Evaluation.html#Arithmetic-Evaluation) for a description of arithmetic expressions. With '`%n`', the corresponding argument is taken as an identifier which is created as an integer parameter.

Normally, conversion specifications are applied to each argument in order but they can explicitly specify the *n*th argument is to be used by replacing '`%`' by '`%`*n*`$`' and '`*`' by '`*`*n*`$`'. It is recommended that you do not mix references of this explicit style with the normal style and the handling of such mixed styles may be subject to future change.

If arguments remain unused after formatting, the format string is reused until all arguments have been consumed. With the `print` builtin, this can be suppressed by using the `-r` option. If more arguments are required by the format than have been specified, the behaviour is as if zero or an empty string had been specified as the argument.

The `-v` option causes the output to be stored as the value of the parameter *name*, instead of printed. If *name* is an array and the format string is reused when consuming arguments then one array element will be used for each use of the format string.


### 'Prompt` expansion

[Source- Verbatim](http://zsh.sourceforge.net/Doc/Release/Prompt-Expansion.html#Prompt-Expansion)


* * * * *
#### 13.1 Expansion of Prompt Sequences
* * * * *

Prompt sequences undergo a special form of expansion. This type of expansion is also available using the `-P` option to the `print` builtin.

If the `PROMPT_SUBST` option is set, the prompt string is first subjected to *parameter expansion*, *command substitution* and *arithmetic expansion*. See [Expansion](http://zsh.sourceforge.net/Doc/Release/Expansion.html#Expansion).

Certain escape sequences may be recognised in the prompt string.

If the `PROMPT_BANG` option is set, a '`!`' in the prompt is replaced by the current history event number. A literal '`!`' may then be represented as '`!!`'.

If the `PROMPT_PERCENT` option is set, certain escape sequences that start with '`%`' are expanded. Many escapes are followed by a single character, although some of these take an optional integer argument that should appear between the '`%`' and the next character of the sequence. More complicated escape sequences are available to provide conditional expansion.

* * * * *

#### 13.2 Simple Prompt Escapes

* * * * *

##### 13.2.1 Special characters

`%%` -> An '`%`'.

`%)` -> A '`)`'.

* * * * *

##### 13.2.2 Login information

  -  `%l` - The line (tty) the user is logged in on, without '`/dev/`' prefix. If the name starts with '`/dev/tty`', that prefix is stripped.

  -  `%M` - The full machine hostname.

  -  `%m` - The hostname up to the first '`.`'. An integer may follow the '`%`' to specify how many components of the hostname are desired. With a negative integer, trailing components of the hostname are shown.

  -  `%n` - `$USERNAME`.

  -  `%y` - The line (tty) the user is logged in on, without '`/dev/`' prefix. This does not treat '`/dev/tty`' names specially.

* * * * *
##### 13.2.3 Shell state

  -  `%#` - A '`#`' if the shell is running with privileges, a '`%`' if not. Equivalent to '`%(!.#.%%)`'. The definition of 'privileged', for these purposes, is that either the effective user ID is zero, or, if POSIX.1e capabilities are supported, that at least one capability is raised in either the Effective or Inheritable capability vectors.

  -  `%?` - The return status of the last command executed just before the prompt.

  -  `%_` - The status of the parser, i.e. the shell constructs (like '`if`' and '`for`') that have been started on the command line. If given an integer number that many strings will be printed; zero or negative or no integer means print as many as there are. This is most useful in prompts `PS2` for continuation lines and `PS4` for debugging with the `XTRACE` option; in the latter case it will also work non-interactively.

  -  `%^` - The status of the parser in reverse. This is the same as '`%_`' other than the order of strings. It is often used in `RPS2`.

  -  `%d` or `%/` - Current working directory. If an integer follows the '`%`', it specifies a number of trailing components of the current working directory to show; zero means the whole path. A negative integer specifies leading components, i.e. `%-1d` specifies the first component.

        ❯ print -P %d
          /mnt/o/OneDrive/Programming/C++/CLionProj/OOPCPP/MiniProj1.3/lib/TermOx
      ❯ print -P %3d
          MiniProj1.3/lib/TermOx
      ❯ print -P %-3d
          /mnt/o/OneDrive

  -  `%~` - As `%d` and `%/`, but if the current working directory starts with `$HOME`, that part is replaced by a '`~`'. Furthermore, if it has a named directory as its prefix, that part is replaced by a '`~`' followed by the name of the directory, but only if the result is shorter than the full path; [Filename Expansion](http://zsh.sourceforge.net/Doc/Release/Expansion.html#Filename-Expansion).

  -  `%e` - Evaluation depth of the current sourced file, shell function, or `eval`. This is incremented or decremented every time the value of `%N` is set or reverted to a previous value, respectively. This is most useful for debugging as part of `$PS4`.

  -  `%h` or `%!` - Current history event number.

  -  `%i` - The line number currently being executed in the script, sourced file, or shell function given by `%N`. This is most useful for debugging as part of `$PS4`.

  -  `%I` - The line number currently being executed in the file `%x`. This is similar to `%i`, but the line number is always a line number in the file where the code was defined, even if the code is a shell function.

  -  `%j` - The number of jobs.

  -  `%L` - The current value of `$SHLVL`.

  -  `%N` - The name of the script, sourced file, or shell function that zsh is currently executing, whichever was started most recently. If there is none, this is equivalent to the parameter `$0`. An integer may follow the '`%`' to specify a number of trailing path components to show; zero means the full path. A negative integer specifies leading components.

  -  `%x` - The name of the file containing the source code currently being executed. This behaves as `%N` except that function and eval command names are not shown, instead the file where they were defined.

`%c` |  `%.`  |  `%C`  - Trailing component of the current working directory. An integer may follow the '`%`' to get more than one component. Unless '`%C`' is used, tilde contraction is performed first. These are deprecated as `%c` and `%C` are equivalent to `%1~` and `%1/`, respectively, while explicit positive integers have the same effect as for the latter two sequences.

* * * * *
##### 13.2.4 Date and time

  -  `%D` - The date in *yy*`-`*mm*`-`*dd* format.

  -  `%T` - Current time of day, in 24-hour format.

  -  `%t` | `%@` - Current time of day, in 12-hour, am/pm format.

  -  `%*` - Current time of day in 24-hour format, with seconds.

  -  `%w` - The date in *day*`-`*dd* format.

  -  `%W` - The date in *mm*`/`*dd*`/`*yy* format.

  -  `%D{`*string*`}` - *string* is formatted using the `strftime` function. See man page strftime(3) for more details. Various zsh extensions provide numbers with no leading zero or space if the number is a single digit:

  -  `%f` - a day of the month

  -  `%K` - the hour of the day on the 24-hour clock

  -  `%L` - the hour of the day on the 12-hour clock

In addition, if the system supports the POSIX `gettimeofday` system call, `%.` provides decimal fractions of a second since the epoch with leading zeroes. By default three decimal places are provided, but a number of digits up to 9 may be given following the `%`; hence `%6.` outputs microseconds, and `%9.` outputs nanoseconds. (The latter requires a nanosecond-precision `clock_gettime`; systems lacking this will return a value multiplied by the appropriate power of 10.) A typical example of this is the format '`%D{%H:%M:%S.%.}`'.

The GNU extension `%N` is handled as a synonym for `%9.`.

Additionally, the GNU extension that a '`-`' between the `%` and the format character causes a leading zero or space to be stripped is handled directly by the shell for the format characters `d`, `f`, `H`, `k`, `l`, `m`, `M`, `S` and `y`; any other format characters are provided to the system's strftime(3) with any leading '`-`' present, so the handling is system dependent. Further GNU (or other) extensions are also passed to strftime(3) and may work if the system supports them.

* * * * *

##### 13.2.5 Visual effects

  -  `%B` (`%b`) - Start (stop) boldface mode.

  -  `%E` - Clear to end of line.

  -  `%U` (`%u`) - Start (stop) underline mode.

  -  `%S` (`%s`) - Start (stop) standout mode.

  -  `%F` (`%f`) - Start (stop) using a different foreground colour, if supported by the terminal. The colour may be specified two ways: either as a numeric argument, as normal, or by a sequence in braces following the `%F`, for example `%F{red}`. In the latter case the values allowed are as described for the `fg` `zle_highlight` attribute; [Character Highlighting](http://zsh.sourceforge.net/Doc/Release/Zsh-Line-Editor.html#Character-Highlighting). This means that numeric colours are allowed in the second format also.

  -  `%K` (`%k`) - Start (stop) using a different bacKground colour. The syntax is identical to that for `%F` and `%f`.

  -  `%{`...`%}` - Include a string as a literal escape sequence. The string within the braces should not change the cursor position. Brace pairs can nest.

    - A positive numeric argument between the `%` and the `{` is treated as described for `%G` below.

  -  `%G` - Within a `%{`...`%}` sequence, include a 'glitch': that is, assume that a single character width will be output. This is useful when outputting characters that otherwise cannot be correctly handled by the shell, such as the alternate character set on some terminals. The characters in question can be included within a `%{`...`%}` sequence together with the appropriate number of `%G` sequences to indicate the correct width. An integer between the '`%`' and '`G`' indicates a character width other than one. Hence `%{`*seq*`%2G%}` outputs *seq* and assumes it takes up the width of two standard characters.
    - Multiple uses of `%G` accumulate in the obvious fashion; the position of the `%G` is unimportant. Negative integers are not handled.
    - Note that when prompt truncation is in use it is advisable to divide up output into single characters within each `%{`...`%}` group so that the correct truncation point can be found.

* * * * *
#### 13.3 Conditional Substrings in Prompts
--------------------------------------

-  `%v` - The value of the first element of the `psvar` array parameter. Following the '`%`' with an integer gives that element of the array. Negative integers count from the end of the array.

-  `%(`*x*`.`*true-text*`.`*false-text*`)` - Specifies a ternary expression. The character following the *x* is arbitrary; the same character is used to separate the text for the 'true' result from that for the 'false' result. This separator may not appear in the *true-text*, except as part of a %-escape sequence. A '`)`' may appear in the *false-text* as '`%)`'. *true-text* and *false-text* may both contain arbitrarily-nested escape sequences, including further ternary expressions.

    - The left parenthesis may be preceded or followed by a positive integer *n*, which defaults to zero. A negative integer will be multiplied by -1, except as noted below for '`l`'. The test character *x* may be any of the following:

  -  `!` - True if the shell is running with privileges.

  -  `#` - True if the effective uid of the current process is *n*.

  -  `?` - True if the exit status of the last command was *n*.

  -  `_` - True if at least *n* shell constructs were started.
- `C` |  `/` - True if the current absolute path has at least *n* elements relative to the root directory, hence `/` is counted as 0 elements.
- `c`  | `.`  |   `~` - True if the current path, with prefix replacement, has at least *n* elements relative to the root directory, hence `/` is counted as 0 elements.
- `D` - True if the month is equal to *n* (January = 0).



-  `d` - True if the day of the month is equal to *n*.

-  `e` - True if the evaluation depth is at least *n*.

-  `g` - True if the effective gid of the current process is *n*.

-  `j` - True if the number of jobs is at least *n*.

-  `L` - True if the `SHLVL` parameter is at least *n*.

-  `l` - True if at least *n* characters have already been printed on the current line. When *n* is negative, true if at least `abs``(`*n*`)` characters remain before the opposite margin (thus the left margin for `RPROMPT`).

-  `S` - True if the `SECONDS` parameter is at least *n*.

-  `T` - True if the time in hours is equal to *n*.

-  `t` - True if the time in minutes is equal to *n*.

-  `v` - True if the array `psvar` has at least *n* elements.

-  `V` - True if element *n* of the array `psvar` is set and non-empty.

-  `w` - True if the day of the week is equal to *n* (Sunday = 0).

-  `%<`*string*`<`  |  `%>`*string*`>` | `%[`*xstring*`]` - Specifies truncation behaviour for the remainder of the prompt string. The third, deprecated, form is equivalent to '`%`*xstringx*', i.e. *x* may be '`<`' or '`>`'. The *string* will be displayed in place of the truncated portion of any string; note this does not undergo prompt expansion.

The numeric argument, which in the third form may appear immediately after the '`[`', specifies the maximum permitted length of the various strings that can be displayed in the prompt. In the first two forms, this numeric argument may be negative, in which case the truncation length is determined by subtracting the absolute value of the numeric argument from the number of character positions remaining on the current prompt line. If this results in a zero or negative length, a length of 1 is used. In other words, a negative argument arranges that after truncation at least *n* characters remain before the right margin (left margin for `RPROMPT`).

The forms with '`<`' truncate at the left of the string, and the forms with '`>`' truncate at the right of the string. For example, if the current directory is '`/home/pike`', the prompt '`%8<..<%/`' will expand to '`..e/pike`'. In this string, the terminating character ('`<`', '`>`' or '`]`'), or in fact any character, may be quoted by a preceding '`\`'; note when using `print -P`, however, that this must be doubled as the string is also subject to standard `print` processing, in addition to any backslashes removed by a double quoted string: the worst case is therefore '`print -P "%<\\<<..."`'.

If the *string* is longer than the specified truncation length, it will appear in full, completely replacing the truncated string.

The part of the prompt string to be truncated runs to the end of the string, or to the end of the next enclosing group of the '`%(`' construct, or to the next truncation encountered at the same grouping level (i.e. truncations inside a '`%(`' are separate), which ever comes first. In particular, a truncation with argument zero (e.g., '`%<<`') marks the end of the range of the string to be truncated while turning off truncation from there on. For example, the prompt '`%10<...<%~%<<%# `' will print a truncated representation of the current directory, followed by a '`%`' or '`#`', followed by a space. Without the '`%<<`', those two characters would be included in the string to be truncated. Note that '`%-0<<`' is not equivalent to '`%<<`' but specifies that the prompt is truncated at the right margin.

Truncation applies only within each individual line of the prompt, as delimited by embedded newlines (if any). If the total length of any line of the prompt after truncation is greater than the terminal width, or if the part to be truncated contains embedded newlines, truncation behavior is undefined and may change in a future version of the shell. Use '`%-`*n*`(l.`*true-text*`.`*false-text*`)`' to remove parts of the prompt when the available space is less than *n*.

### ZSH Execute Menu

[[ctrl]] +[[shift]] [[x]]accesses

_bash_complete-word
_bash_list-choices
_complete_debug
_complete_help
_complete_tag
_correct_filename
_correct_word
_expand_alias
_expand_word
_history-complete-newer
_history-complete-older
_list_expansions
_most_recent_file
_next_tags
_read_comp
._p9k_orig_clear-screen
._p9k_orig_deactivate-region
._p9k_orig_overwrite-mode
._p9k_orig_send-break
._p9k_orig_vi-replace
._p9k_orig_visual-line-mode
._p9k_orig_visual-mode
._p9k_orig_zle-line-finish
._p9k_orig_zle-line-init
.accept-and-hold
.accept-and-infer-next-history
.accept-and-menu-complete
.accept-line
.accept-line-and-down-history
.accept-search
.argument-base
.auto-suffix-remove
.auto-suffix-retain
.backward-char
.backward-delete-char
.backward-delete-word
.backward-kill-line
.backward-kill-word
.backward-word
.beep
.beginning-of-buffer-or-history
.beginning-of-history
.beginning-of-line
.beginning-of-line-hist
.bracketed-paste
.capitalize-word
.clear-screen
.complete-word
.copy-prev-shell-word
.copy-prev-word
.copy-region-as-kill
.deactivate-region
.delete-char
.delete-char-or-list
.delete-word
.describe-key-briefly
.digit-argument
.down-case-word
.down-history
.down-line
.down-line-or-history
.down-line-or-search
.emacs-backward-word
.emacs-forward-word
.end-of-buffer-or-history
.end-of-history
.end-of-line
.end-of-line-hist
.end-of-list
.exchange-point-and-mark
.execute-last-named-cmd
.execute-named-cmd
.expand-cmd-path
.expand-history
.expand-or-complete
.expand-or-complete-prefix
.expand-word
.forward-char
.forward-word
.get-line
.gosmacs-transpose-chars
.history-beginning-search-backward
.history-beginning-search-forward
.history-incremental-pattern-search-backward
.history-incremental-pattern-search-forward
.history-incremental-search-backward
.history-incremental-search-forward
.history-search-backward
.history-search-forward
.infer-next-history
.insert-last-word
.kill-buffer
.kill-line
.kill-region
.kill-whole-line
.kill-word
.list-choices
.list-expand
.magic-space
.menu-complete
.menu-expand-or-complete
.menu-select
.neg-argument
.overwrite-mode
.pound-insert
.push-input
.push-line
.push-line-or-edit
.put-replace-selection
.quote-line
.quote-region
.quoted-insert
.read-command
.recursive-edit
.redisplay
.redo
.reset-prompt
.reverse-menu-complete
.run-help
.select-a-blank-word
.select-a-shell-word
.select-a-word
.select-in-blank-word
.select-in-shell-word
.select-in-word
.self-insert
.self-insert-unmeta
.send-break
.set-local-history
.set-mark-command
.spell-word
.split-undo
.transpose-chars
.transpose-words
.undefined-key
.undo
.universal-argument
.up-case-word
.up-history
.up-line
.up-line-or-history
.up-line-or-search
.vi-add-eol
.vi-add-next
.vi-backward-blank-word
.vi-backward-blank-word-end
.vi-backward-char
.vi-backward-delete-char
.vi-backward-kill-word
.vi-backward-word
.vi-backward-word-end
.vi-beginning-of-line
.vi-caps-lock-panic
.vi-change
.vi-change-eol
.vi-change-whole-line
.vi-cmd-mode
.vi-delete
.vi-delete-char
.vi-digit-or-beginning-of-line
.vi-down-case
.vi-down-line-or-history
.vi-end-of-line
.vi-fetch-history
.vi-find-next-char
.vi-find-next-char-skip
.vi-find-prev-char
.vi-find-prev-char-skip
.vi-first-non-blank
.vi-forward-blank-word
.vi-forward-blank-word-end
.vi-forward-char
.vi-forward-word
.vi-forward-word-end
.vi-goto-column
.vi-goto-mark
.vi-goto-mark-line
.vi-history-search-backward
.vi-history-search-forward
.vi-indent
.vi-insert
.vi-insert-bol
.vi-join
.vi-kill-eol
.vi-kill-line
.vi-match-bracket
.vi-open-line-above
.vi-open-line-below
.vi-oper-swap-case
.vi-pound-insert
.vi-put-after
.vi-put-before
.vi-quoted-insert
.vi-repeat-change
.vi-repeat-find
.vi-repeat-search
.vi-replace
.vi-replace-chars
.vi-rev-repeat-find
.vi-rev-repeat-search
.vi-set-buffer
.vi-set-mark
.vi-substitute
.vi-swap-case
.vi-undo-change
.vi-unindent
.vi-up-case
.vi-up-line-or-history
.vi-yank
.vi-yank-eol
.vi-yank-whole-line
.visual-line-mode
.visual-mode
.what-cursor-position
.where-is
.which-command
.yank
.yank-pop
accept-and-hold
accept-and-infer-next-history
accept-and-menu-complete
accept-line
accept-line-and-down-history
accept-search
argument-base
auto-suffix-remove
auto-suffix-retain
backward-char
backward-delete-char
backward-delete-word
backward-kill-line
backward-kill-word
backward-word
beep
beginning-of-buffer-or-history
beginning-of-history
beginning-of-line
beginning-of-line-hist
bracketed-paste
capitalize-word
clear-screen
complete-word
copy-prev-shell-word
copy-prev-word
copy-region-as-kill
deactivate-region
delete-char
delete-char-or-list
delete-word
describe-key-briefly
digit-argument
down-case-word
down-history
down-line
down-line-or-beginning-search
down-line-or-history
down-line-or-search
edit-command-line
emacs-backward-word
emacs-forward-word
end-of-buffer-or-history
end-of-history
end-of-line
end-of-line-hist
end-of-list
exchange-point-and-mark
execute-last-named-cmd
execute-named-cmd
execute: _
expand-cmd-path
expand-history
expand-or-complete
expand-or-complete-prefix
expand-word
forward-char
forward-word
fuck-command-line
get-line
gosmacs-transpose-chars
history-beginning-search-backward
history-beginning-search-forward
history-incremental-pattern-search-backward
history-incremental-pattern-search-forward
history-incremental-search-backward
history-incremental-search-forward
history-search-backward
history-search-forward
infer-next-history
insert-last-word
kill-buffer
kill-line
kill-region
kill-whole-line
kill-word
list-choices
list-expand
magic-space
menu-complete
menu-expand-or-complete
menu-select
neg-argument
orig-s0.0000020000-r10082-_bash_complete-word
orig-s0.0000020000-r10082-_bash_list-choices
orig-s0.0000020000-r10082-_complete_debug
orig-s0.0000020000-r10082-_complete_help
orig-s0.0000020000-r10082-_complete_tag
orig-s0.0000020000-r10082-_correct_filename
orig-s0.0000020000-r10082-_correct_word
orig-s0.0000020000-r10082-_expand_alias
orig-s0.0000020000-r10082-_expand_word
orig-s0.0000020000-r10082-_history-complete-newer        vi-repeat-find
orig-s0.0000020000-r10082-_history-complete-older        vi-repeat-search
orig-s0.0000020000-r10082-_list_expansions
orig-s0.0000020000-r10082-_most_recent_file
orig-s0.0000020000-r10082-_next_tags
orig-s0.0000020000-r10082-_read_comp
orig-s0.0000020000-r10082-bracketed-paste
orig-s0.0000020000-r10082-complete-word
orig-s0.0000020000-r10082-delete-char-or-list
orig-s0.0000020000-r10082-down-line-or-beginning-search  vi-swap-case
orig-s0.0000020000-r10082-edit-command-line
orig-s0.0000020000-r10082-expand-or-complete
orig-s0.0000020000-r10082-expand-or-complete-prefix      vi-up-case
orig-s0.0000020000-r10082-fuck-command-line
orig-s0.0000020000-r10082-list-choices
orig-s0.0000020000-r10082-menu-complete
orig-s0.0000020000-r10082-menu-expand-or-complete        vi-yank-whole-line
orig-s0.0000020000-r10082-reverse-menu-complete
orig-s0.0000020000-r10082-self-insert
orig-s0.0000020000-r10082-up-line-or-beginning-search    what-cursor-position
orig-s0.0000020000-r10082-zle-line-finish
orig-s0.0000020000-r10082-zle-line-init
overwrite-mode
pound-insert
push-input
push-line
push-line-or-edit
put-replace-selection
quote-line
quote-region
quoted-insert
read-command
recursive-edit
redisplay
redo
reset-prompt
reverse-menu-complete
run-help
select-a-blank-word
select-a-shell-word
select-a-word
select-in-blank-word
select-in-shell-word
select-in-word
self-insert
self-insert-unmeta
send-break
set-local-history
set-mark-command
spell-word
split-undo
transpose-chars
transpose-words
undefined-key
undo
universal-argument
up-case-word
up-history
up-line
up-line-or-beginning-search
up-line-or-history
up-line-or-search
vi-add-eol
vi-add-next
vi-backward-blank-word
vi-backward-blank-word-end
vi-backward-char
vi-backward-delete-char
vi-backward-kill-word
vi-backward-word
vi-backward-word-end
vi-beginning-of-line
vi-caps-lock-panic
vi-change
vi-change-eol
vi-change-whole-line
vi-cmd-mode
vi-delete
vi-delete-char
vi-digit-or-beginning-of-line
vi-down-case
vi-down-line-or-history
vi-end-of-line
vi-fetch-history
vi-find-next-char
vi-find-next-char-skip
vi-find-prev-char
vi-find-prev-char-skip
vi-first-non-blank
vi-forward-blank-word
vi-forward-blank-word-end
vi-forward-char
vi-forward-word
vi-forward-word-end
vi-goto-column
vi-goto-mark
vi-goto-mark-line
vi-history-search-backward
vi-history-search-forward
vi-indent
vi-insert
vi-insert-bol
vi-join
vi-kill-eol
vi-kill-line
vi-match-bracket
vi-open-line-above
vi-open-line-below
vi-oper-swap-case
vi-pound-insert
vi-put-after
vi-put-before
vi-quoted-insert
vi-repeat-change
vi-replace
vi-replace-chars
vi-rev-repeat-find
vi-rev-repeat-search
vi-set-buffer
vi-set-mark
vi-substitute
vi-undo-change
vi-unindent
vi-up-line-or-history
vi-yank
vi-yank-eol
visual-line-mode
visual-mode
where-is
which-command
yank
yank-pop
z4h-clear-screen-hard-top
z4h-clear-screen-soft-top
zle-isearch-update
zle-keymap-select
zle-line-finish
zle-line-init
zle-line-pre-redraw
## fonts


go in /usr/share/fonts

or in ~/.local/share/fonts


copy into the right dir

then run fc-cache -f -v


*journalctl -xe* lists the following locations 
`usr/share/fonts/x11/misc`
`usr/share/fonts/x11/Type1`


___
## Pi Notes

`sudo raspi-config`

passwd

`ssh Hostname@IP`

pi-HOLE now

now pihole
Hostname = pihole
user = pi
pass = summer1!
ssh pi@pihole
network configuration?

/etc/network/dhcpcd.conf



### Motion Eye

[Motion-Eye OS](https://github.com/ccrisan/motioneyeos)

[Releases](https://github.com/ccrisan/motioneyeos/releases)

#### Take image

raspistill -o /home/pi/Pictures/test.jpg

Flags:
- `-o` Output [Directory]
- `-vf` Vertical Flip
- `-hf` Horizontal Flip

#### Rebooting

`systemctl reboot -i`
or
`sudo reboot`

#### List network interface

`ip link show`

Show interface summary in a table
`netstat -i`

`ifconfig`


What you will need, in order to be able to establish this connection, are the following:

`ifconfig`: Enable your wireless device.
`iwlist`: List the available wireless access points.
`iwconfig`: Configure your wireless connection.
`dhclient`: Get your IP Address via dhcp.
`wpa_supplicant`: For use with WPA authentication.

Make sure you have all of the above tools o  your computer before you continue. To test for this tools you can, from within your terminal window, issue the commands:

which ifconfig
which iwlist
which iwconfig
which dhclient
which wpa_supplicant


`ifconfig wlan0 up`

Where wlan0 is the name of your wireless device (this is most often the default). The above command will bring your wireless device up so it is ready to use. 

scan for any wireless access points with the command:

`iwlist wlan0 scan`


ESSID: "NETWORK_NAME"

iwconfig wlan0 essid NETWORK_NAME key WIRELESS_KEY

Where NETWORK_NAME is the name of the network you want to connect to and WIRELESS_KEY is the security key for that network. NOTE: The iwconfig command defaults to HEX values for wireless keys. If you need to use ascii you have to prepend the “s” prefix to your key like so:

iwconfig wlan0 essid NETWORK_NAME key s:WIRELESS_KEY

With your connection made, you now have to get an IP address for your machine using the dhclient command like:

dhclient wlan0

#### "Unable to resolve hostname "hostname"

```bash
sudo nano /etc/hosts
#add:
127.0.0.1 hostname
```

#### Change enx***{MAC address} to eth0

Get regular net names back

(eth0) instead of the MAC address.

One of these works. Not sure which.

add `net.ifnames=0` to `/boot/cmdline.txt`

to
`/etc/udev/rules.d/70-persistent-net.rules`
add
`SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="b8:ac:6f:65:31:e5", ATTR{dev_id}=="0x0", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0"`

or

to `/etc/udev/rules.d/80-net-name-slot.rules` add `ln -s /dev/null`

or

```bash
#an almost functioning bash script
sudo -i
tempvar='SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="b8:ac:6f:65:31:e5", ATTR{dev_id}=="0x0", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0"'
echo $tempvar >> sudo nano /etc/udev/rules.d/70-persistent-net.rules

echo "/etc/udev/rules.d/80-net-name-slot.rules" >> ln -s /dev/null

echo "net.ifnames=0" >> /boot/cmdline.txt

cat /lib/udev/rules.d/73-usb-net-by-mac.rules
#note /lib dir instead of /etc
nano /lib/udev/rules.d/73-usb-net-by-mac.rules

#make
#the
#change


cp /lib/udev/rules.d/73-usb-net-by-mac.rules /etc/udev/rules.d/

exit

```

/lib/udev/rules.d/73-usb-net-by-mac.rules
Change:

```bash
ACTION=="add", SUBSYSTEM=="net", SUBSYSTEMS=="usb", NAME=="", \
ATTR{address}=="?[014589cd]:*", \
TEST!="/etc/udev/rules.d/80-net-setup-link.rules", \
IMPORT{builtin}="net_id", NAME="$env{ID_NET_NAME_MAC}"

#to

ACTION=="add", SUBSYSTEM=="net", SUBSYSTEMS=="usb", NAME=="", \
ATTR{address}=="?[014589cd]:*", \
TEST!="/etc/udev/rules.d/80-net-setup-link.rules", \
IMPORT{builtin}="net_id", NAME="eth0" #note change
```

Then run:

```bash
cp /lib/udev/rules.d/73-usb-net-by-mac.rules /etc/udev/rules.d/
```

and finally

add `net.ifnames=0` to `/boot/cmdline.txt` -- I added it above

/etc/dhcpcd.conf
interface eth0
static ip_address=192.168.1.3/22
static routers=192.168.1.254
static domain_name_servers=127.0.0.1
1982.168.2.1
192.168.1.254
1.1.1.1
1.0.0.1
8.8.8.8
8.8.4.4
68.69.156.9
68.94.157.9
99.99.99.53
99.99.99.153

FILES
- `/etc/dhcpcd.conf` - Configuration file for dhcpcd. If you always use the same options, put them here.
- `/usr/lib/dhcpcd/dhcpcd-run-hooks` - Bourne shell script that is run to configure or de-configure an interface.
- `/usr/lib/dhcpcd/dev` - /dev management modules.
- `/usr/lib/dhcpcd/dhcpcd-hooks` - A directory containing bourne shell scripts that are run by the above script. Each script can be disabled by using the -C, - -nohook option described above.
- `/var/lib/dhcpcd/duid` - Text file that holds the DUID used to identify the host.
- `/var/lib/dhcpcd/secret` - Text file that holds a secret key known only to the host.
- `/var/lib/dhcpcd/interface-ssid.lease` - The actual DHCP message sent by the server. We use this when reading the last lease and use the files mtime as when it was issued.
- `/var/lib/dhcpcd/interface-ssid.lease6` - The actual DHCPv6 message sent by the server. We use this when reading the last lease and use the files mtime as when it was issued.
- `/var/lib/dhcpcd/rdm_monotonic` - Stores the monotonic counter used in the replay field in Authentication Options.
- `/run/dhcpcd.pid` - Stores the PID of dhcpcd running on all interfaces.
- `/run/dhcpcd-interface.pid` - Stores the PID of dhcpcd running on the interface.
- `/run/dhcpcd.sock` - Control socket to the master daemon.
- `/run/dhcpcd.unpriv.sock` - Unprivileged socket to the master daemon, only allows state retrieval.
- `/run/dhcpcd-interface.sock` - Control socket to per interface daemon.


#### sudo (Superuser DO)

Get a root shell `sudo -i`
sudo -s for a non-login shell.
run a non interactive shell using root access: `sudo bash -c 'echo something >> /etc/somewhere/file'`

#### Print a file to the terminal

in otherwords see whats in a file

`cat [file]`

#### Append a line to a file

`>` Writes to a file (overwrites)
`>>` Appends

So youd think

```bash
sudo nano /home/test.txt
hello world
#Save and exit
"hello again" >> /home/test.txt
#would work, but it doesnt.  Permission denied

sudo echo "hello again" >> /home/test.txt
#correct syntax at least, still permission denied.   This is because sudo applies to echo not the write to file

#so either get a root shell
sudo -i
#or use `tee`

echo "hello again" | sudo tee /home/test.txt
echo "hello again" | sudo tee -a /home/test.txt

```


## Setting up Linux

## Users

`id`

`cat /etc/passwd`


https://www.lifewire.com/create-users-useradd-command-3572157


## Find a user's UID or GID in Unix

- To find a user's UID or GID in Unix, use the id command. To find a specific user's UID, at the Unix prompt, enter:
  - `id -u username`
- Replace username with the appropriate user's username. To find a user's GID, at the Unix prompt, enter:
  - `id -g username`
- If you wish to find out all the groups a user belongs to, instead enter:
  - `id -G username`
- If you wish to see the UID and all groups associated with a user, enter id without any options, as follows:
  - `id username`

nobody =  99
root = 0


### Adding Windows Network Share--


CURL https://getmic.ro | bash

`sudo apt-get installl nautilus-share`

`sudo apt autoremove` cleaned up 400 mb

$need GCC and fortran

sudo apt-get update
sudo apt install gcc
suro apt install gfortran

sudo add-apt-repository ppaLmarutter/c2d4u3.5

$to sources add R

nano /etc/apt/sources.list
        dep https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/

sudo add-apt-repository ppa:marutter/c2d4u
sudo add-apt-repository ppa:marutter/c2d4u3.5


sudo apt-get install r-base-dev
```bash
deb http://ppa.launchpad.net/marutter/c2d4u/ubuntu bionic main
deb-src http://ppa.launchpad.net/marutter/c2d4u/ubuntu bionic main
deb http://ppa.launchpad.net/marutter/c2d4u3.5/ubuntu bionic main
deb-src http://ppa.launchpad.net/marutter/c2d4u3.5/ubuntu bionic main
```
```

sudo nano /etc/default/grub
go to
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"
change to
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash video=hyperv_fb:2560x1600"
then write out ([[Ctrl]]+[[O]])
sudo update-grub
sudo apt-get install linux-image-extra-virtual

sudo apt-get update
sudo add-apt-repository ppa:git-core/ppa
sudo apt update;
sudo apt install git
git clone https://github.com/jterry75/xrdp-init.git ~/xrdp-init





```bash
sudo apt-get update
sudo add-apt-repository ppa:git-core/ppa
sudo apt update; sudo apt install git
git clone https://github.com/jterry75/xrdp-init.git ~/xrdp-init
```

1.2 Make the scripts executable and run them...

```bash
cd ~/xrdp-init/ubuntu/18.04/
sudo chmod +x install.sh
sudo ./install.sh
reboot
```


1.3 <After Reboot> Run script again to finish setting up VM

```bash
cd ~/xrdp-init/ubuntu/18.04/
sudo ./install.sh
Shutdown Ubuntu VM
```

Register Ubuntu Session ~ run this command on host PC using powershell with admin rights:

```ps1
Set-VM -VMName YourUbuntuVMNameHere -EnhancedSessionTransportType HvSocket
Restart VM
```
https://github.com/craigcabrey/luminance

git clone https://github.com/craigcabrey/luminance.git ~/luminance
sudo apt-get install libgtk-3-dev
sudo apt install python3-pip

[Themes](https://linuxconfig.org/how-to-install-gnome-on-ubuntu-18-04-bionic-beaver-linux)
To perform a vanilla installation of Gnome desktop execute the following linux command:

sudo apt install gnome-session gdm3
In order to install the full Ubuntu Gnome desktop use the tasksel command. In case the tasksel command is not available on your system you can install it by:

$ sudo apt install tasksel
Once the tasksel command is installed, begin the Gnome desktop installation by executing:

$ sudo tasksel install ubuntu-desktop
To start Gnome session on a system without a current graphical user interface (GUI), login to your console and execute:

$ sudo service gdm3 start

VNC Server

[VNC Howto](https://linuxconfig.org/vnc-server-on-ubuntu-18-04-bionic-beaver-linux)
 sudo apt install vnc4server xfce4 xfce4-goodies

#other things
sudo apt install gnome-tweaks
sudo apt install snapd
sudo apt install htop
sudo apt install
sudo apt install
sudo apt install

Paper Theme
sudo add-apt-repository -u ppa:snwh/ppa


sudo apt-get install paper-icon-theme

sudo dpkg -i paper*.deb


sudo apt-get install -f
tool

#deepin
sudo add-apt-repository ppa:leaeasy/dde
sudo apt-get update
sudo apt-get install dde
sudo apt install dde dde-file-manager
sudo apt install deepin-gtk-theme



Kubuntu
https://linuxconfig.org/how-to-install-kde-plasma-desktop-on-ubuntu-18-04-bionic-beaver-linux


 sudo tasksel install kubuntu-desktop
  sudo apt install sddm


f the sddm is already installed than try to reconfigure it in order to make sddm the default display manager for your system:

$ sudo dpkg-reconfigure sddm


**Resize LVM**
sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu $(lsb_release -sc) universe"
sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu xenial universe"

sudo apt-get update
sudo apt-get install system-config-lvm


## Enhanced HyperV Session

[Source](https://francescotonini.medium.com/how-to-install-ubuntu-20-04-on-hyper-v-with-enhanced-session-b20a269a5fa7)

[Author is here, though deprecated.](https://github.com/Microsoft/linux-vm-tools?WT.mc_id=-blog-scottha)


Running through windows quick connect has an image with it built in.  

Last official release was 18.03, unofficial with 20.04?




Setup enhanced session
On Ubuntu, open a terminal, download and run the setup script.
wget https://raw.githubusercontent.com/Microsoft/linux-vm-tools/master/ubuntu/18.04/install.sh
sudo chmod +x install.sh
sudo ./install.sh
If you receive an error at the end of the install script, there is one more thing to do. Using your favorite editor, open /etc/xrdp/xrdp.ini (sudo required) and add or edit the following lines:
port=vsock://-1:3389
use_vsock=false
Save the file and shutdown the VM. From Windows, open a PowerShell prompt with admin privileges and type:
Set-VM -VMName <your_vm_name>  -EnhancedSessionTransportType HvSocket
where <your_vm_name> is, well, the name of the VM (the one chosen at the start of the creation wizard).
There you go! Now start the VM and in a matter of seconds you will be redirected to the XRDP login page.


```sh

#!/bin/bash

#.
#This script is for Ubuntu 18.04 Bionic Beaver to download and install XRDP+XORGXRDP via
#source.
#.
#Major thanks to: http://c-nergy.be/blog/?p=11336 for the tips.
#.

###############################################################################.
#Use HWE kernel packages
#.
HWE=""
#HWE="-hwe-18.04"

###############################################################################.
#Update our machine to the latest code if we need to.
#.

if [ "$(id -u)" -ne 0 ]; then
    echo 'This script must be run with root privileges' >&2
    exit 1
fi

apt update && apt upgrade -y

if [ -f /var/run/reboot-required ]; then
    echo "A reboot is required in order to proceed with the install." >&2
    echo "Please reboot and re-run this script to finish the install." >&2
    exit 1
fi

###############################################################################.
#XRDP
#.

#Install hv_kvp utils
apt install -y linux-tools-virtual${HWE}
apt install -y linux-cloud-tools-virtual${HWE}

#Install the xrdp service so we have the auto start behavior
apt install -y xrdp

systemctl stop xrdp
systemctl stop xrdp-sesman

#Configure the installed XRDP ini files.
#use vsock transport.
sed -i_orig -e 's/use_vsock=false/use_vsock=true/g' /etc/xrdp/xrdp.ini
#use rdp security.
sed -i_orig -e 's/security_layer=negotiate/security_layer=rdp/g' /etc/xrdp/xrdp.ini
#remove encryption validation.
sed -i_orig -e 's/crypt_level=high/crypt_level=none/g' /etc/xrdp/xrdp.ini
#disable bitmap compression since its local its much faster
sed -i_orig -e 's/bitmap_compression=true/bitmap_compression=false/g' /etc/xrdp/xrdp.ini

#Add script to setup the ubuntu session properly
if [ ! -e /etc/xrdp/startubuntu.sh ]; then
cat >> /etc/xrdp/startubuntu.sh << EOF
#!/bin/sh
export GNOME_SHELL_SESSION_MODE=ubuntu
export XDG_CURRENT_DESKTOP=ubuntu:GNOME
exec /etc/xrdp/startwm.sh
EOF
chmod a+x /etc/xrdp/startubuntu.sh
fi

#use the script to setup the ubuntu session
sed -i_orig -e 's/startwm/startubuntu/g' /etc/xrdp/sesman.ini

#rename the redirected drives to 'shared-drives'
sed -i -e 's/FuseMountName=thinclient_drives/FuseMountName=shared-drives/g' /etc/xrdp/sesman.ini

#Changed the allowed_users
sed -i_orig -e 's/allowed_users=console/allowed_users=anybody/g' /etc/X11/Xwrapper.config

#Blacklist the vmw module
if [ ! -e /etc/modprobe.d/blacklist_vmw_vsock_vmci_transport.conf ]; then
cat >> /etc/modprobe.d/blacklist_vmw_vsock_vmci_transport.conf <<EOF
blacklist vmw_vsock_vmci_transport
EOF
fi

#Ensure hv_sock gets loaded
if [ ! -e /etc/modules-load.d/hv_sock.conf ]; then
echo "hv_sock" > /etc/modules-load.d/hv_sock.conf
fi

#Configure the policy xrdp session
cat > /etc/polkit-1/localauthority/50-local.d/45-allow-colord.pkla <<EOF
[Allow Colord all Users]
Identity=unix-user:*
Action=org.freedesktop.color-manager.create-device;org.freedesktop.color-manager.create-profile;org.freedesktop.color-manager.delete-device;org.freedesktop.color-manager.delete-profile;org.freedesktop.color-manager.modify-device;org.freedesktop.color-manager.modify-profile
ResultAny=no
ResultInactive=no
ResultActive=yes
EOF

#reconfigure the service
systemctl daemon-reload
systemctl start xrdp

#.
#End XRDP
###############################################################################.

echo "Install is complete."
echo "Reboot your machine to begin using XRDP."
```


## Samba Setup


[share]
    path = /home/pi/shared
    read only = no
    public = yes
    writable = yes



[share]
Comment = Pi shared folder
Path = /share
Browseable = yes
Writeable = Yes
only guest = no
create mask = 0777
directory mask = 0777
Public = yes
Guest ok = yes

From <https://magpi.raspberrypi.org/articles/samba-file-server> 


Other commands- 

where testparm
/usr/bin/

smbstatus  shows connections
smbtree shows shares
smbcacls
smbclient
smbcquotas
smbget
smbpasswd -sets the password
smbspool - prob printer related
smbtar
smbtree
sudo /etc/init.d/smbd restart

Mount the folder on the Raspberry Pi
Mounting in Linux is the process of attaching a folder to a location, so firstly we need that location.

mkdir windowshare


Now, we need to mount the remote folder to that location. The remote folder is the host name or IP address of the Windows PC, and the share name used when sharing it. We also need to provide the Windows username that will be used to access the remote machine.

sudo mount.cifs //<hostname or IP address>/share /home/pi/windowshare -o user=<name>

You should now be able to view the content of the Windows share on your Raspberry Pi.

cd windowshare
ls

Sharing a folder for use by Windows
Firstly, create a folder to share. This example creates a folder called shared in the home folder of the current user, and assumes the current user is pi.

cd ~
mkdir shared

Now we need to tell Samba to share this folder, using the Samba configuration file.

sudo nano /etc/samba/smb.conf

At the end of the file, add the following to share the folder, giving the remote user read/write permissions:

[share]
    path = /home/pi/shared
    read only = no
    public = yes
    writable = yes


In the same file, find the workgroup line, and if necessary, change it to the name of the workgroup of your local Windows network.

workgroup = <your workgroup name here>

That should be enough to share the folder. On your Windows device, when you browse the network, the folder should appear and you should be able to connect to it.




## Low Level Technical


### Signals

Get them:

`man 7 signal.` When in doubt, locate the exact man page and section using commands like

`man -k signal | grep list`

or

`apropos signal | grep list`


 Signal dispositions
       Each signal has a current disposition, which determines how the process behaves when it is delivered the
       signal.

       The entries in the "Action" column of the tables below specify the default disposition for each  signal,
       as follows:

       Term   Default action is to terminate the process.

       Ign    Default action is to ignore the signal.

       Core   Default action is to terminate the process and dump core (see core(5)).

       Stop   Default action is to stop the process.

       Cont   Default action is to continue the process if it is currently stopped.

   Sending a signal
       The following system calls and library functions allow the caller to send a signal:

       raise(3)        Sends a signal to the calling thread.

       kill(2)         Sends a signal to a specified process, to all members of a specified process  group,  or
                       to all processes on the system.

       killpg(3)       Sends a signal to all of the members of a specified process group.

       pthread_kill(3) Sends a signal to a specified POSIX thread in the same process as the caller.

       tgkill(2)       Sends  a  signal  to  a specified thread within a specific process.  (This is the system
                       call used to implement pthread_kill(3).)

       sigqueue(3)     Sends a real-time signal with accompanying data to a specified process.

   Waiting for a signal to be caught
       The following system calls suspend execution of the calling process or thread until a signal  is  caught
       (or an unhandled signal terminates the process):

       pause(2)        Suspends execution until any signal is caught.

       sigsuspend(2)   Temporarily  changes the signal mask (see below) and suspends execution until one of the
                       unmasked signals is caught.



Ctrl+C	The interrupt signal, sends SIGINT to the job running in the foreground.
Ctrl+Y	The delayed suspend character. Causes a running process to be stopped when it attempts to read input from the terminal. Control is returned to the shell, the user can foreground, background or kill the process. Delayed suspend is only available on operating systems supporting this feature.
Ctrl+Z	The suspend signal, sends a SIGTSTP to a running program, thus stopping it and returning control to the shell.

